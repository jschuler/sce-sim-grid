{"version":3,"sources":["webpack://sceSimGrid/webpack/universalModuleDefinition","webpack://sceSimGrid/./src/components/utils/jsonix.js","webpack://sceSimGrid/./src/components/utils/jsonixUtils.ts","webpack://sceSimGrid/./src/components/utils/useKeyPress.ts","webpack://sceSimGrid/./src/components/utils/misc.ts","webpack://sceSimGrid/./src/components/utils/useDebounce.ts","webpack://sceSimGrid/./src/components/Cell/Input.tsx","webpack://sceSimGrid/./src/components/Cell/Select.tsx","webpack://sceSimGrid/./src/components/Spinner/Spinner.tsx","webpack://sceSimGrid/./src/components/Editor/Editor.tsx","webpack://sceSimGrid/./src/components/Sidebar/Sidebar.tsx","webpack://sceSimGrid/./src/components/EditorContainer/scesimUtils.ts","webpack://sceSimGrid/./src/components/Toolbar/HelpModal.tsx","webpack://sceSimGrid/./src/components/Toolbar/Search.tsx","webpack://sceSimGrid/./src/components/Toolbar/ChangeTracker.tsx","webpack://sceSimGrid/./src/components/Toolbar/EditorToolbar.tsx","webpack://sceSimGrid/./src/components/EditorContainer/EditorContainer.tsx","webpack://sceSimGrid/./src/rules/dmn.js","webpack://sceSimGrid/./src/rules/scesim.js","webpack://sceSimGrid/external \"@patternfly/react-core\"","webpack://sceSimGrid/external \"@patternfly/react-core/dist/js/experimental\"","webpack://sceSimGrid/external \"@patternfly/react-icons\"","webpack://sceSimGrid/external \"classnames\"","webpack://sceSimGrid/external \"react\"","webpack://sceSimGrid/external \"react-infinite-scroll-component\"","webpack://sceSimGrid/webpack/bootstrap","webpack://sceSimGrid/webpack/startup","webpack://sceSimGrid/webpack/runtime/make namespace object","webpack://sceSimGrid/webpack/runtime/compat get default export","webpack://sceSimGrid/webpack/runtime/define property getters"],"names":["root","factory","exports","module","define","amd","window","_jsonix_xmldom","_jsonix_xmlhttprequest","_jsonix_fs","Jsonix","singleFile","Util","extend","destination","source","property","value","undefined","Class","parent","initialize","Type","this","apply","arguments","extended","empty","i","len","length","prototype","XML","XMLNS_NS","XMLNS_P","DOM","isDomImplementationAvailable","document","exists","implementation","isFunction","createDocument","DOMImplementation","ActiveXObject","Error","serialize","node","Ensure","ensureExists","XMLSerializer","serializeToString","xml","parse","text","DOMParser","parseFromString","doc","loadXML","url","encodeURIComponent","request","XMLHttpRequest","open","overrideMimeType","send","responseXML","load","callback","options","Request","INSTANCE","issue","transport","result","documentElement","isString","responseText","xlinkFixRequired","isXlinkFixRequired","navigator","userAgent","test","vendor","el","createElement","setAttributeNS","appendChild","testString","indexOf","factories","onSuccess","onFailure","ensureString","ensureFunction","ensureObject","createTransport","method","async","isBoolean","proxy","PROXY","user","password","isObject","headers","header","hasOwnProperty","setRequestHeader","data","that","onreadystatechange","handleTransport","setTimeout","readyState","status","index","e","CLASS_NAME","Schema","Model","isUndefined","isNumber","isNaN","isNumberOrNaN","Object","toString","call","isArray","concat","unshift","callee","isDate","getTimezoneOffset","setUTCFullYear","isRegExp","exec","ignoreCase","isNode","Node","nodeType","nodeName","isEqual","a","b","report","doReport","_keys","keys","obj","start","stop","step","args","slice","solo","start_","stop_","step_","Math","max","ceil","idx","range","Array","_range","key","atype","btype","getTime","global","multiline","aSerialized","bSerialized","aKeys","bKeys","andex","bndex","kndex","cloneObject","target","p","defaultValue","typeOfDefaultValue","candidateValue","NumberUtils","isInteger","StringUtils","trim","String","str","replace","isEmpty","c","isNotBlank","whitespaceCharacters","whitespaceCharactersMap","splitBySeparatorChars","separatorChars","split","list","sizePlus1","match","charAt","push","substring","ensureBoolean","ensureNumber","ensureNumberOrNaN","ensureInteger","ensureDate","Date","ensureArray","QName","namespaceURI","localPart","prefix","string","one","two","three","colonPosition","toCanonicalString","namespaceContext","getPrefix","clone","equals","fromString","qNameAsString","defaultNamespaceURI","prefixedName","leftBracket","rightBracket","lastIndexOf","getNamespaceURI","fromObject","object","lp","ns","fromObjectOrString","Calendar","year","NaN","month","day","hour","minute","second","fractionalSecond","timezone","date","validateYear","validateMonth","validateYearMonthDay","validateMonthDay","validateDay","validateHour","validateMinute","validateSecond","validateFractionalSecond","validateTimezone","initialDate","setUTCMonth","setUTCDate","setUTCHours","setUTCMinutes","setUTCSeconds","setUTCMilliseconds","timezoneOffset","MIN_TIMEZONE","MAX_TIMEZONE","DAYS_IN_MONTH","maxDaysInMonth","Input","attributes","eventType","pns","rootPnsItem","hasNext","next","enter","leave","firstChild","nextSibling","pushNS","nodeValue","popNS","nextSibling1","parentNode","getName","getNameKey","getText","nextTag","et","skipElement","START_ELEMENT","numberOfOpenTags","getElementText","content","retrieveElement","element","retrieveAttributes","getAttributeCount","getAttributeName","attribute","getAttributeNameKey","getAttributeValue","getAttributeValueNS","getAttributeValueNSViaElement","getAttributeNS","getAttributeValueNSViaAttribute","attributeNode","getAttributeNodeNS","getAttributeNodeNSViaElement","getAttributeNodeNSViaAttributes","potentialNode","getElement","pindex","parentPnsItem","pnsItem","reference","alength","aindex","attributeName","isNS","pop","END_ELEMENT","PROCESSING_INSTRUCTION","CHARACTERS","COMMENT","SPACE","START_DOCUMENT","END_DOCUMENT","ENTITY_REFERENCE","ATTRIBUTE","DTD","CDATA","NAMESPACE","NOTATION_DECLARATION","ENTITY_DECLARATION","Output","nodes","nsp","namespacePrefixIndex","xmldom","rootNspItem","namespacePrefixes","destroy","writeStartDocument","writeEndDocument","writeStartElement","name","qualifiedName","createElementNS","createNode","peek","declareNamespace","declareNamespaces","writeEndElement","writeCharacters","createTextNode","writeCdata","parts","jndex","writeCdataWithoutCdend","createCDATASection","writeAttribute","setAttribute","setAttributeNode","writeNode","importedNode","importNode","nindex","parentNspItem","nspItem","Mapping","Style","marshaller","unmarshaller","elementInfo","classInfo","enumLeafInfo","anyAttributePropertyInfo","anyElementPropertyInfo","attributePropertyInfo","elementMapPropertyInfo","elementPropertyInfo","elementsPropertyInfo","elementRefPropertyInfo","elementRefsPropertyInfo","valuePropertyInfo","STYLES","Styled","mappingStyle","standard","Binding","Marshalls","Element","marshalElement","context","output","scope","elementValue","convertToTypedNamedValue","declaredTypeInfo","typeInfo","actualTypeInfo","supportXsiType","typeInfoByValue","getTypeInfoByValue","typeName","xsiTypeName","xsiType","XSD","print","XSI","TYPE_QNAME","marshal","getTypeInfoByElementName","getElementInfo","AsElementRef","convertToNamedValue","propertyName","Unmarshalls","WrapperElement","mixed","unmarshalWrapperElement","input","unmarshalElement","allowTypedObject","allowDom","getTypeInfoByInputElement","typedNamedValue","unmarshal","convertFromTypedNamedValue","xsiTypeInfo","NAMESPACE_URI","TYPE","getTypeInfoByTypeNameKey","AsSimplifiedElementRef","Marshaller","marshalString","marshalDocument","Simplified","Unmarshaller","unmarshalString","unmarshalDocument","unmarshalURL","unmarshalFile","fileName","readFile","err","_result","TypeInfo","baseTypeInfo","isBasedOn","currentTypeInfo","ClassInfo","localName","instanceFactory","properties","propertiesMap","structure","targetNamespace","defaultElementNamespaceURI","defaultAttributeNamespaceURI","built","mapping","n","ln","dens","tns","dans","bti","inF","tn","ps","propertyInfos","getPropertyInfoByName","build","resolveTypeInfo","elements","anyAttribute","any","buildStructure","TYPE_NAME","attributeCount","attributeNameKey","attributeValue","unmarshalPropertyValue","propertyInfo","unmarshalProperty","elementNameKey","anyPropertyInfo","mixedPropertyInfo","propertyValue","setProperty","unmarshalValue","isMarshallable","isInstance","PropertyInfo","addProperty","type","t","propertyInfoCreators","aa","addDefaultNamespaces","ae","em","es","er","ers","v","EnumLeafInfo","entries","values","vs","items","reprint","ElementInfo","elementName","substitutionHead","en","ti","sh","sc","collection","col","mno","mxo","rq","required","minOccurs","maxOccurs","doBuild","AnyAttributePropertyInfo","convertFromAttributeName","convertToAttributeName","SingleTypePropertyInfo","AttributePropertyInfo","an","ValuePropertyInfo","cdata","asCDATA","AbstractElementsPropertyInfo","wrapperElementName","wen","item","buildStructureElements","ElementPropertyInfo","ElementsPropertyInfo","elementTypeInfos","elementTypeInfosMap","etis","elementTypeInfo","eti","etiti","etien","ElementMapPropertyInfo","entryTypeInfo","k","entry","collectionEntry","singleEntry","map","AbstractElementRefsPropertyInfo","dom","typed","mx","marshalItem","propertyElementTypeInfo","getPropertyElementTypeInfo","contextElementTypeInfo","buildStructureElementTypeInfos","substitutionMembers","getSubstitutionMembers","substitutionElementInfo","ElementRefPropertyInfo","ElementRefsPropertyInfo","AnyElementPropertyInfo","Module","typeInfos","elementInfos","tis","typeInfoName","initializeTypeInfos","eis","initializeElementInfos","typeInfoMappings","typeInfoMapping","createTypeInfo","elementInfoMappings","elementInfoMapping","createElementInfo","typeInfoCreators","initializeNames","createClassInfo","createEnumLeafInfo","createList","s","separator","sep","listTypeInfo","List","registerTypeInfos","registerTypeInfo","buildTypeInfos","registerElementInfos","registerElementInfo","buildElementInfos","cs","Standard","simplified","PREFIX","qname","AnyType","AnySimpleType","trimmedSeparator","simpleType","LIST","Strings","NormalizedString","Token","Language","Name","NCName","NMToken","NMTokens","Boolean","Base64Binary","charToByte","byteToChar","charTable","_char","charCodeAt","encode","decode","uarray","byte0","byte1","byte2","char0","char1","char2","char3","floor","j","HexBinary","charToQuartet","byteToDuplet","charTableLowerCase","toLowerCase","Number","Infinity","Float","MIN_VALUE","MAX_VALUE","Decimal","Integer","NonPositiveInteger","NegativeInteger","Long","Int","Short","Byte","NonNegativeInteger","UnsignedLong","UnsignedInt","UnsignedShort","UnsignedByte","PositiveInteger","Double","AnyURI","qName","RegExp","DATETIME_PATTERN","parseDateTime","DATE_PATTERN","parseDate","TIME_PATTERN","parseTime","GYEAR_MONTH_PATTERN","parseGYearMonth","GYEAR_PATTERN","parseGYear","GMONTH_DAY_PATTERN","parseGMonthDay","GMONTH_PATTERN","parseGMonth","GDAY_PATTERN","parseGDay","gYearMonthExpression","results","parseInt","parseTimezoneString","gYearExpression","gMonthDayExpression","gMonthExpression","gDayExpression","expression","parseFloat","TIMEZONE_PATTERN","printDateTime","printDate","printTime","printGYearMonth","printGMonthDay","printGYear","printGMonth","printGDay","fractionalString","printDateString","printTimeString","printTimezoneString","printYear","printMonth","printDay","printHour","printMinute","printSecond","printFractionalSecond","sign","getDate","getMonth","getFullYear","printSignedYear","printInteger","dotIndex","YEAR_PATTERN","MONTH_PATTERN","SINGLE_MONTH_PATTERN","DAY_PATTERN","SINGLE_DAY_PATTERN","DATE_PART_PATTERN","TIME_PART_PATTERN","Duration","years","months","days","hours","minutes","seconds","validate","ifExistsEnsureUnsignedInteger","message","ifExistsEnsureUnsignedNumber","durationExpression","PATTERN","duration","DateTime","DateTimeAsDate","unknownTimezone","calendar","setFullYear","setMonth","setDate","setHours","setMinutes","setSeconds","setMilliseconds","localTimezone","originalTimezone","correctedValue","getHours","getMinutes","getSeconds","getMilliseconds","Time","TimeAsDate","time","correctedTime","timezoneHours","correctedTimeInSeconds","DateAsDate","localDate","nextDay","GYearMonth","GYear","GMonthDay","GDay","GMonth","ID","IDREF","IDREFS","NIL","Context","modules","typeNameKeyToTypeInfo","substitutionMembersMap","scopedElementInfosMap","mappings","registerBuiltinTypeInfos","prefixNamespaces","createModule","processModules","builtinTypeInfos","substitutionHeadKey","scopeKey","scopedElementInfos","typeInfoByName","getTypeInfoByName","getTypeInfoByTypeName","typeNameKey","scopedElementInfo","globalScopedElementInfos","globalScopedElementInfo","createMarshaller","createUnmarshaller","defaultPrefix","require","SceSimRules","scesim","DmnRules","dmn","sceSimContext","dmnContext","sceSimUnmarshaller","dmnUnmarshaller","sceSimMarshaller","dmnMarshaller","getJsonFromSceSim","setSceSimFromJson","json","getJsonFromDmn","setDmnFromJson","useKeyPress","targetKey","fn","useEffect","ref","id","withModifier","withShift","isActive","current","addEventListener","downHandler","removeEventListener","event","keyCode","getAttribute","ctrlKey","metaKey","shiftKey","setCaretPosition","caretPos","selectionStart","focus","setSelectionRange","setCaretPositionAtEnd","end","focusCell","focusTimeout","scrollTo","getElementById","scrollIntoView","behavior","block","inline","getRowColumnFromId","currentIdArr","row","column","useDebounce","delay","useState","debouncedValue","setDebouncedValue","handler","clearTimeout","React","originalValue","path","isReadOnly","setEditable","deactivateAndFocusCell","onSave","setValue","savedValue","setSavedValue","overflown","setOverflown","isReadOnlyState","setReadOnlyState","thisElement","save","log","onMouseOver","isOverflown","scrollHeight","clientHeight","scrollWidth","clientWidth","className","style","cursor","textAlign","onChange","currentTarget","onBlur","aria-label","readOnly","Tooltip","distance","exitDelay","trigger","prevProps","nextProps","whyDidYouRender","customName","Select","onSelectToggleCallback","isExpanded","setExpanded","selected","setSelected","savedSelection","setSavedSelection","onToggle","querySelector","selectOptions","option","SelectOption","isSelected","toggleId","variant","SelectVariant","onSelect","selection","selections","ariaLabelledBy","onKeyDown","console","Spinner","size","Bullseye","Title","headingLevel","Editor","columnDefs","columns","filteredRows","definitions","columnNames","onUndo","onRedo","lastForcedUpdate","editableCell","expandedSelect","setExpandedSelect","currentPage","setCurrentPage","columnDefsState","setColumnDefsState","fetchedRows","setFetchedRows","definitionsState","setDefinitionsState","columnNamesState","setColumnNamesState","lastForcedUpdateState","editorRef","setNumGivenColumns","numGiven","setNumExpectColumns","numExpect","JSON","stringify","num","deactivateCell","activateAndFocusCell","activateCell","onCellClick","onCellDoubleClick","copyText","select","execCommand","stopPropagation","activeElement","targetId","newRow","currentId","maxRow","newCol","maxCol","other","given","gridColumn","children","group","expect","givenChild","expectChild","dataLength","page","prevState","hasMore","loader","scrollableTarget","rowIndex","cell","columnGroup","columnName","component","cellIndex","inputId","typeArr","onClick","onDoubleClick","DefinitionsDrawerPanel","dmnFilePath","dmnFilePathState","setDmnFilePathState","onCopy","TextContent","classNames","aria-labelledby","aria-controls","aria-expanded","AngleRightIcon","CopyIcon","color","complex","Expandable","typeRef","toggleText","elementKey","Button","simple","getDmnFilePath","simulation","simulationDescriptor","getColumnNames","factMappings","factMapping","forEach","expressionAlias","factAlias","getColumns","byGroup","columnDefsOther","columnDefsGiven","columnDefsExpect","numOther","fieldIndices","expressionIdentifier","field","getRows","rows","scenarios","scenario","dataRow","dataPath","totalColumnsLength","hasExpressionIdentifierName","from","factMappingValues","factMappingValue","rawValue","getDefinitions","title","itemDefinition","def","definitionTypes","itemComponent","allowedValues","drgElement","typeDefinitions","question","choices","allowedAnswers","variable","HelpModal","isOpen","onClose","Modal","isSmall","actions","isFooterLeftAligned","Search","searchValue","setSearchValue","debouncedSearchTerm","handleSearchChange","onSelectToggle","filter","ToolbarItem","TextInput","placeholder","placeholderText","ChangeTracker","undoRedo","stateFromProps","setStateFromProps","getChangeText","undoList","isDisabled","UndoIcon","change","isInline","changeTracker","redoList","RedoIcon","EditorToolbar","allRowsLength","filteredRowsLength","filterRows","isModelOpen","setModalOpen","toolbarStateFromProps","setToolbarStateFromProps","Toolbar","ToolbarGroup","OutlinedQuestionCircleIcon","EditorContainer","model","showSidePanel","increaseRows","initialDefinitions","initialColumns","initialRows","initialColumnNames","isDrawerExpanded","setDrawerExpanded","skipUpdate","setUndoRedo","allRows","setAllRows","setFilteredRows","setDefinitions","setDmnFilePath","setColumns","setColumnNames","initialItemToColumnIndexMap","itemToColumnIndexMap","setItemToColumnIndexMap","filterSelection","setFilterSelection","now","setLastForcedUpdateState","updatedDefinitions","updatedColumns","updatedRows","clonedChanges","lastChange","previousState","previousValue","clonedRedoList","lastRedo","rowsToFilter","searchRE","found","sel","columnIndex","role","BarsIcon","_title","tabIndex","__webpack_module_cache__","__webpack_require__","moduleId","l","__webpack_modules__","r","Symbol","toStringTag","defineProperty","getter","__esModule","d","definition","enumerable","get"],"mappings":"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","file":"sce-sim-grid.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"sceSimGrid\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"sceSimGrid\"] = factory();\n\telse\n\t\troot[\"sceSimGrid\"] = factory();\n})(window, function() {\nreturn ","/* eslint-disable */\r\n\r\n/**\r\n * Copied jsonix locally to make this fix: https://github.com/boundlessgeo/jsonix/commit/3342c011779261a860488b1a692fa09910cd273e\r\n * Webpack does not like the define. See https://github.com/highsource/jsonix/issues/171\r\n * \r\n * TODO: Get rid of this file and instead maybe monkey patch the dependency in node_modules\r\n */\r\n\r\nvar _jsonix_factory = function(_jsonix_xmldom, _jsonix_xmlhttprequest, _jsonix_fs)\r\n{\r\n\t// Complete Jsonix script is included below \r\nvar Jsonix = {\r\n\tsingleFile : true\r\n};\r\nJsonix.Util = {};\r\n\r\nJsonix.Util.extend = function(destination, source) {\r\n\tdestination = destination || {};\r\n\tif (source) {\r\n\t\t/*jslint forin: true */\r\n\t\tfor ( var property in source) {\r\n\t\t\tvar value = source[property];\r\n\t\t\tif (value !== undefined) {\r\n\t\t\t\tdestination[property] = value;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * IE doesn't include the toString property when iterating over an\r\n\t\t * object's properties with the for(property in object) syntax.\r\n\t\t * Explicitly check if the source has its own toString property.\r\n\t\t */\r\n\r\n\t\t/*\r\n\t\t * FF/Windows < 2.0.0.13 reports \"Illegal operation on WrappedNative\r\n\t\t * prototype object\" when calling hawOwnProperty if the source object is\r\n\t\t * an instance of window.Event.\r\n\t\t */\r\n\r\n\t\t// REWORK\r\n\t\t// Node.js\r\n\t\t// sourceIsEvt = typeof window !== 'undefined' && window !== null && typeof window.Event === \"function\" && source instanceof window.Event;\r\n\r\n\t\t// if (!sourceIsEvt && source.hasOwnProperty && source.hasOwnProperty('toString')) {\r\n\t\t// \tdestination.toString = source.toString;\r\n\t\t// }\r\n\t}\r\n\treturn destination;\r\n};\r\nJsonix.Class = function() {\r\n\tvar Class = function() {\r\n\t\tthis.initialize.apply(this, arguments);\r\n\t};\r\n\tvar extended = {};\r\n\tvar empty = function() {\r\n\t};\r\n\tvar parent, initialize, Type;\r\n\tfor (var i = 0, len = arguments.length; i < len; ++i) {\r\n\t\tType = arguments[i];\r\n\t\tif (typeof Type == \"function\") {\r\n\t\t\t// make the class passed as the first argument the superclass\r\n\t\t\tif (i === 0 && len > 1) {\r\n\t\t\t\tinitialize = Type.prototype.initialize;\r\n\t\t\t\t// replace the initialize method with an empty function,\r\n\t\t\t\t// because we do not want to create a real instance here\r\n\t\t\t\tType.prototype.initialize = empty;\r\n\t\t\t\t// the line below makes sure that the new class has a\r\n\t\t\t\t// superclass\r\n\t\t\t\textended = new Type();\r\n\t\t\t\t// restore the original initialize method\r\n\t\t\t\tif (initialize === undefined) {\r\n\t\t\t\t\tdelete Type.prototype.initialize;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tType.prototype.initialize = initialize;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t// get the prototype of the superclass\r\n\t\t\tparent = Type.prototype;\r\n\t\t} else {\r\n\t\t\t// in this case we're extending with the prototype\r\n\t\t\tparent = Type;\r\n\t\t}\r\n\t\tJsonix.Util.extend(extended, parent);\r\n\t}\r\n\tClass.prototype = extended;\r\n\treturn Class;\r\n};\r\n\r\nJsonix.XML = {\r\n\t\tXMLNS_NS : 'http://www.w3.org/2000/xmlns/',\r\n\t\tXMLNS_P : 'xmlns'\r\n};\r\n\r\n\r\nJsonix.DOM = {\r\n\tisDomImplementationAvailable : function () {\r\n\t\tif (typeof _jsonix_xmldom !== 'undefined')\r\n\t\t{\r\n\t\t\treturn true;\r\n\t\t} else if (typeof document !== 'undefined' && Jsonix.Util.Type.exists(document.implementation) && Jsonix.Util.Type.isFunction(document.implementation.createDocument)) {\r\n\t\t\treturn true;\r\n\t\t} else {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t},\r\n\tcreateDocument : function() {\r\n\t\t// REWORK\r\n\t\t// Node.js\r\n\t\tif (typeof _jsonix_xmldom !== 'undefined')\r\n\t\t{\r\n\t\t\treturn new (_jsonix_xmldom.DOMImplementation)().createDocument();\r\n\t\t} else if (typeof document !== 'undefined' && Jsonix.Util.Type.exists(document.implementation) && Jsonix.Util.Type.isFunction(document.implementation.createDocument)) {\r\n\t\t\treturn document.implementation.createDocument('', '', null);\r\n\t\t} else if (typeof ActiveXObject !== 'undefined') {\r\n\t\t\treturn new ActiveXObject('MSXML2.DOMDocument');\r\n\t\t} else {\r\n\t\t\tthrow new Error('Error created the DOM document.');\r\n\t\t}\r\n\t},\r\n\tserialize : function(node) {\r\n\t\tJsonix.Util.Ensure.ensureExists(node);\r\n\t\t// REWORK\r\n\t\t// Node.js\r\n\t\tif (typeof _jsonix_xmldom !== 'undefined')\r\n\t\t{\r\n\t\t\treturn (new (_jsonix_xmldom).XMLSerializer()).serializeToString(node);\r\n\t\t} else if (Jsonix.Util.Type.exists(XMLSerializer)) {\r\n\t\t\treturn (new XMLSerializer()).serializeToString(node);\r\n\t\t} else if (Jsonix.Util.Type.exists(node.xml)) {\r\n\t\t\treturn node.xml;\r\n\t\t} else {\r\n\t\t\tthrow new Error('Could not serialize the node, neither XMLSerializer nor the [xml] property were found.');\r\n\t\t}\r\n\t},\r\n\tparse : function(text) {\r\n\t\tJsonix.Util.Ensure.ensureExists(text);\r\n\t\tif (typeof _jsonix_xmldom !== 'undefined')\r\n\t\t{\r\n\t\t\treturn (new (_jsonix_xmldom).DOMParser()).parseFromString(text, 'application/xml');\r\n\t\t} else if (typeof DOMParser != 'undefined') {\r\n\t\t\treturn (new DOMParser()).parseFromString(text, 'application/xml');\r\n\t\t} else if (typeof ActiveXObject != 'undefined') {\r\n\t\t\tvar doc = Jsonix.DOM.createDocument('', '');\r\n\t\t\tdoc.loadXML(text);\r\n\t\t\treturn doc;\r\n\t\t} else {\r\n\t\t\tvar url = 'data:text/xml;charset=utf-8,' + encodeURIComponent(text);\r\n\t\t\tvar request = new XMLHttpRequest();\r\n\t\t\trequest.open('GET', url, false);\r\n\t\t\tif (request.overrideMimeType) {\r\n\t\t\t\trequest.overrideMimeType(\"text/xml\");\r\n\t\t\t}\r\n\t\t\trequest.send(null);\r\n\t\t\treturn request.responseXML;\r\n\t\t}\r\n\t},\r\n\tload : function(url, callback, options) {\r\n\r\n\t\tvar request = Jsonix.Request.INSTANCE;\r\n\r\n\t\trequest.issue(\r\n\t\t\t\t\t\turl,\r\n\t\t\t\t\t\tfunction(transport) {\r\n\t\t\t\t\t\t\tvar result;\r\n\t\t\t\t\t\t\tif (Jsonix.Util.Type.exists(transport.responseXML) && Jsonix.Util.Type.exists(transport.responseXML.documentElement)) {\r\n\t\t\t\t\t\t\t\tresult = transport.responseXML;\r\n\t\t\t\t\t\t\t} else if (Jsonix.Util.Type.isString(transport.responseText)) {\r\n\t\t\t\t\t\t\t\tresult = Jsonix.DOM.parse(transport.responseText);\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tthrow new Error('Response does not have valid [responseXML] or [responseText].');\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tcallback(result);\r\n\r\n\t\t\t\t\t\t}, function(transport) {\r\n\t\t\t\t\t\t\tthrow new Error('Could not retrieve XML from URL [' + url\t+ '].');\r\n\r\n\t\t\t\t\t\t}, options);\r\n\t},\r\n\txlinkFixRequired : null,\r\n\tisXlinkFixRequired : function ()\r\n\t{\r\n\t\tif (Jsonix.DOM.xlinkFixRequired === null)\r\n\t\t{\r\n\t\t\tif (typeof navigator === 'undefined')\r\n\t\t\t{\r\n\t\t\t\tJsonix.DOM.xlinkFixRequired = false;\r\n\t\t\t}\r\n\t\t\telse if (!!navigator.userAgent && (/Chrome/.test(navigator.userAgent) && /Google Inc/.test(navigator.vendor)))\r\n\t\t\t{\r\n\t\t\t\tvar doc = Jsonix.DOM.createDocument();\r\n\t\t\t\tvar el = doc.createElement('test');\r\n\t\t\t\tel.setAttributeNS('http://www.w3.org/1999/xlink', 'xlink:href', 'urn:test');\r\n\t\t\t\tdoc.appendChild(el);\r\n\t\t\t\tvar testString = Jsonix.DOM.serialize(doc);\r\n\t\t\t\tJsonix.DOM.xlinkFixRequired = (testString.indexOf('xmlns:xlink') === -1);\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\tJsonix.DOM.xlinkFixRequired = false;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn Jsonix.DOM.xlinkFixRequired;\r\n\t}\r\n};\r\nJsonix.Request = Jsonix\r\n\t\t.Class({\r\n\t\t\t// REWORK\r\n\t\t\tfactories : [ function() {\r\n\t\t\t\treturn new XMLHttpRequest();\r\n\t\t\t}, function() {\r\n\t\t\t\treturn new ActiveXObject('Msxml2.XMLHTTP');\r\n\t\t\t}, function() {\r\n\t\t\t\treturn new ActiveXObject(\"Msxml2.XMLHTTP.6.0\");\r\n\t\t\t}, function() {\r\n\t\t\t\treturn new ActiveXObject(\"Msxml2.XMLHTTP.3.0\");\r\n\t\t\t}, function() {\r\n\t\t\t\treturn new ActiveXObject('Microsoft.XMLHTTP');\r\n\t\t\t}, function() {\r\n\t\t\t\t// Node.js\r\n\t\t\t\tif (typeof _jsonix_xmlhttprequest !== 'undefined')\r\n\t\t\t\t{\r\n\t\t\t\t\tvar XMLHttpRequest = _jsonix_xmlhttprequest.XMLHttpRequest;\r\n\t\t\t\t\treturn new XMLHttpRequest();\r\n\t\t\t\t}\r\n\t\t\t\telse\r\n\t\t\t\t{\r\n\t\t\t\t\treturn null;\r\n\t\t\t\t}\r\n\t\t\t}],\r\n\t\t\tinitialize : function() {\r\n\t\t\t},\r\n\t\t\tissue : function(url, onSuccess, onFailure, options) {\r\n\t\t\t\tJsonix.Util.Ensure.ensureString(url);\r\n\t\t\t\tif (Jsonix.Util.Type.exists(onSuccess)) {\r\n\t\t\t\t\tJsonix.Util.Ensure.ensureFunction(onSuccess);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tonSuccess = function() {\r\n\t\t\t\t\t};\r\n\t\t\t\t}\r\n\t\t\t\tif (Jsonix.Util.Type.exists(onFailure)) {\r\n\t\t\t\t\tJsonix.Util.Ensure.ensureFunction(onFailure);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tonFailure = function() {\r\n\t\t\t\t\t};\r\n\t\t\t\t}\r\n\t\t\t\tif (Jsonix.Util.Type.exists(options)) {\r\n\t\t\t\t\tJsonix.Util.Ensure.ensureObject(options);\r\n\t\t\t\t} else {\r\n\t\t\t\t\toptions = {};\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar transport = this.createTransport();\r\n\r\n\t\t\t\tvar method = Jsonix.Util.Type.isString(options.method) ? options.method\r\n\t\t\t\t\t\t: 'GET';\r\n\t\t\t\tvar async = Jsonix.Util.Type.isBoolean(options.async) ? options.async\r\n\t\t\t\t\t\t: true;\r\n\t\t\t\tvar proxy = Jsonix.Util.Type.isString(options.proxy) ? options.proxy\r\n\t\t\t\t\t\t: Jsonix.Request.PROXY;\r\n\r\n\t\t\t\tvar user = Jsonix.Util.Type.isString(options.user) ? options.user\r\n\t\t\t\t\t\t: null;\r\n\t\t\t\tvar password = Jsonix.Util.Type.isString(options.password) ? options.password\r\n\t\t\t\t\t\t: null;\r\n\r\n\t\t\t\tif (Jsonix.Util.Type.isString(proxy) && (url.indexOf(\"http\") === 0)) {\r\n\t\t\t\t\turl = proxy + encodeURIComponent(url);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (Jsonix.Util.Type.isString(user)) {\r\n\t\t\t\t\ttransport.open(method, url, async, user, password);\r\n\t\t\t\t} else {\r\n\t\t\t\t\ttransport.open(method, url, async);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (Jsonix.Util.Type.isObject(options.headers)) {\r\n\r\n\t\t\t\t\tfor ( var header in options.headers) {\r\n\t\t\t\t\t\tif (options.headers.hasOwnProperty(header)) {\r\n\t\t\t\t\t\t\ttransport.setRequestHeader(header,\r\n\t\t\t\t\t\t\t\t\toptions.headers[header]);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar data = Jsonix.Util.Type.exists(options.data) ? options.data\r\n\t\t\t\t\t\t: null;\r\n\t\t\t\tif (!async) {\r\n\t\t\t\t\ttransport.send(data);\r\n\t\t\t\t\tthis.handleTransport(transport, onSuccess, onFailure);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tvar that = this;\r\n\t\t\t\t\tif (typeof window !== 'undefined') {\r\n\r\n\t\t\t\t\t\ttransport.onreadystatechange = function() {\r\n\t\t\t\t\t\t\tthat.handleTransport(transport, onSuccess,\r\n\t\t\t\t\t\t\t\t\tonFailure);\r\n\t\t\t\t\t\t};\r\n\r\n\t\t\t\t\t\twindow.setTimeout(function() {\r\n\t\t\t\t\t\t\ttransport.send(data);\r\n\t\t\t\t\t\t}, 0);\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\ttransport.onreadystatechange = function() {\r\n\t\t\t\t\t\t\tthat.handleTransport(transport, onSuccess, onFailure);\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t\ttransport.send(data);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn transport;\r\n\r\n\t\t\t},\r\n\t\t\thandleTransport : function(transport, onSuccess, onFailure) {\r\n\t\t\t\tif (transport.readyState == 4) {\r\n\t\t\t\t\tif (!transport.status || (transport.status >= 200 && transport.status < 300)) {\r\n\t\t\t\t\t\tonSuccess(transport);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (transport.status && (transport.status < 200 || transport.status >= 300)) {\r\n\t\t\t\t\t\tonFailure(transport);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tcreateTransport : function() {\r\n\t\t\t\tfor ( var index = 0, length = this.factories.length; index < length; index++) {\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tvar transport = this.factories[index]();\r\n\t\t\t\t\t\tif (transport !== null) {\r\n\t\t\t\t\t\t\treturn transport;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} catch (e) {\r\n\t\t\t\t\t\t// TODO log\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tthrow new Error('Could not create XML HTTP transport.');\r\n\t\t\t},\r\n\t\t\tCLASS_NAME : 'Jsonix.Request'\r\n\t\t});\r\nJsonix.Request.INSTANCE = new Jsonix.Request();\r\nJsonix.Request.PROXY = null;\r\nJsonix.Schema = {};\r\nJsonix.Model = {};\r\nJsonix.Util.Type = {\r\n\texists : function(value) {\r\n\t\treturn (typeof value !== 'undefined' && value !== null);\r\n\t},\r\n\tisUndefined : function(value) {\r\n\t\treturn typeof value === 'undefined';\r\n\t},\r\n\tisString : function(value) {\r\n\t\treturn typeof value === 'string';\r\n\t},\r\n\tisBoolean : function(value) {\r\n\t\treturn typeof value === 'boolean';\r\n\t},\r\n\tisObject : function(value) {\r\n\t\treturn typeof value === 'object';\r\n\t},\r\n\tisFunction : function(value) {\r\n\t\treturn typeof value === 'function';\r\n\t},\r\n\tisNumber : function(value) {\r\n\t\treturn (typeof value === 'number') && !isNaN(value);\r\n\t},\r\n\tisNumberOrNaN : function(value) {\r\n\t\treturn (value === +value) || (Object.prototype.toString.call(value) === '[object Number]');\r\n\t},\r\n\tisNaN : function(value) {\r\n\t\treturn Jsonix.Util.Type.isNumberOrNaN(value) && isNaN(value);\r\n\t},\r\n\tisArray : function(value) {\r\n\t\t// return value instanceof Array;\r\n\t\treturn !!(value && value.concat && value.unshift && !value.callee);\r\n\t},\r\n\tisDate : function(value) {\r\n\t\treturn !!(value && value.getTimezoneOffset && value.setUTCFullYear);\r\n\t},\r\n\tisRegExp : function(value) {\r\n\t\treturn !!(value && value.test && value.exec && (value.ignoreCase || value.ignoreCase === false));\r\n\t},\r\n\tisNode : function(value) {\r\n\t\treturn (typeof Node === \"object\" || typeof Node === \"function\") ? (value instanceof Node) : (value && (typeof value === \"object\") && (typeof value.nodeType === \"number\") && (typeof value.nodeName===\"string\"));\r\n\t},\r\n\tisEqual : function(a, b, report) {\r\n\t\tvar doReport = Jsonix.Util.Type.isFunction(report);\r\n\t\t// TODO rework\r\n\t\tvar _range = function(start, stop, step) {\r\n\t\t\tvar args = slice.call(arguments);\r\n\t\t\tvar solo = args.length <= 1;\r\n\t\t\tvar start_ = solo ? 0 : args[0];\r\n\t\t\tvar stop_ = solo ? args[0] : args[1];\r\n\t\t\tvar step_ = args[2] || 1;\r\n\t\t\tvar len = Math.max(Math.ceil((stop_ - start_) / step_), 0);\r\n\t\t\tvar idx = 0;\r\n\t\t\tvar range = new Array(len);\r\n\t\t\twhile (idx < len) {\r\n\t\t\t\trange[idx++] = start_;\r\n\t\t\t\tstart_ += step_;\r\n\t\t\t}\r\n\t\t\treturn range;\r\n\t\t};\r\n\r\n\t\tvar _keys = Object.keys || function(obj) {\r\n\t\t\tif (Jsonix.Util.Type.isArray(obj)) {\r\n\t\t\t\treturn _range(0, obj.length);\r\n\t\t\t}\r\n\t\t\tvar keys = [];\r\n\t\t\tfor ( var key in obj) {\r\n\t\t\t\tif (obj.hasOwnProperty(key)) {\r\n\t\t\t\t\tkeys[keys.length] = key;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn keys;\r\n\t\t};\r\n\r\n\t\t// Check object identity.\r\n\t\tif (a === b) {\r\n\t\t\treturn true;\r\n\t\t}\r\n\r\n\t\t// Check if both are NaNs\r\n\t\tif (Jsonix.Util.Type.isNaN(a) && Jsonix.Util.Type.isNaN(b)) {\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\t// Different types?\r\n\t\tvar atype = typeof a;\r\n\t\tvar btype = typeof b;\r\n\t\tif (atype != btype) {\r\n\t\t\tif (doReport) {\r\n\t\t\t\treport('Types differ [' + atype + '], [' + btype + '].');\r\n\t\t\t}\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\t// Basic equality test (watch out for coercions).\r\n\t\tif (a == b) {\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\t// One is falsy and the other truthy.\r\n\t\tif ((!a && b) || (a && !b)) {\r\n\t\t\tif (doReport) {\r\n\t\t\t\treport('One is falsy, the other is truthy.');\r\n\t\t\t}\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\t// Check dates' integer values.\r\n\t\tif (Jsonix.Util.Type.isDate(a) && Jsonix.Util.Type.isDate(b)) {\r\n\t\t\treturn a.getTime() === b.getTime();\r\n\t\t}\r\n\t\t// Both are NaN?\r\n\t\tif (Jsonix.Util.Type.isNaN(a) && Jsonix.Util.Type.isNaN(b)) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\t// Compare regular expressions.\r\n\t\tif (Jsonix.Util.Type.isRegExp(a) && Jsonix.Util.Type.isRegExp(b)) {\r\n\t\t\treturn a.source === b.source && a.global === b.global && a.ignoreCase === b.ignoreCase && a.multiline === b.multiline;\r\n\t\t}\r\n\t\t\r\n\t\tif (Jsonix.Util.Type.isNode(a) && Jsonix.Util.Type.isNode(b))\r\n\t\t{\r\n\t\t\tvar aSerialized = Jsonix.DOM.serialize(a);\r\n\t\t\tvar bSerialized = Jsonix.DOM.serialize(b);\r\n\t\t\tif (aSerialized !== bSerialized)\r\n\t\t\t{\r\n\t\t\t\tif (doReport)\r\n\t\t\t\t{\r\n\t\t\t\t\treport('Nodes differ.');\r\n\t\t\t\t\treport('A=' + aSerialized);\r\n\t\t\t\t\treport('B=' + bSerialized);\r\n\t\t\t\t}\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\t// If a is not an object by this point, we can't handle it.\r\n\t\tif (atype !== 'object') {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\t// Check for different array lengths before comparing contents.\r\n\t\tif (Jsonix.Util.Type.isArray(a) && (a.length !== b.length)) {\r\n\t\t\tif (doReport) {\r\n\t\t\t\t\treport('Lengths differ.');\r\n\t\t\t\t\treport('A.length=' + a.length);\r\n\t\t\t\t\treport('B.length=' + b.length);\r\n\t\t\t}\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\t// Nothing else worked, deep compare the contents.\r\n\t\tvar aKeys = _keys(a);\r\n\t\tvar bKeys = _keys(b);\r\n\t\t// Different object sizes?\r\n\t\tif (aKeys.length !== bKeys.length) {\r\n\t\t\tif (doReport) {\r\n\t\t\t\treport('Different number of properties [' + aKeys.length + '], [' + bKeys.length + '].');\r\n\t\t\t}\r\n\t\t\tfor ( var andex = 0; andex < aKeys.length; andex++) {\r\n\t\t\t\tif (doReport) {\r\n\t\t\t\t\treport('A [' + aKeys[andex] + ']=' + a[aKeys[andex]]);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tfor ( var bndex = 0; bndex < bKeys.length; bndex++) {\r\n\t\t\t\tif (doReport) {\r\n\t\t\t\t\treport('B [' + bKeys[bndex] + ']=' + b[bKeys[bndex]]);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\t// Recursive comparison of contents.\r\n\t\tfor (var kndex = 0; kndex < aKeys.length; kndex++) {\r\n\t\t\tvar key = aKeys[kndex];\r\n\t\t\tif (!(key in b) || !Jsonix.Util.Type.isEqual(a[key], b[key], report)) {\r\n\t\t\t\tif (doReport) {\r\n\t\t\t\t\treport('One of the properties differ.');\r\n\t\t\t\t\treport('Key: [' + key + '].');\r\n\t\t\t\t\treport('Left: [' + a[key] + '].');\r\n\t\t\t\t\treport('Right: [' + b[key] + '].');\r\n\t\t\t\t}\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn true;\r\n\t},\r\n\tcloneObject : function (source, target)\r\n\t{\r\n\t\ttarget = target || {};\r\n\t\tfor (var p in source)\r\n\t\t{\r\n\t\t\tif (source.hasOwnProperty(p))\r\n\t\t\t{\r\n\t\t\t\ttarget[p] = source[p];\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn target;\r\n\t},\r\n\tdefaultValue : function()\r\n\t{\r\n\t\tvar args = arguments;\r\n\t\tif (args.length === 0)\r\n\t\t{\r\n\t\t\treturn undefined;\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tvar defaultValue = args[args.length - 1];\r\n\t\t\tvar typeOfDefaultValue = typeof defaultValue;\r\n\t\t\tfor (var index = 0; index < args.length - 1; index++)\r\n\t\t\t{\r\n\t\t\t\tvar candidateValue = args[index];\r\n\t\t\t\tif (typeof candidateValue === typeOfDefaultValue)\r\n\t\t\t\t{\r\n\t\t\t\t\treturn candidateValue;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn defaultValue;\r\n\t\t\t\r\n\t\t}\r\n\t}\r\n};\r\nJsonix.Util.NumberUtils = {\r\n\tisInteger : function(value) {\r\n\t\treturn Jsonix.Util.Type.isNumber(value) && ((value % 1) === 0);\r\n\t}\r\n};\r\nJsonix.Util.StringUtils = {\r\n\ttrim : (!!String.prototype.trim) ?\r\n\tfunction(str) {\r\n\t\tJsonix.Util.Ensure.ensureString(str);\r\n\t\treturn str.trim();\r\n\t} :\r\n\tfunction(str) {\r\n\t\tJsonix.Util.Ensure.ensureString(str);\r\n\t\treturn str.replace(/^\\s\\s*/, '').replace(/\\s\\s*$/, '');\r\n\t},\r\n\t/* isEmpty : function(str) {\r\n\t\tvar wcm = Jsonix.Util.StringUtils.whitespaceCharactersMap;\r\n\t\tfor (var index = 0; index < str.length; index++)\r\n\t\t{\r\n\t\t\tif (!wcm[str[index]])\r\n\t\t\t{\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn true;\r\n\t}, */\r\n\tisEmpty : function(str) {\r\n\t\tvar length = str.length;\r\n\t\tif (!length) {\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\tfor (var index = 0; index < length; index++)\r\n\t\t{\r\n\t\t\tvar c = str[index];\r\n\t\t\tif (c === ' ')\r\n\t\t\t{\r\n\t\t\t\t// skip\r\n\t\t\t}\r\n\t\t\telse if (c > '\\u000D' && c < '\\u0085')\r\n\t\t\t{\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\telse if (c < '\\u00A0')\r\n\t\t\t{\r\n\t\t\t\tif (c < '\\u0009')\r\n\t\t\t\t{\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\telse if (c > '\\u0085')\r\n\t\t\t\t{\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse if (c > '\\u00A0')\r\n\t\t\t{\r\n\t\t\t\tif (c < '\\u2028')\r\n\t\t\t\t{\r\n\t\t\t\t\tif (c < '\\u180E')\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tif (c < '\\u1680')\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse if(c > '\\u1680')\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse if (c > '\\u180E')\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tif (c < '\\u2000')\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse if (c > '\\u200A')\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\telse if (c > '\\u2029')\r\n\t\t\t\t{\r\n\t\t\t\t\tif (c < '\\u205F')\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tif (c < '\\u202F')\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse if (c > '\\u202F')\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse if (c > '\\u205F')\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tif (c < '\\u3000')\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse if (c > '\\u3000')\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn true;\r\n\t},\r\n\tisNotBlank : function(str) {\r\n\t\treturn Jsonix.Util.Type.isString(str) && !Jsonix.Util.StringUtils.isEmpty(str);\r\n\t},\r\n\twhitespaceCharacters: '\\u0009\\u000A\\u000B\\u000C\\u000D \\u0085\\u00A0\\u1680\\u180E\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u2028\\u2029\\u202F\\u205F\\u3000',\r\n\twhitespaceCharactersMap: {\r\n\t\t'\\u0009' : true,\r\n\t\t'\\u000A' : true,\r\n\t\t'\\u000B' : true,\r\n\t\t'\\u000C' : true,\r\n\t\t'\\u000D' : true,\r\n\t\t' ' : true,\r\n\t\t'\\u0085' : true,\r\n\t\t'\\u00A0' : true,\r\n\t\t'\\u1680' : true,\r\n\t\t'\\u180E' : true,\r\n\t\t'\\u2000' : true,\r\n\t\t'\\u2001' : true,\r\n\t\t'\\u2002' : true,\r\n\t\t'\\u2003' : true,\r\n\t\t'\\u2004' : true,\r\n\t\t'\\u2005' : true,\r\n\t\t'\\u2006' : true,\r\n\t\t'\\u2007' : true,\r\n\t\t'\\u2008' : true,\r\n\t\t'\\u2009' : true,\r\n\t\t'\\u200A' : true,\r\n\t\t'\\u2028' : true,\r\n\t\t'\\u2029' : true,\r\n\t\t'\\u202F' : true,\r\n\t\t'\\u205F' : true,\r\n\t\t'\\u3000' : true\r\n\t},\r\n\tsplitBySeparatorChars : function(str, separatorChars) {\r\n\t\tJsonix.Util.Ensure.ensureString(str);\r\n\t\tJsonix.Util.Ensure.ensureString(separatorChars);\r\n\t\tvar len = str.length;\r\n\t\tif (len === 0) {\r\n\t\t\treturn [];\r\n\t\t}\r\n\t\tif (separatorChars.length === 1)\r\n\t\t{\r\n\t\t\treturn str.split(separatorChars);\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tvar list = [];\r\n\t\t\tvar sizePlus1 = 1;\r\n\t\t\tvar i = 0;\r\n\t\t\tvar start = 0;\r\n\t\t\tvar match = false;\r\n\t\t\tvar lastMatch = false;\r\n\t\t\tvar max = -1;\r\n\t\t\tvar preserveAllTokens = false;\r\n\t\t\t// standard case\r\n\t\t\t\twhile (i < len) {\r\n\t\t\t\t\t\tif (separatorChars.indexOf(str.charAt(i)) >= 0) {\r\n\t\t\t\t\t\t\t\tif (match || preserveAllTokens) {\r\n\t\t\t\t\t\t\t\t\t\tlastMatch = true;\r\n\t\t\t\t\t\t\t\t\t\tif (sizePlus1++ == max) {\r\n\t\t\t\t\t\t\t\t\t\t\t\ti = len;\r\n\t\t\t\t\t\t\t\t\t\t\t\tlastMatch = false;\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\tlist.push(str.substring(start, i));\r\n\t\t\t\t\t\t\t\t\t\tmatch = false;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tstart = ++i;\r\n\t\t\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tlastMatch = false;\r\n\t\t\t\t\t\tmatch = true;\r\n\t\t\t\t\t\ti++;\r\n\t\t\t\t}\r\n\t\t\t\tif (match || (preserveAllTokens && lastMatch)) {\r\n\t\t\t\t\tlist.push(str.substring(start, i));\r\n\t\t\t}\r\n\t\t\treturn list;\r\n\t\t}\r\n\t}\r\n};\r\nJsonix.Util.Ensure = {\r\n\tensureBoolean : function(value) {\r\n\t\tif (!Jsonix.Util.Type.isBoolean(value)) {\r\n\t\t\tthrow new Error('Argument [' + value + '] must be a boolean.');\r\n\t\t}\r\n\t},\r\n\tensureString : function(value) {\r\n\t\tif (!Jsonix.Util.Type.isString(value)) {\r\n\t\t\tthrow new Error('Argument [' + value + '] must be a string.');\r\n\t\t}\r\n\t},\r\n\tensureNumber : function(value) {\r\n\t\tif (!Jsonix.Util.Type.isNumber(value)) {\r\n\t\t\tthrow new Error('Argument [' + value + '] must be a number.');\r\n\t\t}\r\n\t},\r\n\tensureNumberOrNaN : function(value) {\r\n\t\tif (!Jsonix.Util.Type.isNumberOrNaN(value)) {\r\n\t\t\tthrow new Error('Argument [' + value + '] must be a number or NaN.');\r\n\t\t}\r\n\t},\r\n\tensureInteger : function(value) {\r\n\t\tif (!Jsonix.Util.Type.isNumber(value)) {\r\n\t\t\tthrow new Error('Argument [' + value + '] must be an integer, but it is not a number.');\r\n\t\t} else if (!Jsonix.Util.NumberUtils.isInteger(value)) {\r\n\t\t\tthrow new Error('Argument [' + value + '] must be an integer.');\r\n\t\t}\r\n\t},\r\n\tensureDate : function(value) {\r\n\t\tif (!(value instanceof Date)) {\r\n\t\t\tthrow new Error('Argument [' + value + '] must be a date.');\r\n\t\t}\r\n\t},\r\n\tensureObject : function(value) {\r\n\t\tif (!Jsonix.Util.Type.isObject(value)) {\r\n\t\t\tthrow new Error('Argument [' + value + '] must be an object.');\r\n\t\t}\r\n\t},\r\n\tensureArray : function(value) {\r\n\t\tif (!Jsonix.Util.Type.isArray(value)) {\r\n\t\t\tthrow new Error('Argument [' + value + '] must be an array.');\r\n\t\t}\r\n\t},\r\n\tensureFunction : function(value) {\r\n\t\tif (!Jsonix.Util.Type.isFunction(value)) {\r\n\t\t\tthrow new Error('Argument [' + value + '] must be a function.');\r\n\t\t}\r\n\t},\r\n\tensureExists : function(value) {\r\n\t\tif (!Jsonix.Util.Type.exists(value)) {\r\n\t\t\tthrow new Error('Argument [' + value + '] does not exist.');\r\n\t\t}\r\n\t}\r\n};\r\nJsonix.XML.QName = Jsonix.Class({\r\n\tkey : null,\r\n\tnamespaceURI : null,\r\n\tlocalPart : null,\r\n\tprefix : null,\r\n\tstring : null,\r\n\tinitialize : function(one, two, three) {\r\n\t\tvar namespaceURI;\r\n\t\tvar localPart;\r\n\t\tvar prefix;\r\n\t\tvar key;\r\n\t\tvar string;\r\n\r\n\t\tif (!Jsonix.Util.Type.exists(two)) {\r\n\t\t\tnamespaceURI = '';\r\n\t\t\tlocalPart = one;\r\n\t\t\tprefix = '';\r\n\t\t} else if (!Jsonix.Util.Type.exists(three)) {\r\n\t\t\tnamespaceURI = Jsonix.Util.Type.exists(one) ? one : '';\r\n\t\t\tlocalPart = two;\r\n\t\t\tvar colonPosition = two.indexOf(':');\r\n\t\t\tif (colonPosition > 0 && colonPosition < two.length) {\r\n\t\t\t\tprefix = two.substring(0, colonPosition);\r\n\t\t\t\tlocalPart = two.substring(colonPosition + 1);\r\n\t\t\t} else {\r\n\t\t\t\tprefix = '';\r\n\t\t\t\tlocalPart = two;\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tnamespaceURI = Jsonix.Util.Type.exists(one) ? one : '';\r\n\t\t\tlocalPart = two;\r\n\t\t\tprefix = Jsonix.Util.Type.exists(three) ? three : '';\r\n\t\t}\r\n\t\tthis.namespaceURI = namespaceURI;\r\n\t\tthis.localPart = localPart;\r\n\t\tthis.prefix = prefix;\r\n\r\n\t\tthis.key = (namespaceURI !== '' ? ('{' + namespaceURI + '}') : '') + localPart;\r\n\t\tthis.string = (namespaceURI !== '' ? ('{' + namespaceURI + '}') : '') + (prefix !== '' ? (prefix + ':') : '') + localPart;\r\n\t},\r\n\ttoString : function() {\r\n\t\treturn this.string;\r\n\t},\r\n\t// foo:bar\r\n\ttoCanonicalString: function(namespaceContext) {\r\n\t\tvar canonicalPrefix = namespaceContext ? namespaceContext.getPrefix(this.namespaceURI, this.prefix) : this.prefix;\r\n\t\treturn this.prefix + (this.prefix === '' ? '' : ':') + this.localPart;\r\n\t},\r\n\tclone : function() {\r\n\t\treturn new Jsonix.XML.QName(this.namespaceURI, this.localPart, this.prefix);\r\n\t},\r\n\tequals : function(that) {\r\n\t\tif (!that) {\r\n\t\t\treturn false;\r\n\t\t} else {\r\n\t\t\treturn (this.namespaceURI == that.namespaceURI) && (this.localPart == that.localPart);\r\n\t\t}\r\n\r\n\t},\r\n\tCLASS_NAME : \"Jsonix.XML.QName\"\r\n});\r\nJsonix.XML.QName.fromString = function(qNameAsString, namespaceContext, defaultNamespaceURI) {\r\n\tvar leftBracket = qNameAsString.indexOf('{');\r\n\tvar rightBracket = qNameAsString.lastIndexOf('}');\r\n\tvar namespaceURI;\r\n\tvar prefixedName;\r\n\tif ((leftBracket === 0) && (rightBracket > 0) && (rightBracket < qNameAsString.length)) {\r\n\t\tnamespaceURI = qNameAsString.substring(1, rightBracket);\r\n\t\tprefixedName = qNameAsString.substring(rightBracket + 1);\r\n\t} else {\r\n\t\tnamespaceURI = null;\r\n\t\tprefixedName = qNameAsString;\r\n\t}\r\n\tvar colonPosition = prefixedName.indexOf(':');\r\n\tvar prefix;\r\n\tvar localPart;\r\n\tif (colonPosition > 0 && colonPosition < prefixedName.length) {\r\n\t\tprefix = prefixedName.substring(0, colonPosition);\r\n\t\tlocalPart = prefixedName.substring(colonPosition + 1);\r\n\t} else {\r\n\t\tprefix = '';\r\n\t\tlocalPart = prefixedName;\r\n\t}\r\n\t// If namespace URI was not set and we have a namespace context, try to find the namespace URI via this context\r\n\tif (namespaceURI === null)\r\n\t{\r\n\t\tif (prefix === '' && Jsonix.Util.Type.isString(defaultNamespaceURI))\r\n\t\t{\r\n\t\t\tnamespaceURI = defaultNamespaceURI;\r\n\t\t}\r\n\t\telse if (namespaceContext)\r\n\t\t{\r\n\t\t\tnamespaceURI = namespaceContext.getNamespaceURI(prefix);\r\n\t\t}\r\n\t}\r\n\t// If we don't have a namespace URI, assume '' by default\r\n\t// TODO document the assumption\r\n\tif (!Jsonix.Util.Type.isString(namespaceURI))\r\n\t{\r\n\t\tnamespaceURI = defaultNamespaceURI || '';\r\n\t}\r\n\treturn new Jsonix.XML.QName(namespaceURI, localPart, prefix);\r\n};\r\nJsonix.XML.QName.fromObject = function(object) {\r\n\tJsonix.Util.Ensure.ensureObject(object);\r\n\tif (object instanceof Jsonix.XML.QName || (Jsonix.Util.Type.isString(object.CLASS_NAME) && object.CLASS_NAME === 'Jsonix.XML.QName')) {\r\n\t\treturn object;\r\n\t}\r\n\tvar localPart = object.localPart||object.lp||null;\r\n\tJsonix.Util.Ensure.ensureString(localPart);\r\n\tvar namespaceURI = object.namespaceURI||object.ns||'';\r\n\tvar prefix = object.prefix||object.p||'';\r\n\treturn new Jsonix.XML.QName(namespaceURI, localPart, prefix);\r\n};\r\nJsonix.XML.QName.fromObjectOrString = function(value, namespaceContext, defaultNamespaceURI) {\r\n\tif (Jsonix.Util.Type.isString(value))\r\n\t{\r\n\t\treturn Jsonix.XML.QName.fromString(value, namespaceContext, defaultNamespaceURI);\r\n\t}\r\n\telse\r\n\t{\r\n\t\treturn Jsonix.XML.QName.fromObject(value);\r\n\t}\r\n};\r\nJsonix.XML.QName.key = function(namespaceURI, localPart) {\r\n\tJsonix.Util.Ensure.ensureString(localPart);\r\n\tif (namespaceURI) {\r\n\t\tvar colonPosition = localPart.indexOf(':');\r\n\t\tvar localName;\r\n\t\tif (colonPosition > 0 && colonPosition < localPart.length) {\r\n\t\t\tlocalName = localPart.substring(colonPosition + 1);\r\n\t\t} else {\r\n\t\t\tlocalName = localPart;\r\n\t\t}\r\n\t\treturn '{' + namespaceURI + '}' + localName;\r\n\t} else {\r\n\t\treturn localPart;\r\n\t}\r\n};\r\nJsonix.XML.Calendar = Jsonix.Class({\r\n\tyear : NaN,\r\n\tmonth : NaN,\r\n\tday : NaN,\r\n\thour : NaN,\r\n\tminute : NaN,\r\n\tsecond : NaN,\r\n\tfractionalSecond : NaN,\r\n\ttimezone : NaN,\r\n\tdate : null,\r\n\tinitialize : function(data) {\r\n\t\tJsonix.Util.Ensure.ensureObject(data);\r\n\t\t// Year\r\n\t\tif (Jsonix.Util.Type.exists(data.year)) {\r\n\t\t\tJsonix.Util.Ensure.ensureInteger(data.year);\r\n\t\t\tJsonix.XML.Calendar.validateYear(data.year);\r\n\t\t\tthis.year = data.year;\r\n\t\t} else {\r\n\t\t\tthis.year = NaN;\r\n\t\t}\r\n\t\t// Month\r\n\t\tif (Jsonix.Util.Type.exists(data.month)) {\r\n\t\t\tJsonix.Util.Ensure.ensureInteger(data.month);\r\n\t\t\tJsonix.XML.Calendar.validateMonth(data.month);\r\n\t\t\tthis.month = data.month;\r\n\t\t} else {\r\n\t\t\tthis.month = NaN;\r\n\t\t}\r\n\t\t// Day\r\n\t\tif (Jsonix.Util.Type.exists(data.day)) {\r\n\t\t\tJsonix.Util.Ensure.ensureInteger(data.day);\r\n\t\t\tif (Jsonix.Util.NumberUtils.isInteger(data.year) && Jsonix.Util.NumberUtils.isInteger(data.month)) {\r\n\t\t\t\tJsonix.XML.Calendar.validateYearMonthDay(data.year, data.month, data.day);\r\n\t\t\t} else if (Jsonix.Util.NumberUtils.isInteger(data.month)) {\r\n\t\t\t\tJsonix.XML.Calendar.validateMonthDay(data.month, data.day);\r\n\t\t\t} else {\r\n\t\t\t\tJsonix.XML.Calendar.validateDay(data.day);\r\n\t\t\t}\r\n\t\t\tthis.day = data.day;\r\n\t\t} else {\r\n\t\t\tthis.day = NaN;\r\n\t\t}\r\n\t\t// Hour\r\n\t\tif (Jsonix.Util.Type.exists(data.hour)) {\r\n\t\t\tJsonix.Util.Ensure.ensureInteger(data.hour);\r\n\t\t\tJsonix.XML.Calendar.validateHour(data.hour);\r\n\t\t\tthis.hour = data.hour;\r\n\t\t} else {\r\n\t\t\tthis.hour = NaN;\r\n\t\t}\r\n\t\t// Minute\r\n\t\tif (Jsonix.Util.Type.exists(data.minute)) {\r\n\t\t\tJsonix.Util.Ensure.ensureInteger(data.minute);\r\n\t\t\tJsonix.XML.Calendar.validateMinute(data.minute);\r\n\t\t\tthis.minute = data.minute;\r\n\t\t} else {\r\n\t\t\tthis.minute = NaN;\r\n\t\t}\r\n\t\t// Second\r\n\t\tif (Jsonix.Util.Type.exists(data.second)) {\r\n\t\t\tJsonix.Util.Ensure.ensureInteger(data.second);\r\n\t\t\tJsonix.XML.Calendar.validateSecond(data.second);\r\n\t\t\tthis.second = data.second;\r\n\t\t} else {\r\n\t\t\tthis.second = NaN;\r\n\t\t}\r\n\t\t// Fractional second\r\n\t\tif (Jsonix.Util.Type.exists(data.fractionalSecond)) {\r\n\t\t\tJsonix.Util.Ensure.ensureNumber(data.fractionalSecond);\r\n\t\t\tJsonix.XML.Calendar.validateFractionalSecond(data.fractionalSecond);\r\n\t\t\tthis.fractionalSecond = data.fractionalSecond;\r\n\t\t} else {\r\n\t\t\tthis.fractionalSecond = NaN;\r\n\t\t}\r\n\t\t// Timezone\r\n\t\tif (Jsonix.Util.Type.exists(data.timezone)) {\r\n\t\t\tif (Jsonix.Util.Type.isNaN(data.timezone)) {\r\n\t\t\t\tthis.timezone = NaN;\r\n\t\t\t} else {\r\n\t\t\t\tJsonix.Util.Ensure.ensureInteger(data.timezone);\r\n\t\t\t\tJsonix.XML.Calendar.validateTimezone(data.timezone);\r\n\t\t\t\tthis.timezone = data.timezone;\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tthis.timezone = NaN;\r\n\t\t}\r\n\r\n\t\tvar initialDate = new Date(0);\r\n\t\tinitialDate.setUTCFullYear(this.year || 1970);\r\n\t\tinitialDate.setUTCMonth(this.month - 1 || 0);\r\n\t\tinitialDate.setUTCDate(this.day || 1);\r\n\t\tinitialDate.setUTCHours(this.hour || 0);\r\n\t\tinitialDate.setUTCMinutes(this.minute || 0);\r\n\t\tinitialDate.setUTCSeconds(this.second || 0);\r\n\t\tinitialDate.setUTCMilliseconds((this.fractionalSecond || 0) * 1000);\r\n\t\tvar timezoneOffset = -60000 * (this.timezone || 0);\r\n\t\tthis.date = new Date(initialDate.getTime() + timezoneOffset);\r\n\t},\r\n\tCLASS_NAME : \"Jsonix.XML.Calendar\"\r\n});\r\nJsonix.XML.Calendar.MIN_TIMEZONE = -14 * 60;\r\nJsonix.XML.Calendar.MAX_TIMEZONE = 14 * 60;\r\nJsonix.XML.Calendar.DAYS_IN_MONTH = [ 31, 29, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31 ];\r\nJsonix.XML.Calendar.fromObject = function(object) {\r\n\tJsonix.Util.Ensure.ensureObject(object);\r\n\tif (Jsonix.Util.Type.isString(object.CLASS_NAME) && object.CLASS_NAME === 'Jsonix.XML.Calendar') {\r\n\t\treturn object;\r\n\t}\r\n\treturn new Jsonix.XML.Calendar(object);\r\n};\r\nJsonix.XML.Calendar.validateYear = function(year) {\r\n\tif (year === 0) {\r\n\t\tthrow new Error('Invalid year [' + year + ']. Year must not be [0].');\r\n\t}\r\n};\r\nJsonix.XML.Calendar.validateMonth = function(month) {\r\n\tif (month < 1 || month > 12) {\r\n\t\tthrow new Error('Invalid month [' + month + ']. Month must be in range [1, 12].');\r\n\t}\r\n};\r\nJsonix.XML.Calendar.validateDay = function(day) {\r\n\tif (day < 1 || day > 31) {\r\n\t\tthrow new Error('Invalid day [' + day + ']. Day must be in range [1, 31].');\r\n\t}\r\n};\r\nJsonix.XML.Calendar.validateMonthDay = function(month, day) {\r\n\tJsonix.XML.Calendar.validateMonth(month);\r\n\tvar maxDaysInMonth = Jsonix.XML.Calendar.DAYS_IN_MONTH[month - 1];\r\n\tif (day < 1 || day > Jsonix.XML.Calendar.DAYS_IN_MONTH[month - 1]) {\r\n\t\tthrow new Error('Invalid day [' + day + ']. Day must be in range [1, ' + maxDaysInMonth + '].');\r\n\t}\r\n};\r\nJsonix.XML.Calendar.validateYearMonthDay = function(year, month, day) {\r\n\t// #93 TODO proper validation of 28/29 02\r\n\tJsonix.XML.Calendar.validateYear(year);\r\n\tJsonix.XML.Calendar.validateMonthDay(month, day);\r\n};\r\nJsonix.XML.Calendar.validateHour = function(hour) {\r\n\tif (hour < 0 || hour > 23) {\r\n\t\tthrow new Error('Invalid hour [' + hour + ']. Hour must be in range [0, 23].');\r\n\t}\r\n};\r\nJsonix.XML.Calendar.validateMinute = function(minute) {\r\n\tif (minute < 0 || minute > 59) {\r\n\t\tthrow new Error('Invalid minute [' + minute + ']. Minute must be in range [0, 59].');\r\n\t}\r\n};\r\nJsonix.XML.Calendar.validateSecond = function(second) {\r\n\tif (second < 0 || second > 59) {\r\n\t\tthrow new Error('Invalid second [' + second + ']. Second must be in range [0, 59].');\r\n\t}\r\n};\r\nJsonix.XML.Calendar.validateFractionalSecond = function(fractionalSecond) {\r\n\tif (fractionalSecond < 0 || fractionalSecond > 59) {\r\n\t\tthrow new Error('Invalid fractional second [' + fractionalSecond + ']. Fractional second must be in range [0, 1).');\r\n\t}\r\n};\r\nJsonix.XML.Calendar.validateTimezone = function(timezone) {\r\n\tif (timezone < Jsonix.XML.Calendar.MIN_TIMEZONE || timezone > Jsonix.XML.Calendar.MAX_TIMEZONE) {\r\n\t\tthrow new Error('Invalid timezone [' + timezone + ']. Timezone must not be in range [' + Jsonix.XML.Calendar.MIN_TIMEZONE + ', ' + Jsonix.XML.Calendar.MAX_TIMEZONE + '].');\r\n\t}\r\n};\r\nJsonix.XML.Input = Jsonix.Class({\r\n\troot : null,\r\n\tnode : null,\r\n\tattributes : null,\r\n\teventType : null,\r\n\tpns : null,\r\n\tinitialize : function(node) {\r\n\t\tJsonix.Util.Ensure.ensureExists(node);\r\n\t\tthis.root = node;\r\n\t\tvar rootPnsItem =\r\n\t\t{\r\n\t\t\t'' : ''\r\n\t\t};\r\n\t\trootPnsItem[Jsonix.XML.XMLNS_P] = Jsonix.XML.XMLNS_NS;\r\n\t\tthis.pns = [rootPnsItem];\r\n\t},\r\n\thasNext : function() {\r\n\t\t// No current node, we've not started yet\r\n\t\tif (this.node === null) {\r\n\t\t\treturn true;\r\n\t\t} else if (this.node === this.root) {\r\n\t\t\tvar nodeType = this.node.nodeType;\r\n\t\t\t// Root node is document, last event type is END_DOCUMENT\r\n\t\t\tif (nodeType === 9 && this.eventType === 8) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\t// Root node is element, last event type is END_ELEMENT\r\n\t\t\telse if (nodeType === 1 && this.eventType === 2) {\r\n\t\t\t\treturn false;\r\n\t\t\t} else {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\treturn true;\r\n\t\t}\r\n\t},\r\n\tnext : function() {\r\n\t\tif (this.eventType === null) {\r\n\t\t\treturn this.enter(this.root);\r\n\t\t}\r\n\t\t// START_DOCUMENT\r\n\t\tif (this.eventType === 7) {\r\n\t\t\tvar documentElement = this.node.documentElement;\r\n\t\t\tif (documentElement) {\r\n\t\t\t\treturn this.enter(documentElement);\r\n\t\t\t} else {\r\n\t\t\t\treturn this.leave(this.node);\r\n\t\t\t}\r\n\t\t} else if (this.eventType === 1) {\r\n\t\t\tvar firstChild = this.node.firstChild;\r\n\t\t\tif (firstChild) {\r\n\t\t\t\treturn this.enter(firstChild);\r\n\t\t\t} else {\r\n\t\t\t\treturn this.leave(this.node);\r\n\t\t\t}\r\n\t\t} else if (this.eventType === 2) {\r\n\t\t\tvar nextSibling = this.node.nextSibling;\r\n\t\t\tif (nextSibling) {\r\n\t\t\t\treturn this.enter(nextSibling);\r\n\t\t\t} else {\r\n\t\t\t\treturn this.leave(this.node);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\treturn this.leave(this.node);\r\n\t\t}\r\n\t},\r\n\tenter : function(node) {\r\n\t\tvar nodeType = node.nodeType;\r\n\t\tthis.node = node;\r\n\t\tthis.attributes = null;\r\n\t\t// Document node\r\n\t\tif (nodeType === 1) {\r\n\t\t\t// START_ELEMENT\r\n\t\t\tthis.eventType = 1;\r\n\t\t\tthis.pushNS(node);\r\n\t\t\treturn this.eventType;\r\n\t\t} else if (nodeType === 2) {\r\n\t\t\t// ATTRIBUTE\r\n\t\t\tthis.eventType = 10;\r\n\t\t\treturn this.eventType;\r\n\t\t} else if (nodeType === 3) {\r\n\t\t\tvar nodeValue = node.nodeValue;\r\n\t\t\tif (Jsonix.Util.StringUtils.isEmpty(nodeValue)) {\r\n\t\t\t\t// SPACE\r\n\t\t\t\tthis.eventType = 6;\r\n\t\t\t} else {\r\n\t\t\t\t// CHARACTERS\r\n\t\t\t\tthis.eventType = 4;\r\n\t\t\t}\r\n\t\t\treturn this.eventType;\r\n\t\t} else if (nodeType === 4) {\r\n\t\t\t// CDATA\r\n\t\t\tthis.eventType = 12;\r\n\t\t\treturn this.eventType;\r\n\t\t} else if (nodeType === 5) {\r\n\t\t\t// ENTITY_REFERENCE_NODE = 5\r\n\t\t\t// ENTITY_REFERENCE\r\n\t\t\tthis.eventType = 9;\r\n\t\t\treturn this.eventType;\r\n\t\t} else if (nodeType === 6) {\r\n\t\t\t// ENTITY_DECLARATION\r\n\t\t\tthis.eventType = 15;\r\n\t\t\treturn this.eventType;\r\n\t\t} else if (nodeType === 7) {\r\n\t\t\t// PROCESSING_INSTRUCTION\r\n\t\t\tthis.eventType = 3;\r\n\t\t\treturn this.eventType;\r\n\t\t} else if (nodeType === 8) {\r\n\t\t\t// COMMENT\r\n\t\t\tthis.eventType = 5;\r\n\t\t\treturn this.eventType;\r\n\t\t} else if (nodeType === 9) {\r\n\t\t\t// START_DOCUMENT\r\n\t\t\tthis.eventType = 7;\r\n\t\t\treturn this.eventType;\r\n\t\t} else if (nodeType === 10) {\r\n\t\t\t// DTD\r\n\t\t\tthis.eventType = 12;\r\n\t\t\treturn this.eventType;\r\n\t\t} else if (nodeType === 12) {\r\n\t\t\t// NOTATION_DECLARATION\r\n\t\t\tthis.eventType = 14;\r\n\t\t\treturn this.eventType;\r\n\t\t} else {\r\n\t\t\t// DOCUMENT_FRAGMENT_NODE = 11\r\n\t\t\tthrow new Error(\"Node type [\" + nodeType + '] is not supported.');\r\n\t\t}\r\n\t},\r\n\tleave : function(node) {\r\n\t\tif (node.nodeType === 9) {\r\n\t\t\tif (this.eventType == 8) {\r\n\t\t\t\tthrow new Error(\"Invalid state.\");\r\n\t\t\t} else {\r\n\t\t\t\tthis.node = node;\r\n\t\t\t\tthis.attributes = null;\r\n\t\t\t\t// END_ELEMENT\r\n\t\t\t\tthis.eventType = 8;\r\n\t\t\t\treturn this.eventType;\r\n\t\t\t}\r\n\t\t} else if (node.nodeType === 1) {\r\n\t\t\tif (this.eventType == 2) {\r\n\t\t\t\tvar nextSibling = node.nextSibling;\r\n\t\t\t\tif (nextSibling) {\r\n\t\t\t\t\treturn this.enter(nextSibling);\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tthis.node = node;\r\n\t\t\t\tthis.attributes = null;\r\n\t\t\t\t// END_ELEMENT\r\n\t\t\t\tthis.eventType = 2;\r\n\t\t\t\tthis.popNS();\r\n\t\t\t\treturn this.eventType;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tvar nextSibling1 = node.nextSibling;\r\n\t\tif (nextSibling1) {\r\n\t\t\treturn this.enter(nextSibling1);\r\n\t\t} else {\r\n\t\t\tvar parentNode = node.parentNode;\r\n\t\t\tthis.node = parentNode;\r\n\t\t\tthis.attributes = null;\r\n\t\t\tif (parentNode.nodeType === 9) {\r\n\t\t\t\tthis.eventType = 8;\r\n\t\t\t} else {\r\n\t\t\t\tthis.eventType = 2;\r\n\t\t\t}\r\n\t\t\treturn this.eventType;\r\n\t\t}\r\n\t},\r\n\tgetName : function() {\r\n\t\tvar node = this.node;\r\n\t\tif (Jsonix.Util.Type.isString(node.nodeName)) {\r\n\t\t\tif (Jsonix.Util.Type.isString(node.namespaceURI)) {\r\n\t\t\t\treturn new Jsonix.XML.QName(node.namespaceURI, node.nodeName);\r\n\t\t\t} else {\r\n\t\t\t\treturn new Jsonix.XML.QName(node.nodeName);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t},\r\n\tgetNameKey : function() {\r\n\t\tvar node = this.node;\r\n\t\tif (Jsonix.Util.Type.isString(node.nodeName)) {\r\n\t\t\treturn Jsonix.XML.QName.key(node.namespaceURI, node.nodeName);\r\n\t\t} else {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t},\r\n\tgetText : function() {\r\n\t\treturn this.node.nodeValue;\r\n\t},\r\n\tnextTag : function() {\r\n\t\tvar et = this.next();\r\n\t\t// TODO isWhiteSpace\r\n\t\twhile (et === 7 || et === 4 || et === 12 || et === 6 || et === 3 || et === 5) {\r\n\t\t\tet = this.next();\r\n\t\t}\r\n\t\tif (et !== 1 && et !== 2) {\r\n\t\t\t// TODO location\r\n\t\t\tthrow new Error('Expected start or end tag.');\r\n\t\t}\r\n\t\treturn et;\r\n\t},\r\n\tskipElement : function() {\r\n\t\tif (this.eventType !== Jsonix.XML.Input.START_ELEMENT) {\r\n\t\t\tthrow new Error(\"Parser must be on START_ELEMENT to skip element.\");\r\n\t\t}\r\n\t\tvar numberOfOpenTags = 1;\r\n\t\tvar et;\r\n\t\tdo {\r\n\t\t\tet = this.nextTag();\r\n\t\t    numberOfOpenTags += (et === Jsonix.XML.Input.START_ELEMENT) ? 1 : -1;\r\n\t\t  } while (numberOfOpenTags > 0);\r\n\t\treturn et;\r\n\t},\t\r\n\tgetElementText : function() {\r\n\t\tif (this.eventType != 1) {\r\n\t\t\tthrow new Error(\"Parser must be on START_ELEMENT to read next text.\");\r\n\t\t}\r\n\t\tvar et = this.next();\r\n\t\tvar content = '';\r\n\t\twhile (et !== 2) {\r\n\t\t\tif (et === 4 || et === 12 || et === 6 || et === 9) {\r\n\t\t\t\tcontent = content + this.getText();\r\n\t\t\t} else if (et === 3 || et === 5) {\r\n\t\t\t\t// Skip PI or comment\r\n\t\t\t} else if (et === 8) {\r\n\t\t\t\t// End document\r\n\t\t\t\tthrow new Error(\"Unexpected end of document when reading element text content.\");\r\n\t\t\t} else if (et === 1) {\r\n\t\t\t\t// End element\r\n\t\t\t\t// TODO location\r\n\t\t\t\tthrow new Error(\"Element text content may not contain START_ELEMENT.\");\r\n\t\t\t} else {\r\n\t\t\t\t// TODO location\r\n\t\t\t\tthrow new Error(\"Unexpected event type [\" + et + \"].\");\r\n\t\t\t}\r\n\t\t\tet = this.next();\r\n\t\t}\r\n\t\treturn content;\r\n\t},\r\n\tretrieveElement : function () {\r\n\t\tvar element;\r\n\t\tif (this.eventType === 1) {\r\n\t\t\telement = this.node;\r\n\t\t} else if (this.eventType === 10) {\r\n\t\t\telement = this.node.parentNode;\r\n\t\t} else {\r\n\t\t\tthrow new Error(\"Element can only be retrieved for START_ELEMENT or ATTRIBUTE nodes.\");\r\n\t\t}\r\n\t\treturn element;\r\n\t},\r\n\tretrieveAttributes : function () {\r\n\t\tvar attributes;\r\n\t\tif (this.attributes)\r\n\t\t{\r\n\t\t\tattributes = this.attributes;\r\n\t\t} else if (this.eventType === 1) {\r\n\t\t\tattributes = this.node.attributes;\r\n\t\t\tthis.attributes = attributes;\r\n\t\t} else if (this.eventType === 10) {\r\n\t\t\tattributes = this.node.parentNode.attributes;\r\n\t\t\tthis.attributes = attributes;\r\n\t\t} else {\r\n\t\t\tthrow new Error(\"Attributes can only be retrieved for START_ELEMENT or ATTRIBUTE nodes.\");\r\n\t\t}\r\n\t\treturn attributes;\r\n\t},\r\n\tgetAttributeCount : function() {\r\n\t\tvar attributes = this.retrieveAttributes();\r\n\t\treturn attributes.length;\r\n\t},\r\n\tgetAttributeName : function(index) {\r\n\t\tvar attributes = this.retrieveAttributes();\r\n\t\tif (index < 0 || index >= attributes.length) {\r\n\t\t\tthrow new Error(\"Invalid attribute index [\" + index + \"].\");\r\n\t\t}\r\n\t\tvar attribute = attributes[index];\r\n\t\tif (Jsonix.Util.Type.isString(attribute.namespaceURI)) {\r\n\t\t\treturn new Jsonix.XML.QName(attribute.namespaceURI, attribute.nodeName);\r\n\t\t} else {\r\n\t\t\treturn new Jsonix.XML.QName(attribute.nodeName);\r\n\t\t}\r\n\t},\r\n\tgetAttributeNameKey : function(index) {\r\n\t\tvar attributes = this.retrieveAttributes();\r\n\t\tif (index < 0 || index >= attributes.length) {\r\n\t\t\tthrow new Error(\"Invalid attribute index [\" + index + \"].\");\r\n\t\t}\r\n\t\tvar attribute = attributes[index];\r\n\r\n\t\treturn Jsonix.XML.QName.key(attribute.namespaceURI, attribute.nodeName);\r\n\t},\r\n\tgetAttributeValue : function(index) {\r\n\t\tvar attributes = this.retrieveAttributes();\r\n\t\tif (index < 0 || index >= attributes.length) {\r\n\t\t\tthrow new Error(\"Invalid attribute index [\" + index + \"].\");\r\n\t\t}\r\n\t\tvar attribute = attributes[index];\r\n\t\treturn attribute.value;\r\n\t},\r\n\tgetAttributeValueNS : null,\r\n\tgetAttributeValueNSViaElement : function(namespaceURI, localPart) {\r\n\t\tvar element = this.retrieveElement();\r\n\t\treturn element.getAttributeNS(namespaceURI, localPart);\r\n\t},\r\n\tgetAttributeValueNSViaAttribute : function(namespaceURI, localPart) {\r\n\t\tvar attributeNode = this.getAttributeNodeNS(namespaceURI, localPart);\r\n\t\tif (Jsonix.Util.Type.exists(attributeNode)) {\r\n\t\t\treturn attributeNode.nodeValue;\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\treturn null;\r\n\t\t}\r\n\t},\r\n\tgetAttributeNodeNS : null,\r\n\tgetAttributeNodeNSViaElement : function(namespaceURI, localPart) {\r\n\t\tvar element = this.retrieveElement();\r\n\t\treturn element.getAttributeNodeNS(namespaceURI, localPart);\r\n\t},\r\n\tgetAttributeNodeNSViaAttributes : function(namespaceURI, localPart) {\r\n\t\tvar attributeNode = null;\r\n\t\tvar attributes = this.retrieveAttributes();\r\n\t\tvar potentialNode, fullName;\r\n\t\tfor (var i = 0, len = attributes.length; i < len; ++i) {\r\n\t\t\tpotentialNode = attributes[i];\r\n\t\t\tif (potentialNode.namespaceURI === namespaceURI) {\r\n\t\t\t\tfullName = (potentialNode.prefix) ? (potentialNode.prefix + ':' + localPart) : localPart;\r\n\t\t\t\tif (fullName === potentialNode.nodeName) {\r\n\t\t\t\t\tattributeNode = potentialNode;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn attributeNode;\r\n\t},\r\n\tgetElement : function() {\r\n\t\tif (this.eventType === 1 || this.eventType === 2) {\r\n\t\t\t// Go to the END_ELEMENT\r\n\t\t\tthis.eventType = 2;\r\n\t\t\treturn this.node;\r\n\t\t} else {\r\n\t\t\tthrow new Error(\"Parser must be on START_ELEMENT or END_ELEMENT to return current element.\");\r\n\t\t}\r\n\t},\r\n\tpushNS : function (node) {\r\n\t\tvar pindex = this.pns.length - 1;\r\n\t\tvar parentPnsItem = this.pns[pindex];\r\n\t\tvar pnsItem = Jsonix.Util.Type.isObject(parentPnsItem) ? pindex : parentPnsItem;\r\n\t\tthis.pns.push(pnsItem);\r\n\t\tpindex++;\r\n\t\tvar reference = true;\r\n\t\tif (node.attributes)\r\n\t\t{\r\n\t\t\tvar attributes = node.attributes;\r\n\t\t\tvar alength = attributes.length;\r\n\t\t\tif (alength > 0)\r\n\t\t\t{\r\n\t\t\t\t// If given node has attributes\r\n\t\t\t\tfor (var aindex = 0; aindex < alength; aindex++)\r\n\t\t\t\t{\r\n\t\t\t\t\tvar attribute = attributes[aindex];\r\n\t\t\t\t\tvar attributeName = attribute.nodeName;\r\n\t\t\t\t\tvar p = null;\r\n\t\t\t\t\tvar ns = null;\r\n\t\t\t\t\tvar isNS = false;\r\n\t\t\t\t\tif (attributeName === 'xmlns')\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tp = '';\r\n\t\t\t\t\t\tns = attribute.value;\r\n\t\t\t\t\t\tisNS = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse if (attributeName.substring(0, 6) === 'xmlns:')\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tp = attributeName.substring(6);\r\n\t\t\t\t\t\tns = attribute.value;\r\n\t\t\t\t\t\tisNS = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// Attribute is a namespace declaration\r\n\t\t\t\t\tif (isNS)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tif (reference)\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tpnsItem = Jsonix.Util.Type.cloneObject(this.pns[pnsItem], {});\r\n\t\t\t\t\t\t\tthis.pns[pindex] = pnsItem;\r\n\t\t\t\t\t\t\treference = false;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tpnsItem[p] = ns;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\t\t\r\n\t},\r\n\tpopNS : function () {\r\n\t\tthis.pns.pop();\r\n\t},\r\n\tgetNamespaceURI : function (p) {\r\n\t\tvar pindex = this.pns.length - 1;\r\n\t\tvar pnsItem = this.pns[pindex];\r\n\t\tpnsItem = Jsonix.Util.Type.isObject(pnsItem) ? pnsItem : this.pns[pnsItem];\r\n\t\treturn pnsItem[p];\r\n\t},\r\n\tCLASS_NAME : \"Jsonix.XML.Input\"\r\n\r\n});\r\n\r\nJsonix.XML.Input.prototype.getAttributeValueNS = (Jsonix.DOM.isDomImplementationAvailable()) ? Jsonix.XML.Input.prototype.getAttributeValueNSViaElement : Jsonix.XML.Input.prototype.getAttributeValueNSViaAttribute;\r\nJsonix.XML.Input.prototype.getAttributeNodeNS = (Jsonix.DOM.isDomImplementationAvailable()) ? Jsonix.XML.Input.prototype.getAttributeNodeNSViaElement : Jsonix.XML.Input.prototype.getAttributeNodeNSViaAttributes;\r\n\r\nJsonix.XML.Input.START_ELEMENT = 1;\r\nJsonix.XML.Input.END_ELEMENT = 2;\r\nJsonix.XML.Input.PROCESSING_INSTRUCTION = 3;\r\nJsonix.XML.Input.CHARACTERS = 4;\r\nJsonix.XML.Input.COMMENT = 5;\r\nJsonix.XML.Input.SPACE = 6;\r\nJsonix.XML.Input.START_DOCUMENT = 7;\r\nJsonix.XML.Input.END_DOCUMENT = 8;\r\nJsonix.XML.Input.ENTITY_REFERENCE = 9;\r\nJsonix.XML.Input.ATTRIBUTE = 10;\r\nJsonix.XML.Input.DTD = 11;\r\nJsonix.XML.Input.CDATA = 12;\r\nJsonix.XML.Input.NAMESPACE = 13;\r\nJsonix.XML.Input.NOTATION_DECLARATION = 14;\r\nJsonix.XML.Input.ENTITY_DECLARATION = 15;\r\n\r\nJsonix.XML.Output = Jsonix.Class({\r\n\tdocument : null,\r\n\tdocumentElement : null,\r\n\tnode : null,\r\n\tnodes : null,\r\n\tnsp : null,\r\n\tpns : null,\r\n\tnamespacePrefixIndex : 0,\r\n\txmldom : null,\r\n\tinitialize : function(options) {\r\n\t\t// REWORK\r\n\t\tif (typeof ActiveXObject !== 'undefined') {\r\n\t\t\tthis.xmldom = new ActiveXObject(\"Microsoft.XMLDOM\");\r\n\t\t} else {\r\n\t\t\tthis.xmldom = null;\r\n\t\t}\r\n\t\tthis.nodes = [];\r\n\t\tvar rootNspItem =\r\n\t\t{\r\n\t\t\t'' : ''\r\n\t\t};\r\n\t\trootNspItem[Jsonix.XML.XMLNS_NS] = Jsonix.XML.XMLNS_P;\r\n\t\tif (Jsonix.Util.Type.isObject(options)) {\r\n\t\t\tif (Jsonix.Util.Type.isObject(options.namespacePrefixes)) {\r\n\t\t\t\tJsonix.Util.Type.cloneObject(options.namespacePrefixes, rootNspItem);\r\n\t\t\t}\r\n\t\t}\r\n\t\tthis.nsp = [rootNspItem];\r\n\t\tvar rootPnsItem =\r\n\t\t{\r\n\t\t\t'' : ''\r\n\t\t};\r\n\t\trootPnsItem[Jsonix.XML.XMLNS_P] = Jsonix.XML.XMLNS_NS;\r\n\t\tthis.pns = [rootPnsItem];\r\n\t},\r\n\tdestroy : function() {\r\n\t\tthis.xmldom = null;\r\n\t},\r\n\twriteStartDocument : function() {\r\n\t\t// TODO Check\r\n\t\tvar doc = Jsonix.DOM.createDocument();\r\n\t\tthis.document = doc;\r\n\t\treturn this.push(doc);\r\n\t},\r\n\twriteEndDocument : function() {\r\n\t\treturn this.pop();\r\n\r\n\t},\r\n\twriteStartElement : function(name) {\r\n\t\tJsonix.Util.Ensure.ensureObject(name);\r\n\t\tvar localPart = name.localPart || name.lp || null;\r\n\t\tJsonix.Util.Ensure.ensureString(localPart);\r\n\t\tvar ns = name.namespaceURI || name.ns || null;\r\n\t\tvar namespaceURI = Jsonix.Util.Type.isString(ns) ? ns : '';\r\n\r\n\t\tvar p = name.prefix || name.p;\r\n\t\tvar prefix = this.getPrefix(namespaceURI, p);\r\n\r\n\t\tvar qualifiedName = (!prefix ? localPart : prefix + ':' + localPart);\r\n\r\n\t\tvar element;\r\n\t\tif (Jsonix.Util.Type.isFunction(this.document.createElementNS))\t{\r\n\t\t\telement = this.document.createElementNS(namespaceURI, qualifiedName);\r\n\t\t}\r\n\t\telse if (this.xmldom) {\r\n\t\t\telement = this.xmldom.createNode(1, qualifiedName, namespaceURI);\r\n\r\n\t\t} else {\r\n\t\t\tthrow new Error(\"Could not create an element node.\");\r\n\t\t}\r\n\t\tthis.peek().appendChild(element);\r\n\t\tthis.push(element);\r\n\t\tthis.declareNamespace(namespaceURI, prefix);\r\n\t\tif (this.documentElement === null)\r\n\t\t{\r\n\t\t\tthis.documentElement = element;\r\n\t\t\tthis.declareNamespaces();\r\n\t\t}\r\n\t\treturn element;\r\n\t},\r\n\twriteEndElement : function() {\r\n\t\treturn this.pop();\r\n\t},\r\n\twriteCharacters : function(text) {\r\n\t\tvar node;\r\n\t\tif (Jsonix.Util.Type.isFunction(this.document.createTextNode))\t{\r\n\t\t\tnode = this.document.createTextNode(text);\r\n\t\t}\r\n\t\telse if (this.xmldom) {\r\n\t\t\tnode = this.xmldom.createTextNode(text);\r\n\t\t} else {\r\n\t\t\tthrow new Error(\"Could not create a text node.\");\r\n\t\t}\r\n\t\tthis.peek().appendChild(node);\r\n\t\treturn node;\r\n\r\n\t},\r\n\twriteCdata : function(text) {\r\n\t\tvar parts = text.split(']]>');\r\n\t\tfor (var index = 0; index < parts.length; index++) {\r\n\t\t\tif (index + 1 < parts.length) {\r\n\t\t\t\tparts[index] = parts[index] + ']]';\r\n\t\t\t\tparts[index + 1] = '>' + parts[index + 1];\r\n\t\t\t}\r\n\t\t}\r\n\t\tvar node;\r\n\t\tfor (var jndex = 0; jndex < parts.length; jndex ++) {\r\n\t\t\tnode = this.writeCdataWithoutCdend(parts[jndex]);\r\n\t\t}\r\n\t\treturn node;\r\n\t},\r\n\twriteCdataWithoutCdend : function(text) {\r\n\t\tvar node;\r\n\t\tif (Jsonix.Util.Type.isFunction(this.document.createCDATASection))\t{\r\n\t\t\tnode = this.document.createCDATASection(text);\r\n\t\t}\r\n\t\telse if (this.xmldom) {\r\n\t\t\tnode = this.xmldom.createCDATASection(text);\r\n\t\t} else {\r\n\t\t\tthrow new Error(\"Could not create a CDATA section node.\");\r\n\t\t}\r\n\t\tthis.peek().appendChild(node);\r\n\t\treturn node;\r\n\t},\r\n\twriteAttribute : function(name, value) {\r\n\t\tJsonix.Util.Ensure.ensureString(value);\r\n\t\tJsonix.Util.Ensure.ensureObject(name);\r\n\t\tvar localPart = name.localPart || name.lp || null;\r\n\t\tJsonix.Util.Ensure.ensureString(localPart);\r\n\t\tvar ns = name.namespaceURI || name.ns || null;\r\n\t\tvar namespaceURI = Jsonix.Util.Type.isString(ns) ? ns : '';\r\n\t\tvar p = name.prefix || name.p || null;\r\n\t\tvar prefix = this.getPrefix(namespaceURI, p);\r\n\r\n\t\tvar qualifiedName = (!prefix ? localPart : prefix + ':' + localPart);\r\n\r\n\t\tvar node = this.peek();\r\n\r\n\t\tif (namespaceURI === '') {\r\n\t\t\tnode.setAttribute(qualifiedName, value);\r\n\t\t} else {\r\n\t\t\tif (node.setAttributeNS) {\r\n\t\t\t\tnode.setAttributeNS(namespaceURI, qualifiedName, value);\r\n\t\t\t} else {\r\n\t\t\t\tif (this.xmldom) {\r\n\t\t\t\t\tvar attribute = this.document.createNode(2, qualifiedName, namespaceURI);\r\n\t\t\t\t\tattribute.nodeValue = value;\r\n\t\t\t\t\tnode.setAttributeNode(attribute);\r\n\t\t\t\t}\r\n\t\t\t\telse if (namespaceURI === Jsonix.XML.XMLNS_NS)\r\n\t\t\t\t{\r\n\t\t\t\t\t// XMLNS namespace may be processed unqualified\r\n\t\t\t\t\tnode.setAttribute(qualifiedName, value);\r\n\t\t\t\t}\r\n\t\t\t\telse\r\n\t\t\t\t{\r\n\t\t\t\t\tthrow new Error(\"The [setAttributeNS] method is not implemented\");\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tthis.declareNamespace(namespaceURI, prefix);\r\n\t\t}\r\n\r\n\t},\r\n\twriteNode : function(node) {\r\n\t\tvar importedNode;\r\n\t\tif (Jsonix.Util.Type.exists(this.document.importNode)) {\r\n\t\t\timportedNode = this.document.importNode(node, true);\r\n\t\t} else {\r\n\t\t\timportedNode = node;\r\n\t\t}\r\n\t\tthis.peek().appendChild(importedNode);\r\n\t\treturn importedNode;\r\n\t},\r\n\tpush : function(node) {\r\n\t\tthis.nodes.push(node);\r\n\t\tthis.pushNS();\r\n\t\treturn node;\r\n\t},\r\n\tpeek : function() {\r\n\t\treturn this.nodes[this.nodes.length - 1];\r\n\t},\r\n\tpop : function() {\r\n\t\tthis.popNS();\r\n\t\tvar result = this.nodes.pop();\r\n\t\treturn result;\r\n\t},\r\n\tpushNS : function ()\r\n\t{\r\n\t\tvar nindex = this.nsp.length - 1;\r\n\t\tvar pindex = this.pns.length - 1;\r\n\t\tvar parentNspItem = this.nsp[nindex];\r\n\t\tvar parentPnsItem = this.pns[pindex];\r\n\t\tvar nspItem = Jsonix.Util.Type.isObject(parentNspItem) ? nindex : parentNspItem;\r\n\t\tvar pnsItem = Jsonix.Util.Type.isObject(parentPnsItem) ? pindex : parentPnsItem;\r\n\t\tthis.nsp.push(nspItem);\r\n\t\tthis.pns.push(pnsItem);\r\n\t},\r\n\tpopNS : function ()\r\n\t{\r\n\t\tthis.nsp.pop();\r\n\t\tthis.pns.pop();\r\n\t},\r\n\tdeclareNamespaces : function ()\r\n\t{\r\n\t\tvar index = this.nsp.length - 1;\r\n\t\tvar nspItem = this.nsp[index];\r\n\t\tnspItem = Jsonix.Util.Type.isNumber(nspItem) ? this.nsp[nspItem] : nspItem;\r\n\t\tvar ns, p;\r\n\t\tfor (ns in nspItem)\r\n\t\t{\r\n\t\t\tif (nspItem.hasOwnProperty(ns))\r\n\t\t\t{\r\n\t\t\t\tp = nspItem[ns];\r\n\t\t\t\tthis.declareNamespace(ns, p);\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\tdeclareNamespace : function (ns, p)\r\n\t{\r\n\t\tvar index = this.pns.length - 1;\r\n\t\tvar pnsItem = this.pns[index];\r\n\t\tvar reference;\r\n\t\tif (Jsonix.Util.Type.isNumber(pnsItem))\r\n\t\t{\r\n\t\t\t// Resolve the reference\r\n\t\t\treference = true;\r\n\t\t\tpnsItem = this.pns[pnsItem];\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\treference = false;\r\n\t\t}\r\n\t\t// If this prefix is mapped to a different namespace and must be redeclared\r\n\t\tif (pnsItem[p] !== ns)\r\n\t\t{\r\n\t\t\tif (p === '')\r\n\t\t\t{\r\n\t\t\t\tthis.writeAttribute({lp : Jsonix.XML.XMLNS_P}, ns);\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\tthis.writeAttribute({ns : Jsonix.XML.XMLNS_NS, lp : p, p : Jsonix.XML.XMLNS_P}, ns);\r\n\t\t\t}\r\n\t\t\tif (reference)\r\n\t\t\t{\r\n\t\t\t\t// If this was a reference, clone it and replace the reference\r\n\t\t\t\tpnsItem = Jsonix.Util.Type.cloneObject(pnsItem, {});\r\n\t\t\t\tthis.pns[index] = pnsItem;\r\n\t\t\t}\r\n\t\t\tpnsItem[p] = ns;\r\n\t\t}\r\n\t},\r\n\tgetPrefix : function (ns, p)\r\n\t{\r\n\t\tvar index = this.nsp.length - 1;\r\n\t\tvar nspItem = this.nsp[index];\r\n\t\tvar reference;\r\n\t\tif (Jsonix.Util.Type.isNumber(nspItem))\r\n\t\t{\r\n\t\t\t// This is a reference, the item is the index of the parent item\r\n\t\t\treference = true;\r\n\t\t\tnspItem = this.nsp[nspItem];\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\treference = false;\r\n\t\t}\r\n\t\tif (Jsonix.Util.Type.isString(p))\r\n\t\t{\r\n\t\t\tvar oldp = nspItem[ns];\r\n\t\t\t// If prefix is already declared and equals the proposed prefix\r\n\t\t\tif (p === oldp)\r\n\t\t\t{\r\n\t\t\t\t// Nothing to do\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\t// If this was a reference, we have to clone it now\r\n\t\t\t\tif (reference)\r\n\t\t\t\t{\r\n\t\t\t\t\tnspItem = Jsonix.Util.Type.cloneObject(nspItem, {});\r\n\t\t\t\t\tthis.nsp[index] = nspItem;\r\n\t\t\t\t}\r\n\t\t\t\tnspItem[ns] = p;\r\n\t\t\t}\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tp = nspItem[ns];\r\n\t\t\tif (!Jsonix.Util.Type.exists(p)) {\r\n\t\t\t\tp = 'p' + (this.namespacePrefixIndex++);\r\n\t\t\t\t// If this was a reference, we have to clone it now\r\n\t\t\t\tif (reference)\r\n\t\t\t\t{\r\n\t\t\t\t\tnspItem = Jsonix.Util.Type.cloneObject(nspItem, {});\r\n\t\t\t\t\tthis.nsp[index] = nspItem;\r\n\t\t\t\t}\r\n\t\t\t\tnspItem[ns] = p;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn p;\r\n\t},\r\n\tgetNamespaceURI : function (p) {\r\n\t\tvar pindex = this.pns.length - 1;\r\n\t\tvar pnsItem = this.pns[pindex];\r\n\t\tpnsItem = Jsonix.Util.Type.isObject(pnsItem) ? pnsItem : this.pns[pnsItem];\r\n\t\treturn pnsItem[p];\r\n\t},\r\n\tCLASS_NAME : \"Jsonix.XML.Output\"\r\n});\r\n\r\nJsonix.Mapping = {};\r\nJsonix.Mapping.Style = Jsonix.Class({\r\n\tmarshaller : null,\r\n\tunmarshaller : null,\r\n\tmodule : null,\r\n\telementInfo : null,\r\n\tclassInfo : null,\r\n\tenumLeafInfo : null,\r\n\tanyAttributePropertyInfo : null,\r\n\tanyElementPropertyInfo : null,\r\n\tattributePropertyInfo : null,\r\n\telementMapPropertyInfo : null,\r\n\telementPropertyInfo : null,\r\n\telementsPropertyInfo : null,\r\n\telementRefPropertyInfo : null,\r\n\telementRefsPropertyInfo : null,\r\n\tvaluePropertyInfo : null,\r\n\tinitialize : function() {\r\n\t},\r\n\tCLASS_NAME : 'Jsonix.Mapping.Style'\r\n});\r\n\r\nJsonix.Mapping.Style.STYLES = {};\r\nJsonix.Mapping.Styled = Jsonix.Class({\r\n\tmappingStyle : null,\r\n\tinitialize : function(options) {\r\n\t\tif (Jsonix.Util.Type.exists(options)) {\r\n\t\t\tJsonix.Util.Ensure.ensureObject(options);\r\n\t\t\tif (Jsonix.Util.Type.isString(options.mappingStyle)) {\r\n\t\t\t\tvar mappingStyle = Jsonix.Mapping.Style.STYLES[options.mappingStyle];\r\n\t\t\t\tif (!mappingStyle) {\r\n\t\t\t\t\tthrow new Error(\"Mapping style [\" + options.mappingStyle + \"] is not known.\");\r\n\t\t\t\t}\r\n\t\t\t\tthis.mappingStyle = mappingStyle;\r\n\t\t\t} else if (Jsonix.Util.Type.isObject(options.mappingStyle)) {\r\n\t\t\t\tthis.mappingStyle = options.mappingStyle;\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (!this.mappingStyle) {\r\n\t\t\tthis.mappingStyle = Jsonix.Mapping.Style.STYLES.standard;\r\n\t\t}\r\n\t},\r\n\tCLASS_NAME : 'Jsonix.Mapping.Styled'\r\n});\r\nJsonix.Binding = {};\r\nJsonix.Binding.Marshalls = {\r\n};\r\n\r\nJsonix.Binding.Marshalls.Element = Jsonix.Class({\r\n\tmarshalElement : function(value, context, output, scope) {\r\n\t\tvar elementValue = this.convertToTypedNamedValue(value, context, output, scope);\r\n\t\tvar declaredTypeInfo = elementValue.typeInfo;\r\n\t\tvar actualTypeInfo = undefined;\r\n\t\tif (context.supportXsiType && Jsonix.Util.Type.exists(elementValue.value))\r\n\t\t{\r\n\t\t\tvar typeInfoByValue = context.getTypeInfoByValue(elementValue.value);\r\n\t\t\tif (typeInfoByValue && typeInfoByValue.typeName)\r\n\t\t\t{\r\n\t\t\t\tactualTypeInfo = typeInfoByValue;\r\n\t\t\t}\r\n\t\t}\r\n\t\tvar typeInfo = actualTypeInfo || declaredTypeInfo;\r\n\t\tif (typeInfo) {\r\n\t\t\toutput.writeStartElement(elementValue.name);\r\n\t\t\tif (actualTypeInfo && declaredTypeInfo !== actualTypeInfo) {\r\n\t\t\t\tvar xsiTypeName = actualTypeInfo.typeName;\r\n\t\t\t\tvar xsiType = Jsonix.Schema.XSD.QName.INSTANCE.print(xsiTypeName, context, output, scope);\r\n\t\t\t\toutput.writeAttribute(Jsonix.Schema.XSI.TYPE_QNAME, xsiType);\r\n\t\t\t}\r\n\t\t\tif (Jsonix.Util.Type.exists(elementValue.value)) {\r\n\t\t\t\ttypeInfo.marshal(elementValue.value, context, output, scope);\r\n\t\t\t}\r\n\t\t\toutput.writeEndElement();\r\n\t\t} else {\r\n\t\t\tthrow new Error(\"Element [\" + elementValue.name.key + \"] is not known in this context, could not determine its type.\");\r\n\t\t}\r\n\t},\r\n\tgetTypeInfoByElementName : function(name, context, scope) {\r\n\t\tvar elementInfo = context.getElementInfo(name, scope);\r\n\t\tif (Jsonix.Util.Type.exists(elementInfo)) {\r\n\t\t\treturn elementInfo.typeInfo;\r\n\t\t} else {\r\n\t\t\treturn undefined;\r\n\t\t}\r\n\t}\r\n});\r\nJsonix.Binding.Marshalls.Element.AsElementRef = Jsonix.Class({\r\n\tconvertToTypedNamedValue : function(value, context, output, scope) {\r\n\t\tJsonix.Util.Ensure.ensureObject(value);\r\n\t\tvar elementValue = this.convertToNamedValue(value, context, output, scope);\r\n\t\treturn {\r\n\t\t\tname : elementValue.name,\r\n\t\t\tvalue : elementValue.value,\r\n\t\t\ttypeInfo : this.getTypeInfoByElementName(elementValue.name, context, scope)\r\n\t\t};\r\n\t},\r\n\tconvertToNamedValue : function(elementValue, context, output, scope) {\r\n\t\tvar name;\r\n\t\tvar value;\r\n\t\tif (Jsonix.Util.Type.exists(elementValue.name) && !Jsonix.Util.Type.isUndefined(elementValue.value)) {\r\n\t\t\tname = Jsonix.XML.QName.fromObjectOrString(elementValue.name, context);\r\n\t\t\tvalue = Jsonix.Util.Type.exists(elementValue.value) ? elementValue.value : null;\r\n\t\t\treturn {\r\n\t\t\t\tname : name,\r\n\t\t\t\tvalue : value\r\n\t\t\t};\r\n\t\t} else {\r\n\t\t\tfor ( var propertyName in elementValue) {\r\n\t\t\t\tif (elementValue.hasOwnProperty(propertyName)) {\r\n\t\t\t\t\tname = Jsonix.XML.QName.fromObjectOrString(propertyName, context);\r\n\t\t\t\t\tvalue = elementValue[propertyName];\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\tname : name,\r\n\t\t\t\t\t\tvalue : value\r\n\t\t\t\t\t};\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tthrow new Error(\"Invalid element value [\" + elementValue + \"]. Element values must either have {name:'myElementName', value: elementValue} or {myElementName:elementValue} structure.\");\r\n\t}\r\n});\r\n\r\nJsonix.Binding.Unmarshalls = {};\r\n\r\nJsonix.Binding.Unmarshalls.WrapperElement = Jsonix.Class({\r\n\tmixed : false,\r\n\tunmarshalWrapperElement : function(context, input, scope, callback) {\r\n\t\tvar et = input.next();\r\n\t\twhile (et !== Jsonix.XML.Input.END_ELEMENT) {\r\n\t\t\tif (et === Jsonix.XML.Input.START_ELEMENT) {\r\n\t\t\t\tthis.unmarshalElement(context, input, scope, callback);\r\n\t\t\t} else\r\n\t\t\t// Characters\r\n\t\t\tif (this.mixed && (et === Jsonix.XML.Input.CHARACTERS || et === Jsonix.XML.Input.CDATA || et === Jsonix.XML.Input.ENTITY_REFERENCE)) {\r\n\t\t\t\tcallback(input.getText());\r\n\t\t\t} else if (et === Jsonix.XML.Input.SPACE || et === Jsonix.XML.Input.COMMENT || et === Jsonix.XML.Input.PROCESSING_INSTRUCTION) {\r\n\t\t\t\t// Skip whitespace\r\n\t\t\t} else {\r\n\t\t\t\tthrow new Error(\"Illegal state: unexpected event type [\" + et + \"].\");\r\n\t\t\t}\r\n\t\t\tet = input.next();\r\n\t\t}\r\n\t}\r\n});\r\n\r\nJsonix.Binding.Unmarshalls.Element = Jsonix.Class({\r\n\tallowTypedObject : true,\r\n\tallowDom : false,\r\n\tunmarshalElement : function(context, input, scope, callback) {\r\n\t\tif (input.eventType != 1) {\r\n\t\t\tthrow new Error(\"Parser must be on START_ELEMENT to read next element.\");\r\n\t\t}\r\n\t\tvar typeInfo = this.getTypeInfoByInputElement(context, input, scope);\r\n\t\tvar name = input.getName();\r\n\t\tvar elementValue;\r\n\t\tif (this.allowTypedObject) {\r\n\t\t\tif (Jsonix.Util.Type.exists(typeInfo)) {\r\n\t\t\t\tvar value = typeInfo.unmarshal(context, input, scope);\r\n\t\t\t\tvar typedNamedValue = {\r\n\t\t\t\t\tname : name,\r\n\t\t\t\t\tvalue : value,\r\n\t\t\t\t\ttypeInfo : typeInfo\r\n\t\t\t\t};\r\n\t\t\t\telementValue = this.convertFromTypedNamedValue(typedNamedValue, context, input, scope);\r\n\t\t\t} else if (this.allowDom) {\r\n\t\t\t\telementValue = input.getElement();\r\n\t\t\t} else {\r\n\t\t\t\tthrow new Error(\"Element [\" + name.toString() + \"] could not be unmarshalled as is not known in this context and the property does not allow DOM content.\");\r\n\t\t\t}\r\n\t\t} else if (this.allowDom) {\r\n\t\t\telementValue = input.getElement();\r\n\t\t} else {\r\n\t\t\tthrow new Error(\"Element [\" + name.toString() + \"] could not be unmarshalled as the property neither allows typed objects nor DOM as content. This is a sign of invalid mappings, do not use [allowTypedObject : false] and [allowDom : false] at the same time.\");\r\n\t\t}\r\n\t\tcallback(elementValue);\r\n\t},\r\n\tgetTypeInfoByInputElement : function(context, input, scope) {\r\n\t\tvar xsiTypeInfo = null;\r\n\t\tif (context.supportXsiType) {\r\n\t\t\tvar xsiType = input.getAttributeValueNS(Jsonix.Schema.XSI.NAMESPACE_URI, Jsonix.Schema.XSI.TYPE);\r\n\t\t\tif (Jsonix.Util.StringUtils.isNotBlank(xsiType)) {\r\n\t\t\t\tvar xsiTypeName = Jsonix.Schema.XSD.QName.INSTANCE.parse(xsiType, context, input, scope);\r\n\t\t\t\txsiTypeInfo = context.getTypeInfoByTypeNameKey(xsiTypeName.key);\r\n\t\t\t}\r\n\t\t}\r\n\t\tvar name = input.getName();\r\n\t\tvar typeInfo = xsiTypeInfo ? xsiTypeInfo : this.getTypeInfoByElementName(name, context, scope);\r\n\t\treturn typeInfo;\r\n\t},\r\n\tgetTypeInfoByElementName : function(name, context, scope) {\r\n\t\tvar elementInfo = context.getElementInfo(name, scope);\r\n\t\tif (Jsonix.Util.Type.exists(elementInfo)) {\r\n\t\t\treturn elementInfo.typeInfo;\r\n\t\t} else {\r\n\t\t\treturn undefined;\r\n\t\t}\r\n\t}\r\n});\r\n\r\nJsonix.Binding.Unmarshalls.Element.AsElementRef = Jsonix.Class({\r\n\tconvertFromTypedNamedValue : function(typedNamedValue, context, input, scope) {\r\n\t\treturn {\r\n\t\t\tname : typedNamedValue.name,\r\n\t\t\tvalue : typedNamedValue.value\r\n\t\t};\r\n\t}\r\n});\r\n\r\nJsonix.Binding.Unmarshalls.Element.AsSimplifiedElementRef = Jsonix.Class({\r\n\tconvertFromTypedNamedValue : function(typedNamedValue, context, input, scope) {\r\n\t\tvar propertyName = typedNamedValue.name.toCanonicalString(context);\r\n\t\tvar value = {};\r\n\t\tvalue[propertyName] = typedNamedValue.value;\r\n\t\treturn value;\r\n\t}\r\n});\r\nJsonix.Binding.Marshaller = Jsonix.Class(Jsonix.Binding.Marshalls.Element, Jsonix.Binding.Marshalls.Element.AsElementRef, {\r\n\tcontext : null,\r\n\tinitialize : function(context) {\r\n\t\tJsonix.Util.Ensure.ensureObject(context);\r\n\t\tthis.context = context;\r\n\t},\r\n\tmarshalString : function(value) {\r\n\t\tvar doc = this.marshalDocument(value);\r\n\t\tvar text = Jsonix.DOM.serialize(doc);\r\n\t\treturn text;\r\n\t},\r\n\tmarshalDocument : function(value) {\r\n\t\tvar output = new Jsonix.XML.Output({\r\n\t\t\tnamespacePrefixes : this.context.namespacePrefixes\r\n\t\t});\r\n\r\n\t\tvar doc = output.writeStartDocument();\r\n\t\tthis.marshalElement(value, this.context, output, undefined);\r\n\t\toutput.writeEndDocument();\r\n\t\treturn doc;\r\n\t},\r\n\tCLASS_NAME : 'Jsonix.Binding.Marshaller'\r\n});\r\nJsonix.Binding.Marshaller.Simplified = Jsonix.Class(Jsonix.Binding.Marshaller, {\r\n\tCLASS_NAME : 'Jsonix.Binding.Marshaller.Simplified'\r\n});\r\nJsonix.Binding.Unmarshaller = Jsonix.Class(Jsonix.Binding.Unmarshalls.Element, Jsonix.Binding.Unmarshalls.Element.AsElementRef, {\r\n\tcontext : null,\r\n\tallowTypedObject : true,\r\n\tallowDom : false,\r\n\tinitialize : function(context) {\r\n\t\tJsonix.Util.Ensure.ensureObject(context);\r\n\t\tthis.context = context;\r\n\t},\r\n\tunmarshalString : function(text) {\r\n\t\tJsonix.Util.Ensure.ensureString(text);\r\n\t\tvar doc = Jsonix.DOM.parse(text);\r\n\t\treturn this.unmarshalDocument(doc);\r\n\t},\r\n\tunmarshalURL : function(url, callback, options) {\r\n\t\tJsonix.Util.Ensure.ensureString(url);\r\n\t\tJsonix.Util.Ensure.ensureFunction(callback);\r\n\t\tif (Jsonix.Util.Type.exists(options)) {\r\n\t\t\tJsonix.Util.Ensure.ensureObject(options);\r\n\t\t}\r\n\t\tthat = this;\r\n\t\tJsonix.DOM.load(url, function(doc) {\r\n\t\t\tcallback(that.unmarshalDocument(doc));\r\n\t\t}, options);\r\n\t},\r\n\tunmarshalFile : function(fileName, callback, options) {\r\n\t\tif (typeof _jsonix_fs === 'undefined') {\r\n\t\t\tthrow new Error(\"File unmarshalling is only available in environments which support file systems.\");\r\n\t\t}\r\n\t\tJsonix.Util.Ensure.ensureString(fileName);\r\n\t\tJsonix.Util.Ensure.ensureFunction(callback);\r\n\t\tif (Jsonix.Util.Type.exists(options)) {\r\n\t\t\tJsonix.Util.Ensure.ensureObject(options);\r\n\t\t}\r\n\t\tthat = this;\r\n\t\tvar fs = _jsonix_fs;\r\n\t\tfs.readFile(fileName, options, function(err, data) {\r\n\t\t\tif (err) {\r\n\t\t\t\tthrow err;\r\n\t\t\t} else {\r\n\t\t\t\tvar text = data.toString();\r\n\t\t\t\tvar doc = Jsonix.DOM.parse(text);\r\n\t\t\t\tcallback(that.unmarshalDocument(doc));\r\n\t\t\t}\r\n\t\t});\r\n\t},\r\n\tunmarshalDocument : function(doc, scope) {\r\n\t\tvar input = new Jsonix.XML.Input(doc);\r\n\t\tvar result = null;\r\n\t\tvar callback = function(_result) {\r\n\t\t\tresult = _result;\r\n\t\t};\r\n\t\tinput.nextTag();\r\n\t\tthis.unmarshalElement(this.context, input, scope, callback);\r\n\t\treturn result;\r\n\r\n\t},\r\n\tCLASS_NAME : 'Jsonix.Binding.Unmarshaller'\r\n});\r\nJsonix.Binding.Unmarshaller.Simplified = Jsonix.Class(Jsonix.Binding.Unmarshaller, Jsonix.Binding.Unmarshalls.Element.AsSimplifiedElementRef, {\r\n\tCLASS_NAME : 'Jsonix.Binding.Unmarshaller.Simplified'\r\n});\r\nJsonix.Model.TypeInfo = Jsonix.Class({\r\n\tmodule: null,\t\t\t\r\n\tname : null,\r\n\tbaseTypeInfo : null,\r\n\tinitialize : function() {\r\n\t},\r\n\tisBasedOn : function(typeInfo) {\r\n\t\tvar currentTypeInfo = this;\r\n\t\twhile (currentTypeInfo) {\r\n\t\t\tif (typeInfo === currentTypeInfo) {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t\tcurrentTypeInfo = currentTypeInfo.baseTypeInfo;\r\n\t\t}\r\n\t\treturn false;\r\n\t},\r\n\tCLASS_NAME : 'Jsonix.Model.TypeInfo'\r\n});\r\nJsonix.Model.ClassInfo = Jsonix\r\n\t\t.Class(Jsonix.Model.TypeInfo, Jsonix.Mapping.Styled, {\r\n\t\t\tname : null,\r\n\t\t\tlocalName : null,\r\n\t\t\ttypeName : null,\r\n\t\t\tinstanceFactory : null,\r\n\t\t\tproperties : null,\r\n\t\t\tpropertiesMap : null,\r\n\t\t\tstructure : null,\r\n\t\t\ttargetNamespace : '',\r\n\t\t\tdefaultElementNamespaceURI : '',\r\n\t\t\tdefaultAttributeNamespaceURI : '',\r\n\t\t\tbuilt : false,\r\n\t\t\tinitialize : function(mapping, options) {\r\n\t\t\t\tJsonix.Model.TypeInfo.prototype.initialize.apply(this, []);\r\n\t\t\t\tJsonix.Mapping.Styled.prototype.initialize.apply(this, [options]);\r\n\t\t\t\tJsonix.Util.Ensure.ensureObject(mapping);\r\n\t\t\t\tvar n = mapping.name||mapping.n||undefined;\r\n\t\t\t\tJsonix.Util.Ensure.ensureString(n);\r\n\t\t\t\tthis.name = n;\r\n\t\t\t\t\r\n\t\t\t\tvar ln = mapping.localName||mapping.ln||null;\r\n\t\t\t\tthis.localName = ln;\r\n\r\n\t\t\t\tvar dens = mapping.defaultElementNamespaceURI||mapping.dens||mapping.targetNamespace||mapping.tns||'';\r\n\t\t\t\tthis.defaultElementNamespaceURI = dens;\r\n\t\t\t\t\r\n\t\t\t\tvar tns =  mapping.targetNamespace||mapping.tns||mapping.defaultElementNamespaceURI||mapping.dens||this.defaultElementNamespaceURI;\r\n\t\t\t\tthis.targetNamespace = tns;\r\n\r\n\t\t\t\tvar dans = mapping.defaultAttributeNamespaceURI||mapping.dans||'';\r\n\t\t\t\tthis.defaultAttributeNamespaceURI = dans;\r\n\t\t\t\t\r\n\t\t\t\tvar bti = mapping.baseTypeInfo||mapping.bti||null;\r\n\t\t\t\tthis.baseTypeInfo = bti;\r\n\t\t\t\t\r\n\t\t\t\tvar inF = mapping.instanceFactory||mapping.inF||undefined;\r\n\t\t\t\tif (Jsonix.Util.Type.exists(inF)) {\r\n\t\t\t\t\t// TODO: should we support instanceFactory as functions?\r\n\t\t\t\t\t// For the pure JSON configuration?\r\n\t\t\t\t\tJsonix.Util.Ensure.ensureFunction(inF);\r\n\t\t\t\t\tthis.instanceFactory = inF;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tvar tn = mapping.typeName||mapping.tn||undefined;\r\n\t\t\t\t\r\n\t\t\t\tif (Jsonix.Util.Type.exists(tn))\r\n\t\t\t\t{\r\n\t\t\t\t\tif (Jsonix.Util.Type.isString(tn))\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tthis.typeName = new Jsonix.XML.QName(this.targetNamespace, tn);\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\tthis.typeName = Jsonix.XML.QName.fromObject(tn);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\telse if (Jsonix.Util.Type.exists(ln))\r\n\t\t\t\t{\r\n\t\t\t\t\tthis.typeName = new Jsonix.XML.QName(tns, ln);\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tthis.properties = [];\r\n\t\t\t\tthis.propertiesMap = {};\r\n\t\t\t\tvar ps = mapping.propertyInfos||mapping.ps||[];\r\n\t\t\t\tJsonix.Util.Ensure.ensureArray(ps);\r\n\t\t\t\tfor ( var index = 0; index < ps.length; index++) {\r\n\t\t\t\t\tthis.p(ps[index]);\r\n\t\t\t\t}\t\t\t\t\r\n\t\t\t},\r\n\t\t\tgetPropertyInfoByName : function(name) {\r\n\t\t\t\treturn this.propertiesMap[name];\r\n\t\t\t},\r\n\t\t\t// Obsolete\r\n\t\t\tdestroy : function() {\r\n\t\t\t},\r\n\t\t\tbuild : function(context) {\r\n\t\t\t\tif (!this.built) {\r\n\t\t\t\t\tthis.baseTypeInfo = context.resolveTypeInfo(this.baseTypeInfo, this.module);\r\n\t\t\t\t\tif (Jsonix.Util.Type.exists(this.baseTypeInfo)) {\r\n\t\t\t\t\t\tthis.baseTypeInfo.build(context);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// Build properties in this context\r\n\t\t\t\t\tfor ( var index = 0; index < this.properties.length; index++) {\r\n\t\t\t\t\t\tvar propertyInfo = this.properties[index];\r\n\t\t\t\t\t\tpropertyInfo.build(context, this.module);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// Build the structure\r\n\t\t\t\t\tvar structure = {\r\n\t\t\t\t\t\telements : null,\r\n\t\t\t\t\t\tattributes : {},\r\n\t\t\t\t\t\tanyAttribute : null,\r\n\t\t\t\t\t\tvalue : null,\r\n\t\t\t\t\t\tany : null\r\n\t\t\t\t\t};\r\n\t\t\t\t\tthis.buildStructure(context, structure);\r\n\t\t\t\t\tthis.structure = structure;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tbuildStructure : function(context, structure) {\r\n\t\t\t\tif (Jsonix.Util.Type.exists(this.baseTypeInfo)) {\r\n\t\t\t\t\tthis.baseTypeInfo.buildStructure(context, structure);\r\n\t\t\t\t}\r\n\t\t\t\tfor ( var index = 0; index < this.properties.length; index++) {\r\n\t\t\t\t\tvar propertyInfo = this.properties[index];\r\n\t\t\t\t\tpropertyInfo.buildStructure(context, structure);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tunmarshal : function(context, input) {\r\n\t\t\t\tthis.build(context);\r\n\t\t\t\tvar result;\r\n\t\t\t\t\r\n\t\t\t\tif (this.instanceFactory) {\r\n\t\t\t\t\tresult = new this.instanceFactory();\r\n\t\t\t\t}\r\n\t\t\t\telse\r\n\t\t\t\t{\r\n\t\t\t\t\tresult = { TYPE_NAME : this.name }; \r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tif (input.eventType !== 1) {\r\n\t\t\t\t\tthrow new Error(\"Parser must be on START_ELEMENT to read a class info.\");\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Read attributes\r\n\t\t\t\tif (Jsonix.Util.Type.exists(this.structure.attributes)) {\r\n\t\t\t\t\tvar attributeCount = input.getAttributeCount();\r\n\t\t\t\t\tif (attributeCount !== 0) {\r\n\t\t\t\t\t\tfor ( var index = 0; index < attributeCount; index++) {\r\n\t\t\t\t\t\t\tvar attributeNameKey = input\r\n\t\t\t\t\t\t\t\t\t.getAttributeNameKey(index);\r\n\t\t\t\t\t\t\tif (Jsonix.Util.Type\r\n\t\t\t\t\t\t\t\t\t.exists(this.structure.attributes[attributeNameKey])) {\r\n\t\t\t\t\t\t\t\tvar attributeValue = input\r\n\t\t\t\t\t\t\t\t\t\t.getAttributeValue(index);\r\n\t\t\t\t\t\t\t\tif (Jsonix.Util.Type.isString(attributeValue)) {\r\n\t\t\t\t\t\t\t\t\tvar attributePropertyInfo = this.structure.attributes[attributeNameKey];\r\n\t\t\t\t\t\t\t\t\tthis.unmarshalPropertyValue(context, input,\r\n\t\t\t\t\t\t\t\t\t\t\tattributePropertyInfo, result,\r\n\t\t\t\t\t\t\t\t\t\t\tattributeValue);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t// Read any attribute\r\n\t\t\t\tif (Jsonix.Util.Type.exists(this.structure.anyAttribute)) {\r\n\t\t\t\t\tvar propertyInfo = this.structure.anyAttribute;\r\n\t\t\t\t\tthis\r\n\t\t\t\t\t\t\t.unmarshalProperty(context, input, propertyInfo,\r\n\t\t\t\t\t\t\t\t\tresult);\r\n\t\t\t\t}\r\n\t\t\t\t// Read elements\r\n\t\t\t\tif (Jsonix.Util.Type.exists(this.structure.elements)) {\r\n\r\n\t\t\t\t\tvar et = input.next();\r\n\t\t\t\t\twhile (et !== Jsonix.XML.Input.END_ELEMENT) {\r\n\t\t\t\t\t\tif (et === Jsonix.XML.Input.START_ELEMENT) {\r\n\t\t\t\t\t\t\t// New sub-element starts\r\n\t\t\t\t\t\t\tvar elementNameKey = input.getNameKey();\r\n\t\t\t\t\t\t\tif (Jsonix.Util.Type\r\n\t\t\t\t\t\t\t\t\t.exists(this.structure.elements[elementNameKey])) {\r\n\t\t\t\t\t\t\t\tvar elementPropertyInfo = this.structure.elements[elementNameKey];\r\n\t\t\t\t\t\t\t\tthis.unmarshalProperty(context, input,\r\n\t\t\t\t\t\t\t\t\t\telementPropertyInfo, result);\r\n\t\t\t\t\t\t\t} else if (Jsonix.Util.Type\r\n\t\t\t\t\t\t\t\t\t.exists(this.structure.any)) {\r\n\t\t\t\t\t\t\t\t// TODO Refactor\r\n\r\n\t\t\t\t\t\t\t\tvar anyPropertyInfo = this.structure.any;\r\n\t\t\t\t\t\t\t\tthis.unmarshalProperty(context, input,\r\n\t\t\t\t\t\t\t\t\t\tanyPropertyInfo, result);\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t// TODO optionally report a validation error that the element is not expected\r\n\t\t\t\t\t\t\t\tet = input.skipElement();\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} else if ((et === Jsonix.XML.Input.CHARACTERS || et === Jsonix.XML.Input.CDATA || et === Jsonix.XML.Input.ENTITY_REFERENCE)) {\r\n\t\t\t\t\t\t\tif (Jsonix.Util.Type.exists(this.structure.mixed))\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t// Characters and structure has a mixed property\r\n\t\t\t\t\t\t\t\tvar mixedPropertyInfo = this.structure.mixed;\r\n\t\t\t\t\t\t\t\tthis.unmarshalProperty(context, input,\r\n\t\t\t\t\t\t\t\t\t\tmixedPropertyInfo, result);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} else if (et === Jsonix.XML.Input.SPACE || et === Jsonix.XML.Input.COMMENT\t|| et === Jsonix.XML.Input.PROCESSING_INSTRUCTION) {\r\n\t\t\t\t\t\t\t// Ignore\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tthrow new Error(\"Illegal state: unexpected event type [\" + et\t+ \"].\");\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tet = input.next();\r\n\t\t\t\t\t}\r\n\t\t\t\t} else if (Jsonix.Util.Type.exists(this.structure.value)) {\r\n\t\t\t\t\tvar valuePropertyInfo = this.structure.value;\r\n\t\t\t\t\tthis.unmarshalProperty(context, input, valuePropertyInfo,\r\n\t\t\t\t\t\t\tresult);\r\n\t\t\t\t} else {\r\n\t\t\t\t\t// Just skip everything\r\n\t\t\t\t\tinput.nextTag();\r\n\t\t\t\t}\r\n\t\t\t\tif (input.eventType !== 2) {\r\n\t\t\t\t\tthrow new Error(\"Illegal state: must be END_ELEMENT.\");\r\n\t\t\t\t}\r\n\t\t\t\treturn result;\r\n\t\t\t},\r\n\t\t\tunmarshalProperty : function(context, input, propertyInfo, result) {\r\n\t\t\t\tvar propertyValue = propertyInfo\r\n\t\t\t\t\t\t.unmarshal(context, input, this);\r\n\t\t\t\tpropertyInfo.setProperty(result, propertyValue);\r\n\t\t\t},\r\n\t\t\tunmarshalPropertyValue : function(context, input, propertyInfo,\r\n\t\t\t\t\tresult, value) {\r\n\t\t\t\tvar propertyValue = propertyInfo.unmarshalValue(value, context, input, this);\r\n\t\t\t\tpropertyInfo.setProperty(result, propertyValue);\r\n\t\t\t},\r\n\t\t\tmarshal : function(value, context, output, scope) {\r\n\t\t\t\tif (this.isMarshallable(value, context, scope))\r\n\t\t\t\t{\r\n\t\t\t\t\t// TODO This must be reworked\r\n\t\t\t\t\tif (Jsonix.Util.Type.exists(this.baseTypeInfo)) {\r\n\t\t\t\t\t\tthis.baseTypeInfo.marshal(value, context, output);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tfor ( var index = 0; index < this.properties.length; index++) {\r\n\t\t\t\t\t\tvar propertyInfo = this.properties[index];\r\n\t\t\t\t\t\tvar propertyValue = value[propertyInfo.name];\r\n\t\t\t\t\t\tif (Jsonix.Util.Type.exists(propertyValue)) {\r\n\t\t\t\t\t\t\tpropertyInfo.marshal(propertyValue, context, output, this);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\telse\r\n\t\t\t\t{\r\n\t\t\t\t\t// Otherwise if there is just one property, use this property to marshal\r\n\t\t\t\t\tif (this.structure.value)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tvar valuePropertyInfo = this.structure.value;\r\n\t\t\t\t\t\tvaluePropertyInfo.marshal(value, context, output, this);\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse if (this.properties.length === 1)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tvar singlePropertyInfo = this.properties[0];\r\n\t\t\t\t\t\tsinglePropertyInfo.marshal(value, context, output, this);\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t// TODO throw an error\r\n\t\t\t\t\t\tthrow new Error(\"The passed value [\" + value + \"] is not an object and there is no single suitable property to marshal it.\");\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t// Checks if the value is marshallable\r\n\t\t\tisMarshallable : function(value, context, scope) {\r\n\t\t\t\treturn this.isInstance(value, context, scope) || (Jsonix.Util.Type.isObject(value) && !Jsonix.Util.Type.isArray(value));\r\n\t\t\t},\r\n\t\t\tisInstance : function(value, context, scope) {\r\n\t\t\t\tif (this.instanceFactory) {\r\n\t\t\t\t\treturn value instanceof this.instanceFactory;\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\treturn Jsonix.Util.Type.isObject(value) && Jsonix.Util.Type.isString(value.TYPE_NAME) && value.TYPE_NAME === this.name;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\t// Obsolete, left for backwards compatibility\r\n\t\t\tb : function(baseTypeInfo) {\r\n\t\t\t\tJsonix.Util.Ensure.ensureObject(baseTypeInfo);\r\n\t\t\t\tthis.baseTypeInfo = baseTypeInfo;\r\n\t\t\t\treturn this;\r\n\t\t\t},\r\n\t\t\t// Obsolete, left for backwards compatibility\r\n\t\t\tps : function() {\r\n\t\t\t\treturn this;\r\n\t\t\t},\r\n\t\t\tp : function(mapping) {\r\n\t\t\t\tJsonix.Util.Ensure.ensureObject(mapping);\r\n\t\t\t\t// If mapping is an instance of the property class\r\n\t\t\t\tif (mapping instanceof Jsonix.Model.PropertyInfo) {\r\n\t\t\t\t\tthis.addProperty(mapping);\r\n\t\t\t\t}\r\n\t\t\t\t// Else create it via generic mapping configuration\r\n\t\t\t\telse {\r\n\t\t\t\t\tmapping = Jsonix.Util.Type.cloneObject(mapping);\r\n\t\t\t\t\tvar type = mapping.type||mapping.t||'element';\r\n\t\t\t\t\t// Locate the creator function\r\n\t\t\t\t\tif (Jsonix.Util.Type\r\n\t\t\t\t\t\t\t.isFunction(this.propertyInfoCreators[type])) {\r\n\t\t\t\t\t\tvar propertyInfoCreator = this.propertyInfoCreators[type];\r\n\t\t\t\t\t\t// Call the creator function\r\n\t\t\t\t\t\tpropertyInfoCreator.call(this, mapping);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthrow new Error(\"Unknown property info type [\" + type + \"].\");\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\taa : function(mapping) {\r\n\t\t\t\tthis.addDefaultNamespaces(mapping);\r\n\t\t\t\treturn this\r\n\t\t\t\t\t\t.addProperty(new this.mappingStyle.anyAttributePropertyInfo(\r\n\t\t\t\t\t\t\t\tmapping, {\r\n\t\t\t\t\t\t\t\t\tmappingStyle : this.mappingStyle\r\n\t\t\t\t\t\t\t\t}));\r\n\t\t\t},\r\n\t\t\tae : function(mapping) {\r\n\t\t\t\tthis.addDefaultNamespaces(mapping);\r\n\t\t\t\treturn this\r\n\t\t\t\t\t\t.addProperty(new this.mappingStyle.anyElementPropertyInfo(\r\n\t\t\t\t\t\t\t\tmapping, {\r\n\t\t\t\t\t\t\t\t\tmappingStyle : this.mappingStyle\r\n\t\t\t\t\t\t\t\t}));\r\n\t\t\t},\r\n\t\t\ta : function(mapping) {\r\n\t\t\t\tthis.addDefaultNamespaces(mapping);\r\n\t\t\t\treturn this.addProperty(new this.mappingStyle.attributePropertyInfo(\r\n\t\t\t\t\t\tmapping, {\r\n\t\t\t\t\t\t\tmappingStyle : this.mappingStyle\r\n\t\t\t\t\t\t}));\r\n\t\t\t},\r\n\t\t\tem : function(mapping) {\r\n\t\t\t\tthis.addDefaultNamespaces(mapping);\r\n\t\t\t\treturn this\r\n\t\t\t\t\t\t.addProperty(new this.mappingStyle.elementMapPropertyInfo(\r\n\t\t\t\t\t\t\t\tmapping, {\r\n\t\t\t\t\t\t\t\t\tmappingStyle : this.mappingStyle\r\n\t\t\t\t\t\t\t\t}));\r\n\t\t\t},\r\n\t\t\te : function(mapping) {\r\n\t\t\t\tthis.addDefaultNamespaces(mapping);\r\n\t\t\t\treturn this.addProperty(new this.mappingStyle.elementPropertyInfo(\r\n\t\t\t\t\t\tmapping, {\r\n\t\t\t\t\t\t\tmappingStyle : this.mappingStyle\r\n\t\t\t\t\t\t}));\r\n\t\t\t},\r\n\t\t\tes : function(mapping) {\r\n\t\t\t\tthis.addDefaultNamespaces(mapping);\r\n\t\t\t\treturn this.addProperty(new this.mappingStyle.elementsPropertyInfo(\r\n\t\t\t\t\t\tmapping, {\r\n\t\t\t\t\t\t\tmappingStyle : this.mappingStyle\r\n\t\t\t\t\t\t}));\r\n\t\t\t},\r\n\t\t\ter : function(mapping) {\r\n\t\t\t\tthis.addDefaultNamespaces(mapping);\r\n\t\t\t\treturn this\r\n\t\t\t\t\t\t.addProperty(new this.mappingStyle.elementRefPropertyInfo(\r\n\t\t\t\t\t\t\t\tmapping, {\r\n\t\t\t\t\t\t\t\t\tmappingStyle : this.mappingStyle\r\n\t\t\t\t\t\t\t\t}));\r\n\t\t\t},\r\n\t\t\ters : function(mapping) {\r\n\t\t\t\tthis.addDefaultNamespaces(mapping);\r\n\t\t\t\treturn this\r\n\t\t\t\t\t\t.addProperty(new this.mappingStyle.elementRefsPropertyInfo(\r\n\t\t\t\t\t\t\t\tmapping, {\r\n\t\t\t\t\t\t\t\t\tmappingStyle : this.mappingStyle\r\n\t\t\t\t\t\t\t\t}));\r\n\t\t\t},\r\n\t\t\tv : function(mapping) {\r\n\t\t\t\tthis.addDefaultNamespaces(mapping);\r\n\t\t\t\treturn this.addProperty(new this.mappingStyle.valuePropertyInfo(\r\n\t\t\t\t\t\tmapping, {\r\n\t\t\t\t\t\t\tmappingStyle : this.mappingStyle\r\n\t\t\t\t\t\t}));\r\n\t\t\t},\r\n\t\t\taddDefaultNamespaces : function(mapping) {\r\n\t\t\t\tif (Jsonix.Util.Type.isObject(mapping)) {\r\n\t\t\t\t\tif (!Jsonix.Util.Type\r\n\t\t\t\t\t\t\t.isString(mapping.defaultElementNamespaceURI)) {\r\n\t\t\t\t\t\tmapping.defaultElementNamespaceURI = this.defaultElementNamespaceURI;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (!Jsonix.Util.Type\r\n\t\t\t\t\t\t\t.isString(mapping.defaultAttributeNamespaceURI)) {\r\n\t\t\t\t\t\tmapping.defaultAttributeNamespaceURI = this.defaultAttributeNamespaceURI;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\taddProperty : function(property) {\r\n\t\t\t\tthis.properties.push(property);\r\n\t\t\t\tthis.propertiesMap[property.name] = property;\r\n\t\t\t\treturn this;\r\n\t\t\t},\r\n\t\t\tCLASS_NAME : 'Jsonix.Model.ClassInfo'\r\n\t\t});\r\nJsonix.Model.ClassInfo.prototype.propertyInfoCreators = {\r\n\t\"aa\" : Jsonix.Model.ClassInfo.prototype.aa,\r\n\t\"anyAttribute\" : Jsonix.Model.ClassInfo.prototype.aa,\r\n\t\"ae\" : Jsonix.Model.ClassInfo.prototype.ae,\r\n\t\"anyElement\" : Jsonix.Model.ClassInfo.prototype.ae,\r\n\t\"a\" : Jsonix.Model.ClassInfo.prototype.a,\r\n\t\"attribute\" : Jsonix.Model.ClassInfo.prototype.a,\r\n\t\"em\" : Jsonix.Model.ClassInfo.prototype.em,\r\n\t\"elementMap\" : Jsonix.Model.ClassInfo.prototype.em,\r\n\t\"e\" : Jsonix.Model.ClassInfo.prototype.e,\r\n\t\"element\" : Jsonix.Model.ClassInfo.prototype.e,\r\n\t\"es\" : Jsonix.Model.ClassInfo.prototype.es,\r\n\t\"elements\" : Jsonix.Model.ClassInfo.prototype.es,\r\n\t\"er\" : Jsonix.Model.ClassInfo.prototype.er,\r\n\t\"elementRef\" : Jsonix.Model.ClassInfo.prototype.er,\r\n\t\"ers\" : Jsonix.Model.ClassInfo.prototype.ers,\r\n\t\"elementRefs\" : Jsonix.Model.ClassInfo.prototype.ers,\r\n\t\"v\" : Jsonix.Model.ClassInfo.prototype.v,\r\n\t\"value\" : Jsonix.Model.ClassInfo.prototype.v\r\n};\r\nJsonix.Model.EnumLeafInfo = Jsonix.Class(Jsonix.Model.TypeInfo, {\r\n\tname : null,\r\n\tbaseTypeInfo : 'String',\r\n\tentries : null,\r\n\tkeys : null,\r\n\tvalues : null,\r\n\tbuilt : false,\r\n\tinitialize : function(mapping) {\r\n\t\tJsonix.Model.TypeInfo.prototype.initialize.apply(this, []);\r\n\t\tJsonix.Util.Ensure.ensureObject(mapping);\r\n\t\t\r\n\t\tvar n = mapping.name||mapping.n||undefined;\r\n\t\tJsonix.Util.Ensure.ensureString(n);\r\n\t\tthis.name = n;\r\n\t\t\r\n\t\tvar bti = mapping.baseTypeInfo||mapping.bti||'String';\r\n\t\tthis.baseTypeInfo = bti;\r\n\t\t\r\n\t\tvar vs = mapping.values||mapping.vs||undefined;\r\n\t\tJsonix.Util.Ensure.ensureExists(vs);\r\n\t\tif (!(Jsonix.Util.Type.isObject(vs) || Jsonix.Util.Type.isArray(vs))) {\r\n\t\t\tthrow new Error('Enum values must be either an array or an object.');\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tthis.entries = vs;\r\n\t\t}\t\t\r\n\t},\r\n\tbuild : function(context) {\r\n\t\tif (!this.built) {\r\n\t\t\tthis.baseTypeInfo = context.resolveTypeInfo(this.baseTypeInfo, this.module);\r\n\t\t\tthis.baseTypeInfo.build(context);\r\n\t\t\tvar items = this.entries;\r\n\t\t\tvar entries = {};\r\n\t\t\tvar keys = [];\r\n\t\t\tvar values = [];\r\n\t\t\tvar index = 0;\r\n\t\t\tvar key;\r\n\t\t\tvar value;\r\n\t\t\t// If values is an array, process individual items\r\n\t\t\tif (Jsonix.Util.Type.isArray(items))\r\n\t\t\t{\r\n\t\t\t\t// Build properties in this context\r\n\t\t\t\tfor (index = 0; index < items.length; index++) {\r\n\t\t\t\t\tvalue = items[index];\r\n\t\t\t\t\tif (Jsonix.Util.Type.isString(value)) {\r\n\t\t\t\t\t\tkey = value;\r\n\t\t\t\t\t\tif (!(Jsonix.Util.Type.isFunction(this.baseTypeInfo.parse)))\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tthrow new Error('Enum value is provided as string but the base type ['+this.baseTypeInfo.name+'] of the enum info [' + this.name + '] does not implement the parse method.');\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t// Using null as input since input is not available\r\n\t\t\t\t\t\tvalue = this.baseTypeInfo.parse(value, context, null, this);\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tif (this.baseTypeInfo.isInstance(value, context, this))\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tif (!(Jsonix.Util.Type.isFunction(this.baseTypeInfo.print)))\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tthrow new Error('The base type ['+this.baseTypeInfo.name+'] of the enum info [' + this.name + '] does not implement the print method, unable to produce the enum key as string.');\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t// Using null as output since output is not available at this moment\r\n\t\t\t\t\t\t\tkey = this.baseTypeInfo.print(value, context, null, this);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tthrow new Error('Enum value [' + value + '] is not an instance of the enum base type [' + this.baseTypeInfo.name + '].');\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tentries[key] = value;\r\n\t\t\t\t\tkeys[index] = key;\r\n\t\t\t\t\tvalues[index] = value;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse if (Jsonix.Util.Type.isObject(items))\r\n\t\t\t{\r\n\t\t\t\tfor (key in items) {\r\n\t\t\t\t\tif (items.hasOwnProperty(key)) {\r\n\t\t\t\t\t\tvalue = items[key];\r\n\t\t\t\t\t\tif (Jsonix.Util.Type.isString(value)) {\r\n\t\t\t\t\t\t\tif (!(Jsonix.Util.Type.isFunction(this.baseTypeInfo.parse)))\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tthrow new Error('Enum value is provided as string but the base type ['+this.baseTypeInfo.name+'] of the enum info [' + this.name + '] does not implement the parse method.');\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t// Using null as input since input is not available\r\n\t\t\t\t\t\t\tvalue = this.baseTypeInfo.parse(value, context, null, this);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tif (!this.baseTypeInfo.isInstance(value, context, this))\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tthrow new Error('Enum value [' + value + '] is not an instance of the enum base type [' + this.baseTypeInfo.name + '].');\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tentries[key] = value;\r\n\t\t\t\t\t\tkeys[index] = key;\r\n\t\t\t\t\t\tvalues[index] = value;\r\n\t\t\t\t\t\tindex++;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tthrow new Error('Enum values must be either an array or an object.');\r\n\t\t\t}\r\n\t\t\tthis.entries = entries;\r\n\t\t\tthis.keys = keys;\r\n\t\t\tthis.values = values;\r\n\t\t\tthis.built = true;\r\n\t\t}\r\n\t},\r\n\tunmarshal : function(context, input, scope) {\r\n\t\tvar text = input.getElementText();\r\n\t\treturn this.parse(text, context, input, scope);\r\n\t},\r\n\tmarshal : function(value, context, output, scope) {\r\n\t\tif (Jsonix.Util.Type.exists(value)) {\r\n\t\t\toutput.writeCharacters(this.reprint(value, context, output, scope));\r\n\t\t}\r\n\t},\r\n\treprint : function(value, context, output, scope) {\r\n\t\tif (Jsonix.Util.Type.isString(value) && !this.isInstance(value, context, scope)) {\r\n\t\t\t// Using null as input since input is not available\r\n\t\t\treturn this.print(this.parse(value, context, null, scope), context, output, scope);\r\n\t\t} else {\r\n\t\t\treturn this.print(value, context, output, scope);\r\n\t\t}\r\n\t},\r\n\tprint : function(value, context, output, scope) {\r\n\t\tfor (var index = 0; index < this.values.length; index++)\r\n\t\t{\r\n\t\t\tif (this.values[index] === value)\r\n\t\t\t{\r\n\t\t\t\treturn this.keys[index];\r\n\t\t\t}\r\n\t\t}\r\n\t\tthrow new Error('Value [' + value + '] is invalid for the enum type [' + this.name + '].');\r\n\t},\r\n\tparse : function(text, context, input, scope) {\r\n\t\tJsonix.Util.Ensure.ensureString(text);\r\n\t\tif (this.entries.hasOwnProperty(text))\r\n\t\t{\r\n\t\t\treturn this.entries[text];\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tthrow new Error('Value [' + text + '] is invalid for the enum type [' + this.name + '].');\r\n\t\t}\r\n\t},\r\n\tisInstance : function(value, context, scope) {\r\n\t\tfor (var index = 0; index < this.values.length; index++)\r\n\t\t{\r\n\t\t\tif (this.values[index] === value)\r\n\t\t\t{\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn false;\r\n\t},\r\n\tCLASS_NAME : 'Jsonix.Model.EnumLeafInfo'\r\n});\r\nJsonix.Model.ElementInfo = Jsonix.Class({\r\n\tmodule: null,\t\t\t\r\n\telementName : null,\r\n\ttypeInfo : null,\r\n\tsubstitutionHead : null,\r\n\tscope : null,\r\n\tbuilt : false,\r\n\tinitialize : function(mapping) {\r\n\t\tJsonix.Util.Ensure.ensureObject(mapping);\r\n\t\t\r\n\t\tvar dens = mapping.defaultElementNamespaceURI||mapping.dens||'';\r\n\t\tthis.defaultElementNamespaceURI = dens;\r\n\t\t\r\n\t\tvar en = mapping.elementName || mapping.en||undefined;\r\n\t\tif (Jsonix.Util.Type.isObject(en)) {\r\n\t\t\tthis.elementName = Jsonix.XML.QName.fromObject(en);\r\n\t\t} else {\r\n\t\t\tJsonix.Util.Ensure.ensureString(en);\r\n\t\t\tthis.elementName = new Jsonix.XML.QName(this.defaultElementNamespaceURI, en);\r\n\t\t}\r\n\t\t\r\n\t\tvar ti = mapping.typeInfo||mapping.ti||'String';\r\n\t\tthis.typeInfo = ti;\r\n\t\t\r\n\t\tvar sh = mapping.substitutionHead||mapping.sh||null;\r\n\t\tthis.substitutionHead = sh;\r\n\t\t\r\n\t\tvar sc = mapping.scope||mapping.sc||null;\r\n\t\tthis.scope = sc;\r\n\t},\r\n\tbuild : function(context) {\r\n\t\t// If element info is not yet built\r\n\t\tif (!this.built) {\r\n\t\t\tthis.typeInfo = context.resolveTypeInfo(this.typeInfo, this.module);\r\n\t\t\tthis.scope = context.resolveTypeInfo(this.scope, this.module);\r\n\t\t\tthis.built = true;\r\n\t\t}\r\n\t},\r\n\tCLASS_NAME : 'Jsonix.Model.ElementInfo'\r\n});\r\nJsonix.Model.PropertyInfo = Jsonix.Class({\r\n\tname : null,\r\n\tcollection : false,\r\n\ttargetNamespace : '',\r\n\tdefaultElementNamespaceURI : '',\r\n\tdefaultAttributeNamespaceURI : '',\r\n\tbuilt : false,\r\n\tinitialize : function(mapping) {\r\n\t\tJsonix.Util.Ensure.ensureObject(mapping);\r\n\t\tvar n = mapping.name || mapping.n || undefined;\r\n\t\tJsonix.Util.Ensure.ensureString(n);\r\n\t\tthis.name = n;\r\n\t\tvar dens = mapping.defaultElementNamespaceURI || mapping.dens || mapping.targetNamespace || mapping.tns || '';\r\n\t\tthis.defaultElementNamespaceURI = dens;\r\n\t\tvar tns = mapping.targetNamespace || mapping.tns || mapping.defaultElementNamespaceURI || mapping.dens || this.defaultElementNamespaceURI;\r\n\t\tthis.targetNamespace = tns;\r\n\t\tvar dans = mapping.defaultAttributeNamespaceURI || mapping.dans || '';\r\n\t\tthis.defaultAttributeNamespaceURI = dans;\r\n\t\tvar col = mapping.collection || mapping.col || false;\r\n\t\tthis.collection = col;\r\n\t\tvar rq = mapping.required || mapping.rq || false;\r\n\t\tthis.required = rq;\r\n\t\tif (this.collection) {\r\n\t\t\tvar mno;\r\n\t\t\tif (Jsonix.Util.Type.isNumber(mapping.minOccurs)) {\r\n\t\t\t\tmno = mapping.minOccurs;\r\n\t\t\t}\r\n\t\t\telse if (Jsonix.Util.Type.isNumber(mapping.mno)) {\r\n\t\t\t\tmno = mapping.mno;\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tmno = 1;\r\n\t\t\t}\r\n\t\t\tthis.minOccurs = mno;\r\n\t\t\tvar mxo;\r\n\t\t\tif (Jsonix.Util.Type.isNumber(mapping.maxOccurs)) {\r\n\t\t\t\tmxo = mapping.maxOccurs;\r\n\t\t\t}\r\n\t\t\telse if (Jsonix.Util.Type.isNumber(mapping.mxo)) {\r\n\t\t\t\tmxo = mapping.mxo;\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tmxo = null;\r\n\t\t\t}\r\n\t\t\tthis.maxOccurs = mxo;\r\n\t\t}\r\n\t},\r\n\tbuild : function(context, module) {\r\n\t\tif (!this.built) {\r\n\t\t\tthis.doBuild(context, module);\r\n\t\t\tthis.built = true;\r\n\t\t}\r\n\t},\r\n\tdoBuild : function(context, module) {\r\n\t\tthrow new Error(\"Abstract method [doBuild].\");\r\n\t},\r\n\tbuildStructure : function(context, structure) {\r\n\t\tthrow new Error(\"Abstract method [buildStructure].\");\r\n\t},\r\n\tsetProperty : function(object, value) {\r\n\t\tif (Jsonix.Util.Type.exists(value)) {\r\n\t\t\tif (this.collection) {\r\n\t\t\t\tJsonix.Util.Ensure.ensureArray(value, 'Collection property requires an array value.');\r\n\t\t\t\tif (!Jsonix.Util.Type.exists(object[this.name])) {\r\n\t\t\t\t\tobject[this.name] = [];\r\n\t\t\t\t}\r\n\t\t\t\tfor (var index = 0; index < value.length; index++) {\r\n\t\t\t\t\tobject[this.name].push(value[index]);\r\n\t\t\t\t}\r\n\r\n\t\t\t} else {\r\n\t\t\t\tobject[this.name] = value;\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\tCLASS_NAME : 'Jsonix.Model.PropertyInfo'\r\n});\r\nJsonix.Model.AnyAttributePropertyInfo = Jsonix.Class(Jsonix.Model.PropertyInfo, {\r\n\tinitialize : function(mapping) {\r\n\t\tJsonix.Util.Ensure.ensureObject(mapping);\r\n\t\tJsonix.Model.PropertyInfo.prototype.initialize.apply(this, [ mapping ]);\r\n\t},\r\n\tunmarshal : function(context, input, scope) {\r\n\t\tvar attributeCount = input.getAttributeCount();\r\n\t\tif (attributeCount === 0) {\r\n\t\t\treturn null;\r\n\t\t} else {\r\n\t\t\tvar result = {};\r\n\t\t\tfor ( var index = 0; index < attributeCount; index++) {\r\n\t\t\t\tvar value = input.getAttributeValue(index);\r\n\t\t\t\tif (Jsonix.Util.Type.isString(value)) {\r\n\t\t\t\t\tvar propertyName = this.convertFromAttributeName(input.getAttributeName(index), context, input, scope);\r\n\t\t\t\t\tresult[propertyName] = value;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn result;\r\n\t\t}\r\n\t},\r\n\tmarshal : function(value, context, output, scope) {\r\n\t\tif (!Jsonix.Util.Type.isObject(value)) {\r\n\t\t\t// Nothing to do\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tfor ( var propertyName in value) {\r\n\t\t\tif (value.hasOwnProperty(propertyName)) {\r\n\t\t\t\tvar propertyValue = value[propertyName];\r\n\t\t\t\tif (Jsonix.Util.Type.isString(propertyValue)) {\r\n\t\t\t\t\tvar attributeName = this.convertToAttributeName(propertyName, context, output, scope);\r\n\t\t\t\t\toutput.writeAttribute(attributeName, propertyValue);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\tconvertFromAttributeName : function(attributeName, context, input, scope) {\r\n\t\treturn attributeName.key;\r\n\t},\r\n\tconvertToAttributeName : function(propertyName, context, output, scope) {\r\n\t\treturn Jsonix.XML.QName.fromObjectOrString(propertyName, context);\r\n\t},\r\n\tdoBuild : function(context, module)\t{\r\n\t\t// Nothing to do\r\n\t},\r\n\tbuildStructure : function(context, structure) {\r\n\t\tJsonix.Util.Ensure.ensureObject(structure);\r\n\t\t// if (Jsonix.Util.Type.exists(structure.anyAttribute))\r\n\t\t// {\r\n\t\t// // TODO better exception\r\n\t\t// throw new Error(\"The structure already defines an any attribute\r\n\t\t// property.\");\r\n\t\t// } else\r\n\t\t// {\r\n\t\tstructure.anyAttribute = this;\r\n\t\t// }\r\n\t},\r\n\tCLASS_NAME : 'Jsonix.Model.AnyAttributePropertyInfo'\r\n});\r\nJsonix.Model.AnyAttributePropertyInfo.Simplified = Jsonix.Class(Jsonix.Model.AnyAttributePropertyInfo, {\r\n\tconvertFromAttributeName : function(attributeName, context, input, scope)\r\n\t{\r\n\t\treturn attributeName.toCanonicalString(context);\r\n\t}\r\n});\r\n\r\nJsonix.Model.SingleTypePropertyInfo = Jsonix.Class(Jsonix.Model.PropertyInfo, {\r\n\ttypeInfo : 'String',\r\n\tinitialize : function(mapping) {\r\n\t\tJsonix.Util.Ensure.ensureObject(mapping);\r\n\t\tJsonix.Model.PropertyInfo.prototype.initialize.apply(this, [ mapping ]);\r\n\t\tvar ti = mapping.typeInfo || mapping.ti || 'String';\r\n\t\tthis.typeInfo = ti;\r\n\t},\r\n\tdoBuild : function(context, module) {\r\n\t\tthis.typeInfo = context.resolveTypeInfo(this.typeInfo, module);\r\n\t},\r\n\tunmarshalValue : function(value, context, input, scope) {\r\n\t\treturn this.parse(value, context, input, scope);\r\n\t},\r\n\tparse : function(value, context, input, scope) {\r\n\t\treturn this.typeInfo.parse(value, context, input, scope);\r\n\t},\r\n\tprint : function(value, context, output, scope) {\r\n\t\treturn this.typeInfo.reprint(value, context, output, scope);\r\n\t},\r\n\tCLASS_NAME : 'Jsonix.Model.SingleTypePropertyInfo'\r\n});\r\n\r\nJsonix.Model.AttributePropertyInfo = Jsonix.Class(Jsonix.Model.SingleTypePropertyInfo, {\r\n\tattributeName : null,\r\n\tinitialize : function(mapping) {\r\n\t\tJsonix.Util.Ensure.ensureObject(mapping);\r\n\t\tJsonix.Model.SingleTypePropertyInfo.prototype.initialize.apply(this, [ mapping ]);\r\n\t\tvar an = mapping.attributeName||mapping.an||undefined;\r\n\t\tif (Jsonix.Util.Type.isObject(an)) {\r\n\t\t\tthis.attributeName = Jsonix.XML.QName.fromObject(an);\r\n\t\t} else if (Jsonix.Util.Type.isString(an)) {\r\n\t\t\tthis.attributeName = new Jsonix.XML.QName(this.defaultAttributeNamespaceURI, an);\r\n\t\t} else {\r\n\t\t\tthis.attributeName = new Jsonix.XML.QName(this.defaultAttributeNamespaceURI, this.name);\r\n\t\t}\r\n\t},\r\n\tunmarshal : function(context, input, scope) {\r\n\t\tvar attributeCount = input.getAttributeCount();\r\n\t\tvar result = null;\r\n\t\tfor ( var index = 0; index < attributeCount; index++) {\r\n\t\t\tvar attributeNameKey = input.getAttributeNameKey(index);\r\n\t\t\tif (this.attributeName.key === attributeNameKey) {\r\n\t\t\t\tvar attributeValue = input.getAttributeValue(index);\r\n\t\t\t\tif (Jsonix.Util.Type.isString(attributeValue)) {\r\n\t\t\t\t\tresult = this.unmarshalValue(attributeValue, context, input, scope);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn result;\r\n\t},\r\n\tmarshal : function(value, context, output, scope) {\r\n\t\tif (Jsonix.Util.Type.exists(value)) {\r\n\t\t\toutput.writeAttribute(this.attributeName, this.print(value, context, output, scope));\r\n\t\t}\r\n\r\n\t},\r\n\tbuildStructure : function(context, structure) {\r\n\t\tJsonix.Util.Ensure.ensureObject(structure);\r\n\t\tJsonix.Util.Ensure.ensureObject(structure.attributes);\r\n\t\tvar key = this.attributeName.key;\r\n\t\t// if (Jsonix.Util.Type.exists(structure.attributes[key])) {\r\n\t\t// // TODO better exception\r\n\t\t// throw new Error(\"The structure already defines an attribute for the key\r\n\t\t// [\"\r\n\t\t// + key + \"].\");\r\n\t\t// } else\r\n\t\t// {\r\n\t\tstructure.attributes[key] = this;\r\n\t\t// }\r\n\t},\r\n\tCLASS_NAME : 'Jsonix.Model.AttributePropertyInfo'\r\n});\r\n\r\nJsonix.Model.ValuePropertyInfo = Jsonix.Class(Jsonix.Model.SingleTypePropertyInfo, {\r\n\tinitialize : function(mapping) {\r\n\t\tJsonix.Util.Ensure.ensureObject(mapping);\r\n\t\tJsonix.Model.SingleTypePropertyInfo.prototype.initialize.apply(this, [ mapping ]);\r\n\r\n\t\tvar cdata = mapping.asCDATA || mapping.cdata || false;\r\n\t\tthis.asCDATA = cdata;\r\n\t},\r\n\tunmarshal : function(context, input, scope) {\r\n\t\tvar text = input.getElementText();\r\n\t\treturn this.unmarshalValue(text, context, input, scope);\r\n\t},\r\n\tmarshal : function(value, context, output, scope) {\r\n\t\tif (!Jsonix.Util.Type.exists(value)) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif (this.asCDATA) {\r\n\t\t\toutput.writeCdata(this.print(value, context, output, scope));\r\n\t\t} else {\r\n\t\t\toutput.writeCharacters(this.print(value, context, output, scope));\r\n\t\t}\r\n\t},\r\n\tbuildStructure : function(context, structure) {\r\n\t\tJsonix.Util.Ensure.ensureObject(structure);\r\n\t\t// if (Jsonix.Util.Type.exists(structure.value)) {\r\n\t\t// // TODO better exception\r\n\t\t// throw new Error(\"The structure already defines a value\r\n\t\t// property.\");\r\n\t\t// } else\r\n\t\tif (Jsonix.Util.Type.exists(structure.elements)) {\r\n\t\t\t// TODO better exception\r\n\t\t\tthrow new Error(\"The structure already defines element mappings, it cannot define a value property.\");\r\n\t\t} else {\r\n\t\t\tstructure.value = this;\r\n\t\t}\r\n\t},\r\n\tCLASS_NAME : 'Jsonix.Model.ValuePropertyInfo'\r\n});\r\n\r\nJsonix.Model.AbstractElementsPropertyInfo = Jsonix.Class(Jsonix.Binding.Unmarshalls.Element, Jsonix.Binding.Unmarshalls.WrapperElement, Jsonix.Model.PropertyInfo, {\r\n\twrapperElementName : null,\r\n\tallowDom : false,\r\n\tallowTypedObject : true,\r\n\tmixed : false,\r\n\tinitialize : function(mapping) {\r\n\t\tJsonix.Util.Ensure.ensureObject(mapping);\r\n\t\tJsonix.Model.PropertyInfo.prototype.initialize.apply(this, [ mapping ]);\r\n\t\tvar wen = mapping.wrapperElementName||mapping.wen||undefined;\r\n\t\tif (Jsonix.Util.Type.isObject(wen)) {\r\n\t\t\tthis.wrapperElementName = Jsonix.XML.QName.fromObject(wen);\r\n\t\t} else if (Jsonix.Util.Type.isString(wen)) {\r\n\t\t\tthis.wrapperElementName = new Jsonix.XML.QName(this.defaultElementNamespaceURI, wen);\r\n\t\t} else {\r\n\t\t\tthis.wrapperElementName = null;\r\n\t\t}\r\n\t},\r\n\tunmarshal : function(context, input, scope) {\r\n\t\tvar result = null;\r\n\t\tvar that = this;\r\n\t\tvar callback = function(value) {\r\n\t\t\tif (that.collection) {\r\n\t\t\t\tif (result === null) {\r\n\t\t\t\t\tresult = [];\r\n\t\t\t\t}\r\n\t\t\t\tresult.push(value);\r\n\r\n\t\t\t} else {\r\n\t\t\t\tif (result === null) {\r\n\t\t\t\t\tresult = value;\r\n\t\t\t\t} else {\r\n\t\t\t\t\t// TODO Report validation error\r\n\t\t\t\t\tthrow new Error(\"Value already set.\");\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tif (Jsonix.Util.Type.exists(this.wrapperElementName)) {\r\n\t\t\tthis.unmarshalWrapperElement(context, input, scope, callback);\r\n\t\t} else {\r\n\t\t\tthis.unmarshalElement(context, input, scope, callback);\r\n\t\t}\r\n\t\treturn result;\r\n\t},\r\n\tmarshal : function(value, context, output, scope) {\r\n\r\n\t\tif (!Jsonix.Util.Type.exists(value)) {\r\n\t\t\t// Do nothing\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif (Jsonix.Util.Type.exists(this.wrapperElementName)) {\r\n\t\t\toutput.writeStartElement(this.wrapperElementName);\r\n\t\t}\r\n\r\n\t\tif (!this.collection) {\r\n\t\t\tthis.marshalElement(value, context, output, scope);\r\n\t\t} else {\r\n\t\t\tJsonix.Util.Ensure.ensureArray(value);\r\n\t\t\t// TODO Exception if not array\r\n\t\t\tfor ( var index = 0; index < value.length; index++) {\r\n\t\t\t\tvar item = value[index];\r\n\t\t\t\t// TODO Exception if item does not exist\r\n\t\t\t\tthis.marshalElement(item, context, output, scope);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (Jsonix.Util.Type.exists(this.wrapperElementName)) {\r\n\t\t\toutput.writeEndElement();\r\n\t\t}\r\n\t},\r\n\tconvertFromTypedNamedValue : function(elementValue, context, input, scope) {\r\n\t\treturn elementValue.value;\r\n\t},\r\n\tbuildStructure : function(context, structure) {\r\n\t\tJsonix.Util.Ensure.ensureObject(structure);\r\n\t\tif (Jsonix.Util.Type.exists(structure.value)) {\r\n\t\t\t// TODO better exception\r\n\t\t\tthrow new Error(\"The structure already defines a value property.\");\r\n\t\t} else if (!Jsonix.Util.Type.exists(structure.elements)) {\r\n\t\t\tstructure.elements = {};\r\n\t\t}\r\n\r\n\t\tif (Jsonix.Util.Type.exists(this.wrapperElementName)) {\r\n\t\t\tstructure.elements[this.wrapperElementName.key] = this;\r\n\t\t} else {\r\n\t\t\tthis.buildStructureElements(context, structure);\r\n\t\t}\r\n\t},\r\n\tbuildStructureElements : function(context, structure) {\r\n\t\tthrow new Error(\"Abstract method [buildStructureElements].\");\r\n\t},\r\n\tCLASS_NAME : 'Jsonix.Model.AbstractElementsPropertyInfo'\r\n});\r\n\r\nJsonix.Model.ElementPropertyInfo = Jsonix.Class(Jsonix.Model.AbstractElementsPropertyInfo, Jsonix.Binding.Marshalls.Element, {\r\n\ttypeInfo : 'String',\r\n\telementName : null,\r\n\tinitialize : function(mapping) {\r\n\t\tJsonix.Util.Ensure.ensureObject(mapping);\r\n\t\tJsonix.Model.AbstractElementsPropertyInfo.prototype.initialize.apply(this, [ mapping ]);\r\n\t\tvar ti = mapping.typeInfo || mapping.ti || 'String';\r\n\t\tif (Jsonix.Util.Type.isObject(ti)) {\r\n\t\t\tthis.typeInfo = ti;\r\n\t\t} else {\r\n\t\t\tJsonix.Util.Ensure.ensureString(ti);\r\n\t\t\tthis.typeInfo = ti;\r\n\t\t}\r\n\t\tvar en = mapping.elementName || mapping.en || undefined;\r\n\t\tif (Jsonix.Util.Type.isObject(en)) {\r\n\t\t\tthis.elementName = Jsonix.XML.QName.fromObject(en);\r\n\t\t} else if (Jsonix.Util.Type.isString(en)) {\r\n\t\t\tthis.elementName = new Jsonix.XML.QName(this.defaultElementNamespaceURI, en);\r\n\t\t} else {\r\n\t\t\tthis.elementName = new Jsonix.XML.QName(this.defaultElementNamespaceURI, this.name);\r\n\t\t}\r\n\t},\r\n\tgetTypeInfoByElementName : function(elementName, context, scope) {\r\n\t\treturn this.typeInfo;\r\n\t},\r\n\tconvertToTypedNamedValue : function(value, context, output, scope) {\r\n\t\treturn {\r\n\t\t\tname : this.elementName,\r\n\t\t\tvalue : value,\r\n\t\t\ttypeInfo : this.typeInfo\r\n\t\t};\r\n\t},\r\n\tdoBuild : function(context, module) {\r\n\t\tthis.typeInfo = context.resolveTypeInfo(this.typeInfo, module);\r\n\t},\r\n\tbuildStructureElements : function(context, structure) {\r\n\t\tstructure.elements[this.elementName.key] = this;\r\n\t},\r\n\tCLASS_NAME : 'Jsonix.Model.ElementPropertyInfo'\r\n});\r\n\r\nJsonix.Model.ElementsPropertyInfo = Jsonix.Class(Jsonix.Model.AbstractElementsPropertyInfo, Jsonix.Binding.Marshalls.Element, {\r\n\telementTypeInfos : null,\r\n\telementTypeInfosMap : null,\r\n\tinitialize : function(mapping) {\r\n\t\tJsonix.Util.Ensure.ensureObject(mapping);\r\n\t\tJsonix.Model.AbstractElementsPropertyInfo.prototype.initialize.apply(this, [ mapping ]);\r\n\t\tvar etis = mapping.elementTypeInfos || mapping.etis || [];\r\n\t\tJsonix.Util.Ensure.ensureArray(etis);\r\n\t\tthis.elementTypeInfos = [];\r\n\t\tfor (var index = 0; index < etis.length; index++) {\r\n\t\t\tthis.elementTypeInfos[index] = Jsonix.Util.Type.cloneObject(etis[index]);\r\n\t\t}\r\n\t},\r\n\tgetTypeInfoByElementName : function(elementName, context, scope) {\r\n\t\treturn this.elementTypeInfosMap[elementName.key];\r\n\t},\r\n\tconvertToTypedNamedValue : function(value, context, output, scope) {\r\n\t\tfor (var index = 0; index < this.elementTypeInfos.length; index++) {\r\n\t\t\tvar elementTypeInfo = this.elementTypeInfos[index];\r\n\t\t\tvar typeInfo = elementTypeInfo.typeInfo;\r\n\t\t\tif (typeInfo.isInstance(value, context, scope)) {\r\n\t\t\t\tvar elementName = elementTypeInfo.elementName;\r\n\t\t\t\treturn {\r\n\t\t\t\t\tname : elementName,\r\n\t\t\t\t\tvalue : value,\r\n\t\t\t\t\ttypeInfo : typeInfo\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t}\r\n\t\t// If xsi:type is supported\r\n\t\tif (context.supportXsiType) {\r\n\t\t\t// Find the actual type\r\n\t\t\tvar actualTypeInfo = context.getTypeInfoByValue(value);\r\n\t\t\tif (actualTypeInfo && actualTypeInfo.typeName) {\r\n\t\t\t\tfor (var jndex = 0; jndex < this.elementTypeInfos.length; jndex++) {\r\n\t\t\t\t\tvar eti = this.elementTypeInfos[jndex];\r\n\t\t\t\t\tvar ti = eti.typeInfo;\r\n\t\t\t\t\t// TODO Can be optimized\r\n\t\t\t\t\t// Find an element type info which has a type info that is a\r\n\t\t\t\t\t// supertype of the actual type info\r\n\t\t\t\t\tif (actualTypeInfo.isBasedOn(ti)) {\r\n\t\t\t\t\t\tvar en = eti.elementName;\r\n\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\tname : en,\r\n\t\t\t\t\t\t\tvalue : value,\r\n\t\t\t\t\t\t\ttypeInfo : ti\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t// TODO harmonize error handling. See also marshallElement. Error must\r\n\t\t// only be on one place.\r\n\t\tthrow new Error(\"Could not find an element with type info supporting the value [\" + value + \"].\");\r\n\t},\r\n\tdoBuild : function(context, module) {\r\n\t\tthis.elementTypeInfosMap = {};\r\n\t\tvar etiti, etien;\r\n\t\tfor (var index = 0; index < this.elementTypeInfos.length; index++) {\r\n\t\t\tvar elementTypeInfo = this.elementTypeInfos[index];\r\n\t\t\tJsonix.Util.Ensure.ensureObject(elementTypeInfo);\r\n\t\t\tetiti = elementTypeInfo.typeInfo || elementTypeInfo.ti || 'String';\r\n\t\t\telementTypeInfo.typeInfo = context.resolveTypeInfo(etiti, module);\r\n\t\t\tetien = elementTypeInfo.elementName || elementTypeInfo.en || undefined;\r\n\t\t\telementTypeInfo.elementName = Jsonix.XML.QName.fromObjectOrString(etien, context, this.defaultElementNamespaceURI);\r\n\t\t\tthis.elementTypeInfosMap[elementTypeInfo.elementName.key] = elementTypeInfo.typeInfo;\r\n\t\t}\r\n\t},\r\n\tbuildStructureElements : function(context, structure) {\r\n\t\tfor (var index = 0; index < this.elementTypeInfos.length; index++) {\r\n\t\t\tvar elementTypeInfo = this.elementTypeInfos[index];\r\n\t\t\tstructure.elements[elementTypeInfo.elementName.key] = this;\r\n\t\t}\r\n\t},\r\n\tCLASS_NAME : 'Jsonix.Model.ElementsPropertyInfo'\r\n});\r\n\r\nJsonix.Model.ElementMapPropertyInfo = Jsonix.Class(Jsonix.Model.AbstractElementsPropertyInfo, {\r\n\telementName : null,\r\n\tkey : null,\r\n\tvalue : null,\r\n\tentryTypeInfo : null,\r\n\tinitialize : function(mapping) {\r\n\t\tJsonix.Util.Ensure.ensureObject(mapping);\r\n\t\tJsonix.Model.AbstractElementsPropertyInfo.prototype.initialize.apply(this, [ mapping ]);\r\n\t\t// TODO Ensure correct argument\r\n\t\tvar k = mapping.key || mapping.k || undefined;\r\n\t\tJsonix.Util.Ensure.ensureObject(k);\r\n\t\tvar v = mapping.value || mapping.v || undefined;\r\n\t\tJsonix.Util.Ensure.ensureObject(v);\r\n\t\t// TODO Ensure correct argument\r\n\t\tvar en = mapping.elementName || mapping.en || undefined;\r\n\t\tif (Jsonix.Util.Type.isObject(en)) {\r\n\t\t\tthis.elementName = Jsonix.XML.QName.fromObject(en);\r\n\t\t} else if (Jsonix.Util.Type.isString(en)) {\r\n\t\t\tthis.elementName = new Jsonix.XML.QName(this.defaultElementNamespaceURI, en);\r\n\t\t} else {\r\n\t\t\tthis.elementName = new Jsonix.XML.QName(this.defaultElementNamespaceURI, this.name);\r\n\t\t}\r\n\t\tthis.entryTypeInfo = new Jsonix.Model.ClassInfo({\r\n\t\t\tname : 'Map<' + k.name + ',' + v.name + '>',\r\n\t\t\tpropertyInfos : [ k, v ]\r\n\t\t});\r\n\r\n\t},\r\n\tunmarshal : function(context, input, scope) {\r\n\t\tvar result = null;\r\n\t\tvar that = this;\r\n\t\tvar callback = function(value) {\r\n\r\n\t\t\tif (Jsonix.Util.Type.exists(value)) {\r\n\t\t\t\tJsonix.Util.Ensure.ensureObject(value, 'Map property requires an object.');\r\n\t\t\t\tif (!Jsonix.Util.Type.exists(result)) {\r\n\t\t\t\t\tresult = {};\r\n\t\t\t\t}\r\n\t\t\t\tfor ( var attributeName in value) {\r\n\t\t\t\t\tif (value.hasOwnProperty(attributeName)) {\r\n\t\t\t\t\t\tvar attributeValue = value[attributeName];\r\n\t\t\t\t\t\tif (that.collection) {\r\n\t\t\t\t\t\t\tif (!Jsonix.Util.Type.exists(result[attributeName])) {\r\n\t\t\t\t\t\t\t\tresult[attributeName] = [];\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tresult[attributeName].push(attributeValue);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tif (!Jsonix.Util.Type.exists(result[attributeName])) {\r\n\t\t\t\t\t\t\t\tresult[attributeName] = attributeValue;\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t// TODO Report validation error\r\n\t\t\t\t\t\t\t\tthrow new Error(\"Value was already set.\");\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tif (Jsonix.Util.Type.exists(this.wrapperElementName)) {\r\n\t\t\tthis.unmarshalWrapperElement(context, input, scope, callback);\r\n\t\t} else {\r\n\t\t\tthis.unmarshalElement(context, input, scope, callback);\r\n\t\t}\r\n\t\treturn result;\r\n\t},\r\n\tgetTypeInfoByInputElement : function(context, input, scope) {\r\n\t\treturn this.entryTypeInfo;\r\n\t},\r\n\tconvertFromTypedNamedValue : function(elementValue, context, input, scope) {\r\n\t\tvar entry = elementValue.value;\r\n\t\tvar result = {};\r\n\t\tif (Jsonix.Util.Type.isString(entry[this.key.name])) {\r\n\t\t\tresult[entry[this.key.name]] = entry[this.value.name];\r\n\t\t}\r\n\t\treturn result;\r\n\t},\r\n\tmarshal : function(value, context, output, scope) {\r\n\r\n\t\tif (!Jsonix.Util.Type.exists(value)) {\r\n\t\t\t// Do nothing\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif (Jsonix.Util.Type.exists(this.wrapperElementName)) {\r\n\t\t\toutput.writeStartElement(this.wrapperElementName);\r\n\t\t}\r\n\r\n\t\tthis.marshalElement(value, context, output, scope);\r\n\r\n\t\tif (Jsonix.Util.Type.exists(this.wrapperElementName)) {\r\n\t\t\toutput.writeEndElement();\r\n\t\t}\r\n\t},\r\n\tmarshalElement : function(value, context, output, scope) {\r\n\t\tif (!!value) {\r\n\t\t\tfor ( var attributeName in value) {\r\n\t\t\t\tif (value.hasOwnProperty(attributeName)) {\r\n\t\t\t\t\tvar attributeValue = value[attributeName];\r\n\t\t\t\t\tif (!this.collection) {\r\n\t\t\t\t\t\tvar singleEntry = {};\r\n\t\t\t\t\t\tsingleEntry[this.key.name] = attributeName;\r\n\t\t\t\t\t\tsingleEntry[this.value.name] = attributeValue;\r\n\t\t\t\t\t\toutput.writeStartElement(this.elementName);\r\n\t\t\t\t\t\tthis.entryTypeInfo.marshal(singleEntry, context, output, scope);\r\n\t\t\t\t\t\toutput.writeEndElement();\r\n\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tfor (var index = 0; index < attributeValue.length; index++) {\r\n\t\t\t\t\t\t\tvar collectionEntry = {};\r\n\t\t\t\t\t\t\tcollectionEntry[this.key.name] = attributeName;\r\n\t\t\t\t\t\t\tcollectionEntry[this.value.name] = attributeValue[index];\r\n\t\t\t\t\t\t\toutput.writeStartElement(this.elementName);\r\n\t\t\t\t\t\t\tthis.entryTypeInfo.marshal(collectionEntry, context, output, scope);\r\n\t\t\t\t\t\t\toutput.writeEndElement();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\tdoBuild : function(context, module) {\r\n\t\tthis.entryTypeInfo.build(context, module);\r\n\t\t// TODO get property by name\r\n\t\tthis.key = this.entryTypeInfo.properties[0];\r\n\t\tthis.value = this.entryTypeInfo.properties[1];\r\n\t},\r\n\tbuildStructureElements : function(context, structure) {\r\n\t\tstructure.elements[this.elementName.key] = this;\r\n\t},\r\n\tsetProperty : function(object, value) {\r\n\t\tif (Jsonix.Util.Type.exists(value)) {\r\n\t\t\tJsonix.Util.Ensure.ensureObject(value, 'Map property requires an object.');\r\n\t\t\tif (!Jsonix.Util.Type.exists(object[this.name])) {\r\n\t\t\t\tobject[this.name] = {};\r\n\t\t\t}\r\n\t\t\tvar map = object[this.name];\r\n\t\t\tfor ( var attributeName in value) {\r\n\t\t\t\tif (value.hasOwnProperty(attributeName)) {\r\n\t\t\t\t\tvar attributeValue = value[attributeName];\r\n\t\t\t\t\tif (this.collection) {\r\n\t\t\t\t\t\tif (!Jsonix.Util.Type.exists(map[attributeName])) {\r\n\t\t\t\t\t\t\tmap[attributeName] = [];\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tfor (var index = 0; index < attributeValue.length; index++) {\r\n\t\t\t\t\t\t\tmap[attributeName].push(attributeValue[index]);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tmap[attributeName] = attributeValue;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\tCLASS_NAME : 'Jsonix.Model.ElementMapPropertyInfo'\r\n});\r\n\r\nJsonix.Model.AbstractElementRefsPropertyInfo = Jsonix.Class(Jsonix.Binding.Marshalls.Element, Jsonix.Binding.Marshalls.Element.AsElementRef, Jsonix.Binding.Unmarshalls.Element, Jsonix.Binding.Unmarshalls.WrapperElement, Jsonix.Binding.Unmarshalls.Element.AsElementRef, Jsonix.Model.PropertyInfo, {\r\n\twrapperElementName : null,\r\n\tallowDom : true,\r\n\tallowTypedObject : true,\r\n\tmixed : true,\r\n\tinitialize : function(mapping) {\r\n\t\tJsonix.Util.Ensure.ensureObject(mapping, 'Mapping must be an object.');\r\n\t\tJsonix.Model.PropertyInfo.prototype.initialize.apply(this, [ mapping ]);\r\n\t\tvar wen = mapping.wrapperElementName || mapping.wen || undefined;\r\n\t\tif (Jsonix.Util.Type.isObject(wen)) {\r\n\t\t\tthis.wrapperElementName = Jsonix.XML.QName.fromObject(wen);\r\n\t\t} else if (Jsonix.Util.Type.isString(wen)) {\r\n\t\t\tthis.wrapperElementName = new Jsonix.XML.QName(this.defaultElementNamespaceURI, wen);\r\n\t\t} else {\r\n\t\t\tthis.wrapperElementName = null;\r\n\t\t}\r\n\t\tvar dom = Jsonix.Util.Type.defaultValue(mapping.allowDom, mapping.dom, true);\r\n\t\tvar typed = Jsonix.Util.Type.defaultValue(mapping.allowTypedObject, mapping.typed, true);\r\n\t\tvar mx = Jsonix.Util.Type.defaultValue(mapping.mixed, mapping.mx, true);\r\n\t\tthis.allowDom = dom;\r\n\t\tthis.allowTypedObject = typed;\r\n\t\tthis.mixed = mx;\r\n\t},\r\n\tunmarshal : function(context, input, scope) {\r\n\t\tvar result = null;\r\n\t\tvar that = this;\r\n\t\tvar callback = function(value) {\r\n\t\t\tif (that.collection) {\r\n\t\t\t\tif (result === null) {\r\n\t\t\t\t\tresult = [];\r\n\t\t\t\t}\r\n\t\t\t\tresult.push(value);\r\n\r\n\t\t\t} else {\r\n\t\t\t\tif (result === null) {\r\n\t\t\t\t\tresult = value;\r\n\t\t\t\t} else {\r\n\t\t\t\t\t// TODO Report validation error\r\n\t\t\t\t\tthrow new Error(\"Value already set.\");\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tvar et = input.eventType;\r\n\t\tif (et === Jsonix.XML.Input.START_ELEMENT) {\r\n\t\t\tif (Jsonix.Util.Type.exists(this.wrapperElementName)) {\r\n\t\t\t\tthis.unmarshalWrapperElement(context, input, scope, callback);\r\n\t\t\t} else {\r\n\t\t\t\tthis.unmarshalElement(context, input, scope, callback);\r\n\t\t\t}\r\n\t\t} else if (this.mixed && (et === Jsonix.XML.Input.CHARACTERS || et === Jsonix.XML.Input.CDATA || et === Jsonix.XML.Input.ENTITY_REFERENCE)) {\r\n\t\t\tcallback(input.getText());\r\n\t\t} else if (et === Jsonix.XML.Input.SPACE || et === Jsonix.XML.Input.COMMENT || et === Jsonix.XML.Input.PROCESSING_INSTRUCTION) {\r\n\t\t\t// Skip whitespace\r\n\t\t} else {\r\n\t\t\t// TODO better exception\r\n\t\t\tthrow new Error(\"Illegal state: unexpected event type [\" + et + \"].\");\r\n\t\t}\r\n\t\treturn result;\r\n\t},\r\n\tmarshal : function(value, context, output, scope) {\r\n\r\n\t\tif (Jsonix.Util.Type.exists(value)) {\r\n\t\t\tif (Jsonix.Util.Type.exists(this.wrapperElementName)) {\r\n\t\t\t\toutput.writeStartElement(this.wrapperElementName);\r\n\t\t\t}\r\n\r\n\t\t\tif (!this.collection) {\r\n\t\t\t\tthis.marshalItem(value, context, output, scope);\r\n\t\t\t} else {\r\n\t\t\t\tJsonix.Util.Ensure.ensureArray(value, 'Collection property requires an array value.');\r\n\t\t\t\tfor (var index = 0; index < value.length; index++) {\r\n\t\t\t\t\tvar item = value[index];\r\n\t\t\t\t\tthis.marshalItem(item, context, output, scope);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif (Jsonix.Util.Type.exists(this.wrapperElementName)) {\r\n\t\t\t\toutput.writeEndElement();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t},\r\n\tmarshalItem : function(value, context, output, scope) {\r\n\t\tif (Jsonix.Util.Type.isString(value)) {\r\n\t\t\tif (!this.mixed) {\r\n\t\t\t\t// TODO\r\n\t\t\t\tthrow new Error(\"Property is not mixed, can't handle string values.\");\r\n\t\t\t} else {\r\n\t\t\t\toutput.writeCharacters(value);\r\n\t\t\t}\r\n\t\t} else if (this.allowDom && Jsonix.Util.Type.exists(value.nodeType)) {\r\n\t\t\t// DOM node\r\n\t\t\toutput.writeNode(value);\r\n\t\t} else if (Jsonix.Util.Type.isObject(value)) {\r\n\t\t\tthis.marshalElement(value, context, output, scope);\r\n\r\n\t\t} else {\r\n\t\t\tif (this.mixed) {\r\n\t\t\t\tthrow new Error(\"Unsupported content type, either objects or strings are supported.\");\r\n\t\t\t} else {\r\n\t\t\t\tthrow new Error(\"Unsupported content type, only objects are supported.\");\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t},\r\n\tgetTypeInfoByElementName : function(elementName, context, scope) {\r\n\t\tvar propertyElementTypeInfo = this.getPropertyElementTypeInfo(elementName, context);\r\n\t\tif (Jsonix.Util.Type.exists(propertyElementTypeInfo)) {\r\n\t\t\treturn propertyElementTypeInfo.typeInfo;\r\n\t\t} else {\r\n\t\t\tvar contextElementTypeInfo = context.getElementInfo(elementName, scope);\r\n\t\t\tif (Jsonix.Util.Type.exists(contextElementTypeInfo)) {\r\n\t\t\t\treturn contextElementTypeInfo.typeInfo;\r\n\t\t\t} else {\r\n\t\t\t\treturn undefined;\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\tgetPropertyElementTypeInfo : function(elementName, context) {\r\n\t\tthrow new Error(\"Abstract method [getPropertyElementTypeInfo].\");\r\n\t},\r\n\tbuildStructure : function(context, structure) {\r\n\t\tJsonix.Util.Ensure.ensureObject(structure);\r\n\t\tif (Jsonix.Util.Type.exists(structure.value)) {\r\n\t\t\t// TODO better exception\r\n\t\t\tthrow new Error(\"The structure already defines a value property.\");\r\n\t\t} else if (!Jsonix.Util.Type.exists(structure.elements)) {\r\n\t\t\tstructure.elements = {};\r\n\t\t}\r\n\r\n\t\tif (Jsonix.Util.Type.exists(this.wrapperElementName)) {\r\n\t\t\tstructure.elements[this.wrapperElementName.key] = this;\r\n\t\t} else {\r\n\t\t\tthis.buildStructureElements(context, structure);\r\n\t\t}\r\n\r\n\t\t// if (Jsonix.Util.Type.exists(structure.elements[key]))\r\n\t\t// {\r\n\t\t// // TODO better exception\r\n\t\t// throw new Error(\"The structure already defines an element for\r\n\t\t// the key [\"\r\n\t\t// + key + \"].\");\r\n\t\t// } else\r\n\t\t// {\r\n\t\t// structure.elements[key] = this;\r\n\t\t// }\r\n\r\n\t\tif ((this.allowDom || this.allowTypedObject)) {\r\n\t\t\tstructure.any = this;\r\n\t\t}\r\n\t\tif (this.mixed && !Jsonix.Util.Type.exists(this.wrapperElementName)) {\r\n\t\t\t// if (Jsonix.Util.Type.exists(structure.mixed)) {\r\n\t\t\t// // TODO better exception\r\n\t\t\t// throw new Error(\"The structure already defines the mixed\r\n\t\t\t// property.\");\r\n\t\t\t// } else\r\n\t\t\t// {\r\n\t\t\tstructure.mixed = this;\r\n\t\t\t// }\r\n\t\t}\r\n\t},\r\n\tbuildStructureElements : function(context, structure) {\r\n\t\tthrow new Error(\"Abstract method [buildStructureElements].\");\r\n\t},\r\n\tbuildStructureElementTypeInfos : function(context, structure, elementTypeInfo) {\r\n\t\tstructure.elements[elementTypeInfo.elementName.key] = this;\r\n\t\tvar substitutionMembers = context.getSubstitutionMembers(elementTypeInfo.elementName);\r\n\t\tif (Jsonix.Util.Type.isArray(substitutionMembers)) {\r\n\t\t\tfor (var jndex = 0; jndex < substitutionMembers.length; jndex++) {\r\n\t\t\t\tvar substitutionElementInfo = substitutionMembers[jndex];\r\n\t\t\t\tthis.buildStructureElementTypeInfos(context, structure, substitutionElementInfo);\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t},\r\n\tCLASS_NAME : 'Jsonix.Model.AbstractElementRefsPropertyInfo'\r\n});\r\nJsonix.Model.ElementRefPropertyInfo = Jsonix.Class(Jsonix.Model.AbstractElementRefsPropertyInfo, {\r\n\ttypeInfo : 'String',\r\n\telementName : null,\r\n\tinitialize : function(mapping) {\r\n\t\tJsonix.Util.Ensure.ensureObject(mapping);\r\n\t\tJsonix.Model.AbstractElementRefsPropertyInfo.prototype.initialize.apply(this, [ mapping ]);\r\n\t\t// TODO Ensure correct argument\r\n\t\tvar ti = mapping.typeInfo || mapping.ti || 'String';\r\n\t\tif (Jsonix.Util.Type.isObject(ti)) {\r\n\t\t\tthis.typeInfo = ti;\r\n\t\t} else {\r\n\t\t\tJsonix.Util.Ensure.ensureString(ti);\r\n\t\t\tthis.typeInfo = ti;\r\n\t\t}\r\n\t\tvar en = mapping.elementName || mapping.en || undefined;\r\n\t\tif (Jsonix.Util.Type.isObject(en)) {\r\n\t\t\tthis.elementName = Jsonix.XML.QName.fromObject(en);\r\n\t\t} else if (Jsonix.Util.Type.isString(en)) {\r\n\t\t\tthis.elementName = new Jsonix.XML.QName(this.defaultElementNamespaceURI, en);\r\n\t\t} else {\r\n\t\t\tthis.elementName = new Jsonix.XML.QName(this.defaultElementNamespaceURI, this.name);\r\n\t\t}\r\n\t},\r\n\tgetPropertyElementTypeInfo : function(elementName, context) {\r\n\t\tvar name = Jsonix.XML.QName.fromObjectOrString(elementName, context);\r\n\r\n\t\tif (name.key === this.elementName.key) {\r\n\t\t\treturn this;\r\n\t\t} else {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t},\r\n\tdoBuild : function(context, module) {\r\n\t\tthis.typeInfo = context.resolveTypeInfo(this.typeInfo, module);\r\n\t},\r\n\tbuildStructureElements : function(context, structure) {\r\n\t\tthis.buildStructureElementTypeInfos(context, structure, this);\r\n\t},\r\n\tCLASS_NAME : 'Jsonix.Model.ElementRefPropertyInfo'\r\n});\r\nJsonix.Model.ElementRefPropertyInfo.Simplified = Jsonix.Class(Jsonix.Model.ElementRefPropertyInfo, Jsonix.Binding.Unmarshalls.Element.AsSimplifiedElementRef, {\r\n\tCLASS_NAME : 'Jsonix.Model.ElementRefPropertyInfo.Simplified'\r\n});\r\nJsonix.Model.ElementRefsPropertyInfo = Jsonix.Class(Jsonix.Model.AbstractElementRefsPropertyInfo, {\r\n\telementTypeInfos : null,\r\n\telementTypeInfosMap : null,\r\n\tinitialize : function(mapping) {\r\n\t\tJsonix.Util.Ensure.ensureObject(mapping);\r\n\t\tJsonix.Model.AbstractElementRefsPropertyInfo.prototype.initialize.apply(this, [ mapping ]);\r\n\t\t// TODO Ensure correct arguments\r\n\t\tvar etis = mapping.elementTypeInfos || mapping.etis || [];\r\n\t\tJsonix.Util.Ensure.ensureArray(etis);\r\n\t\tthis.elementTypeInfos = [];\r\n\t\tfor (var index = 0; index < etis.length; index++)\r\n\t\t{\r\n\t\t\tthis.elementTypeInfos[index] = Jsonix.Util.Type.cloneObject(etis[index]);\r\n\t\t}\r\n\t},\r\n\tgetPropertyElementTypeInfo : function(elementName, context) {\r\n\t\tvar name = Jsonix.XML.QName.fromObjectOrString(elementName, context);\r\n\r\n\t\tvar typeInfo = this.elementTypeInfosMap[name.key];\r\n\t\tif (Jsonix.Util.Type.exists(typeInfo)) {\r\n\t\t\treturn {\r\n\t\t\t\telementName : name,\r\n\t\t\t\ttypeInfo : typeInfo\r\n\t\t\t};\r\n\t\t} else {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t},\r\n\tdoBuild : function(context, module) {\r\n\t\tthis.elementTypeInfosMap = {};\r\n\t\tvar etiti, etien;\r\n\t\tfor (var index = 0; index < this.elementTypeInfos.length; index++) {\r\n\t\t\tvar elementTypeInfo = this.elementTypeInfos[index];\r\n\t\t\tJsonix.Util.Ensure.ensureObject(elementTypeInfo);\r\n\t\t\tetiti = elementTypeInfo.typeInfo || elementTypeInfo.ti || 'String';\r\n\t\t\telementTypeInfo.typeInfo = context.resolveTypeInfo(etiti, module);\r\n\t\t\tetien = elementTypeInfo.elementName || elementTypeInfo.en || undefined;\r\n\t\t\telementTypeInfo.elementName = Jsonix.XML.QName.fromObjectOrString(etien, context, this.defaultElementNamespaceURI);\r\n\t\t\tthis.elementTypeInfosMap[elementTypeInfo.elementName.key] = elementTypeInfo.typeInfo;\r\n\t\t}\r\n\t},\r\n\tbuildStructureElements : function(context, structure) {\r\n\t\tfor (var index = 0; index < this.elementTypeInfos.length; index++) {\r\n\t\t\tvar elementTypeInfo = this.elementTypeInfos[index];\r\n\t\t\tthis.buildStructureElementTypeInfos(context, structure, elementTypeInfo);\r\n\t\t}\r\n\t},\r\n\tCLASS_NAME : 'Jsonix.Model.ElementRefsPropertyInfo'\r\n});\r\nJsonix.Model.ElementRefsPropertyInfo.Simplified = Jsonix.Class(Jsonix.Model.ElementRefsPropertyInfo, Jsonix.Binding.Unmarshalls.Element.AsSimplifiedElementRef, {\r\n\tCLASS_NAME : 'Jsonix.Model.ElementRefsPropertyInfo.Simplified'\r\n});\r\n\r\nJsonix.Model.AnyElementPropertyInfo = Jsonix.Class(Jsonix.Binding.Marshalls.Element, Jsonix.Binding.Marshalls.Element.AsElementRef, Jsonix.Binding.Unmarshalls.Element, Jsonix.Binding.Unmarshalls.Element.AsElementRef, Jsonix.Model.PropertyInfo, {\r\n\tallowDom : true,\r\n\tallowTypedObject : true,\r\n\tmixed : true,\r\n\tinitialize : function(mapping) {\r\n\t\tJsonix.Util.Ensure.ensureObject(mapping);\r\n\t\tJsonix.Model.PropertyInfo.prototype.initialize.apply(this, [ mapping ]);\r\n\t\tvar dom = Jsonix.Util.Type.defaultValue(mapping.allowDom, mapping.dom, true);\r\n\t\tvar typed = Jsonix.Util.Type.defaultValue(mapping.allowTypedObject, mapping.typed, true);\r\n\t\tvar mx = Jsonix.Util.Type.defaultValue(mapping.mixed, mapping.mx, true);\r\n\t\tthis.allowDom = dom;\r\n\t\tthis.allowTypedObject = typed;\r\n\t\tthis.mixed = mx;\r\n\t},\r\n\tunmarshal : function(context, input, scope) {\r\n\t\tvar result = null;\r\n\t\tvar that = this;\r\n\t\tvar callback = function(value) {\r\n\t\t\tif (that.collection) {\r\n\t\t\t\tif (result === null) {\r\n\t\t\t\t\tresult = [];\r\n\t\t\t\t}\r\n\t\t\t\tresult.push(value);\r\n\r\n\t\t\t} else {\r\n\t\t\t\tif (result === null) {\r\n\t\t\t\t\tresult = value;\r\n\t\t\t\t} else {\r\n\t\t\t\t\t// TODO Report validation error\r\n\t\t\t\t\tthrow new Error(\"Value already set.\");\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tvar et = input.eventType;\r\n\t\tif (et === Jsonix.XML.Input.START_ELEMENT) {\r\n\t\t\tthis.unmarshalElement(context, input, scope, callback);\r\n\t\t} else if (this.mixed && (et === Jsonix.XML.Input.CHARACTERS || et === Jsonix.XML.Input.CDATA || et === Jsonix.XML.Input.ENTITY_REFERENCE)) {\r\n\t\t\tcallback(input.getText());\r\n\t\t} else if (this.mixed && (et === Jsonix.XML.Input.SPACE)) {\r\n\t\t\t// Whitespace\r\n\t\t\t// return null;\r\n\t\t} else if (et === Jsonix.XML.Input.COMMENT || et === Jsonix.XML.Input.PROCESSING_INSTRUCTION) {\r\n\t\t\t// return null;\r\n\t\t} else {\r\n\t\t\t// TODO better exception\r\n\t\t\tthrow new Error(\"Illegal state: unexpected event type [\" + et + \"].\");\r\n\t\t}\r\n\r\n\t\treturn result;\r\n\t},\r\n\tmarshal : function(value, context, output, scope) {\r\n\t\tif (!Jsonix.Util.Type.exists(value)) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif (!this.collection) {\r\n\t\t\tthis.marshalItem(value, context, output, scope);\r\n\t\t} else {\r\n\t\t\tJsonix.Util.Ensure.ensureArray(value);\r\n\t\t\tfor (var index = 0; index < value.length; index++) {\r\n\t\t\t\tthis.marshalItem(value[index], context, output, scope);\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\tmarshalItem : function(value, context, output, scope) {\r\n\t\tif (this.mixed && Jsonix.Util.Type.isString(value)) {\r\n\t\t\t// Mixed\r\n\t\t\toutput.writeCharacters(value);\r\n\t\t} else if (this.allowDom && Jsonix.Util.Type.exists(value.nodeType)) {\r\n\t\t\t// DOM node\r\n\t\t\toutput.writeNode(value);\r\n\r\n\t\t} else {\r\n\t\t\tif (this.allowTypedObject) {\r\n\t\t\t\tthis.marshalElement(value, context, output, scope);\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\tdoBuild : function(context, module) {\r\n\t\t// Nothing to do\r\n\t},\r\n\tbuildStructure : function(context, structure) {\r\n\t\tJsonix.Util.Ensure.ensureObject(structure);\r\n\t\tif (Jsonix.Util.Type.exists(structure.value)) {\r\n\t\t\t// TODO better exception\r\n\t\t\tthrow new Error(\"The structure already defines a value property.\");\r\n\t\t} else if (!Jsonix.Util.Type.exists(structure.elements)) {\r\n\t\t\tstructure.elements = {};\r\n\t\t}\r\n\r\n\t\tif ((this.allowDom || this.allowTypedObject)) {\r\n\t\t\t// if (Jsonix.Util.Type.exists(structure.any)) {\r\n\t\t\t// // TODO better exception\r\n\t\t\t// throw new Error(\"The structure already defines the any\r\n\t\t\t// property.\");\r\n\t\t\t// } else\r\n\t\t\t// {\r\n\t\t\tstructure.any = this;\r\n\t\t\t// }\r\n\t\t}\r\n\t\tif (this.mixed) {\r\n\t\t\t// if (Jsonix.Util.Type.exists(structure.mixed)) {\r\n\t\t\t// // TODO better exception\r\n\t\t\t// throw new Error(\"The structure already defines the mixed\r\n\t\t\t// property.\");\r\n\t\t\t// } else\r\n\t\t\t// {\r\n\t\t\tstructure.mixed = this;\r\n\t\t\t// }\r\n\t\t}\r\n\t},\r\n\tCLASS_NAME : 'Jsonix.Model.AnyElementPropertyInfo'\r\n});\r\nJsonix.Model.AnyElementPropertyInfo.Simplified = Jsonix.Class(Jsonix.Model.AnyElementPropertyInfo, Jsonix.Binding.Unmarshalls.Element.AsSimplifiedElementRef, {\r\n\tCLASS_NAME : 'Jsonix.Model.AnyElementPropertyInfo.Simplified'\r\n});\r\nJsonix.Model.Module = Jsonix.Class(Jsonix.Mapping.Styled, {\r\n\tname : null,\r\n\ttypeInfos : null,\r\n\telementInfos : null,\r\n\ttargetNamespace : '',\r\n\tdefaultElementNamespaceURI : '',\r\n\tdefaultAttributeNamespaceURI : '',\r\n\tinitialize : function(mapping, options) {\r\n\t\tJsonix.Mapping.Styled.prototype.initialize.apply(this, [ options ]);\r\n\t\tthis.typeInfos = [];\r\n\t\tthis.elementInfos = [];\r\n\t\tif (typeof mapping !== 'undefined') {\r\n\t\t\tJsonix.Util.Ensure.ensureObject(mapping);\r\n\t\t\tvar n = mapping.name || mapping.n || null;\r\n\t\t\tthis.name = n;\r\n\t\t\tvar dens = mapping.defaultElementNamespaceURI || mapping.dens || mapping.targetNamespace || mapping.tns || '';\r\n\t\t\tthis.defaultElementNamespaceURI = dens;\r\n\t\t\tvar tns = mapping.targetNamespace || mapping.tns || mapping.defaultElementNamespaceURI || mapping.dens || this.defaultElementNamespaceURI;\r\n\t\t\tthis.targetNamespace = tns;\r\n\t\t\tvar dans = mapping.defaultAttributeNamespaceURI || mapping.dans || '';\r\n\t\t\tthis.defaultAttributeNamespaceURI = dans;\r\n\t\t\t// Initialize type infos\r\n\t\t\tvar tis = mapping.typeInfos || mapping.tis || [];\r\n\t\t\tthis.initializeTypeInfos(tis);\r\n\r\n\t\t\t// Backwards compatibility: class infos can also be defined\r\n\t\t\t// as properties of the schema, for instance Schema.MyType\r\n\t\t\tfor ( var typeInfoName in mapping) {\r\n\t\t\t\tif (mapping.hasOwnProperty(typeInfoName)) {\r\n\t\t\t\t\tif (mapping[typeInfoName] instanceof this.mappingStyle.classInfo) {\r\n\t\t\t\t\t\tthis.typeInfos.push(mapping[typeInfoName]);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tvar eis = mapping.elementInfos || mapping.eis || [];\r\n\t\t\t// Initialize element infos\r\n\t\t\tthis.initializeElementInfos(eis);\r\n\t\t}\r\n\t},\r\n\tinitializeTypeInfos : function(typeInfoMappings) {\r\n\t\tJsonix.Util.Ensure.ensureArray(typeInfoMappings);\r\n\t\tvar index, typeInfoMapping, typeInfo;\r\n\t\tfor (index = 0; index < typeInfoMappings.length; index++) {\r\n\t\t\ttypeInfoMapping = typeInfoMappings[index];\r\n\t\t\ttypeInfo = this.createTypeInfo(typeInfoMapping);\r\n\t\t\tthis.typeInfos.push(typeInfo);\r\n\t\t}\r\n\t},\r\n\tinitializeElementInfos : function(elementInfoMappings) {\r\n\t\tJsonix.Util.Ensure.ensureArray(elementInfoMappings);\r\n\t\tvar index, elementInfoMapping, elementInfo;\r\n\t\tfor (index = 0; index < elementInfoMappings.length; index++) {\r\n\t\t\telementInfoMapping = elementInfoMappings[index];\r\n\t\t\telementInfo = this.createElementInfo(elementInfoMapping);\r\n\t\t\tthis.elementInfos.push(elementInfo);\r\n\t\t}\r\n\t},\r\n\tcreateTypeInfo : function(mapping) {\r\n\t\tJsonix.Util.Ensure.ensureObject(mapping);\r\n\t\tvar typeInfo;\r\n\t\t// If mapping is already a type info, do nothing\r\n\t\tif (mapping instanceof Jsonix.Model.TypeInfo) {\r\n\t\t\ttypeInfo = mapping;\r\n\t\t}\r\n\t\t// Else create it via generic mapping configuration\r\n\t\telse {\r\n\t\t\tmapping = Jsonix.Util.Type.cloneObject(mapping);\r\n\t\t\tvar type = mapping.type || mapping.t || 'classInfo';\r\n\t\t\t// Locate the creator function\r\n\t\t\tif (Jsonix.Util.Type.isFunction(this.typeInfoCreators[type])) {\r\n\t\t\t\tvar typeInfoCreator = this.typeInfoCreators[type];\r\n\t\t\t\t// Call the creator function\r\n\t\t\t\ttypeInfo = typeInfoCreator.call(this, mapping);\r\n\t\t\t} else {\r\n\t\t\t\tthrow new Error(\"Unknown type info type [\" + type + \"].\");\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn typeInfo;\r\n\t},\r\n\tinitializeNames : function(mapping) {\r\n\t\tvar ln = mapping.localName || mapping.ln || null;\r\n\t\tmapping.localName = ln;\r\n\t\tvar n = mapping.name || mapping.n || null;\r\n\t\tmapping.name = n;\r\n\t\t// Calculate both name as well as localName\r\n\t\t// name is provided\r\n\t\tif (Jsonix.Util.Type.isString(mapping.name)) {\r\n\t\t\t// Obsolete code below\r\n\t\t\t// // localName is not provided\r\n\t\t\t// if (!Jsonix.Util.Type.isString(mapping.localName)) {\r\n\t\t\t// // But module name is provided\r\n\t\t\t// if (Jsonix.Util.Type.isString(this.name)) {\r\n\t\t\t// // If name starts with module name, use second part\r\n\t\t\t// // as local name\r\n\t\t\t// if (mapping.name.indexOf(this.name + '.') === 0) {\r\n\t\t\t// mapping.localName = mapping.name\r\n\t\t\t// .substring(this.name.length + 1);\r\n\t\t\t// }\r\n\t\t\t// // Else use name as local name\r\n\t\t\t// else {\r\n\t\t\t// mapping.localName = mapping.name;\r\n\t\t\t// }\r\n\t\t\t// }\r\n\t\t\t// // Module name is not provided, use name as local name\r\n\t\t\t// else {\r\n\t\t\t// mapping.localName = mapping.name;\r\n\t\t\t// }\r\n\t\t\t// }\r\n\t\t\tif (mapping.name.length > 0 && mapping.name.charAt(0) === '.' && Jsonix.Util.Type.isString(this.name)) {\r\n\t\t\t\tmapping.name = this.name + mapping.name;\r\n\t\t\t}\r\n\t\t}\r\n\t\t// name is not provided but local name is provided\r\n\t\telse if (Jsonix.Util.Type.isString(ln)) {\r\n\t\t\t// Module name is provided\r\n\t\t\tif (Jsonix.Util.Type.isString(this.name)) {\r\n\t\t\t\tmapping.name = this.name + '.' + ln;\r\n\t\t\t}\r\n\t\t\t// Module name is not provided\r\n\t\t\telse {\r\n\t\t\t\tmapping.name = ln;\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tthrow new Error(\"Neither [name/n] nor [localName/ln] was provided for the class info.\");\r\n\t\t}\r\n\t},\r\n\tcreateClassInfo : function(mapping) {\r\n\t\tJsonix.Util.Ensure.ensureObject(mapping);\r\n\t\tvar dens = mapping.defaultElementNamespaceURI || mapping.dens || this.defaultElementNamespaceURI;\r\n\t\tmapping.defaultElementNamespaceURI = dens;\r\n\t\tvar tns = mapping.targetNamespace || mapping.tns || this.targetNamespace;\r\n\t\tmapping.targetNamespace = tns;\r\n\t\tvar dans = mapping.defaultAttributeNamespaceURI || mapping.dans || this.defaultAttributeNamespaceURI;\r\n\t\tmapping.defaultAttributeNamespaceURI = dans;\r\n\t\tthis.initializeNames(mapping);\r\n\t\t// Now both name an local name are initialized\r\n\t\tvar classInfo = new this.mappingStyle.classInfo(mapping, {\r\n\t\t\tmappingStyle : this.mappingStyle\r\n\t\t});\r\n\t\tclassInfo.module = this;\r\n\t\treturn classInfo;\r\n\t},\r\n\tcreateEnumLeafInfo : function(mapping) {\r\n\t\tJsonix.Util.Ensure.ensureObject(mapping);\r\n\t\tthis.initializeNames(mapping);\r\n\t\t// Now both name an local name are initialized\r\n\t\tvar enumLeafInfo = new this.mappingStyle.enumLeafInfo(mapping, {\r\n\t\t\tmappingStyle : this.mappingStyle\r\n\t\t});\r\n\t\tenumLeafInfo.module = this;\r\n\t\treturn enumLeafInfo;\r\n\t},\r\n\tcreateList : function(mapping) {\r\n\t\tJsonix.Util.Ensure.ensureObject(mapping);\r\n\t\tvar ti = mapping.baseTypeInfo || mapping.typeInfo || mapping.bti || mapping.ti || 'String';\r\n\t\tvar tn = mapping.typeName || mapping.tn || null;\r\n\r\n\t\tif (Jsonix.Util.Type.exists(tn)) {\r\n\t\t\tif (Jsonix.Util.Type.isString(tn)) {\r\n\t\t\t\ttn = new Jsonix.XML.QName(this.targetNamespace, tn);\r\n\t\t\t} else {\r\n\t\t\t\ttn = Jsonix.XML.QName.fromObject(tn);\r\n\t\t\t}\r\n\t\t}\r\n\t\tvar s = mapping.separator || mapping.sep || ' ';\r\n\t\tJsonix.Util.Ensure.ensureExists(ti);\r\n\t\tvar listTypeInfo = new Jsonix.Schema.XSD.List(ti, tn, s);\r\n\t\tlistTypeInfo.module = this;\r\n\t\treturn listTypeInfo;\r\n\t},\r\n\tcreateElementInfo : function(mapping) {\r\n\t\tJsonix.Util.Ensure.ensureObject(mapping);\r\n\t\tmapping = Jsonix.Util.Type.cloneObject(mapping);\r\n\r\n\t\tvar dens = mapping.defaultElementNamespaceURI || mapping.dens || this.defaultElementNamespaceURI;\r\n\t\tmapping.defaultElementNamespaceURI = dens;\r\n\t\tvar en = mapping.elementName || mapping.en || undefined;\r\n\t\tJsonix.Util.Ensure.ensureExists(en);\r\n\r\n\t\tvar ti = mapping.typeInfo || mapping.ti || 'String';\r\n\t\tJsonix.Util.Ensure.ensureExists(ti);\r\n\r\n\t\tmapping.typeInfo = ti;\r\n\t\tif (Jsonix.Util.Type.isObject(en)) {\r\n\t\t\tmapping.elementName = Jsonix.XML.QName.fromObject(en);\r\n\t\t} else if (Jsonix.Util.Type.isString(en)) {\r\n\t\t\tmapping.elementName = new Jsonix.XML.QName(this.defaultElementNamespaceURI, en);\r\n\t\t} else {\r\n\t\t\tthrow new Error('Element info [' + mapping + '] must provide an element name.');\r\n\t\t}\r\n\r\n\t\tvar sh = mapping.substitutionHead || mapping.sh || null;\r\n\t\tif (Jsonix.Util.Type.exists(sh)) {\r\n\t\t\tif (Jsonix.Util.Type.isObject(sh)) {\r\n\t\t\t\tmapping.substitutionHead = Jsonix.XML.QName.fromObject(sh);\r\n\t\t\t} else {\r\n\t\t\t\tJsonix.Util.Ensure.ensureString(sh);\r\n\t\t\t\tmapping.substitutionHead = new Jsonix.XML.QName(this.defaultElementNamespaceURI, sh);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tvar elementInfo = new this.mappingStyle.elementInfo(mapping, {\r\n\t\t\tmappingStyle : this.mappingStyle\r\n\t\t});\r\n\t\telementInfo.module = this;\r\n\t\treturn elementInfo;\r\n\t},\r\n\tregisterTypeInfos : function(context) {\r\n\t\tfor (var index = 0; index < this.typeInfos.length; index++) {\r\n\t\t\tvar typeInfo = this.typeInfos[index];\r\n\t\t\tcontext.registerTypeInfo(typeInfo, this);\r\n\t\t}\r\n\t},\r\n\tbuildTypeInfos : function(context) {\r\n\t\tfor (var index = 0; index < this.typeInfos.length; index++) {\r\n\t\t\tvar typeInfo = this.typeInfos[index];\r\n\t\t\ttypeInfo.build(context, this);\r\n\t\t}\r\n\t},\r\n\tregisterElementInfos : function(context) {\r\n\t\tfor (var index = 0; index < this.elementInfos.length; index++) {\r\n\t\t\tvar elementInfo = this.elementInfos[index];\r\n\t\t\tcontext.registerElementInfo(elementInfo, this);\r\n\t\t}\r\n\t},\r\n\tbuildElementInfos : function(context) {\r\n\t\tfor (var index = 0; index < this.elementInfos.length; index++) {\r\n\t\t\tvar elementInfo = this.elementInfos[index];\r\n\t\t\telementInfo.build(context, this);\r\n\t\t}\r\n\t},\r\n\t// Obsolete, retained for backwards compatibility\r\n\tcs : function() {\r\n\t\treturn this;\r\n\t},\r\n\t// Obsolete, retained for backwards compatibility\r\n\tes : function() {\r\n\t\treturn this;\r\n\t},\r\n\tCLASS_NAME : 'Jsonix.Model.Module'\r\n});\r\nJsonix.Model.Module.prototype.typeInfoCreators = {\r\n\t\"classInfo\" : Jsonix.Model.Module.prototype.createClassInfo,\r\n\t\"c\" : Jsonix.Model.Module.prototype.createClassInfo,\r\n\t\"enumInfo\" : Jsonix.Model.Module.prototype.createEnumLeafInfo,\r\n\t\"enum\" : Jsonix.Model.Module.prototype.createEnumLeafInfo,\r\n\t\"list\" : Jsonix.Model.Module.prototype.createList,\r\n\t\"l\" : Jsonix.Model.Module.prototype.createList\r\n};\r\nJsonix.Mapping.Style.Standard = Jsonix.Class(Jsonix.Mapping.Style, {\r\n\tmarshaller : Jsonix.Binding.Marshaller,\r\n\tunmarshaller : Jsonix.Binding.Unmarshaller,\r\n\tmodule : Jsonix.Model.Module,\r\n\telementInfo : Jsonix.Model.ElementInfo,\r\n\tclassInfo : Jsonix.Model.ClassInfo,\r\n\tenumLeafInfo : Jsonix.Model.EnumLeafInfo,\r\n\tanyAttributePropertyInfo : Jsonix.Model.AnyAttributePropertyInfo,\r\n\tanyElementPropertyInfo : Jsonix.Model.AnyElementPropertyInfo,\r\n\tattributePropertyInfo : Jsonix.Model.AttributePropertyInfo,\r\n\telementMapPropertyInfo : Jsonix.Model.ElementMapPropertyInfo,\r\n\telementPropertyInfo : Jsonix.Model.ElementPropertyInfo,\r\n\telementsPropertyInfo : Jsonix.Model.ElementsPropertyInfo,\r\n\telementRefPropertyInfo : Jsonix.Model.ElementRefPropertyInfo,\r\n\telementRefsPropertyInfo : Jsonix.Model.ElementRefsPropertyInfo,\r\n\tvaluePropertyInfo : Jsonix.Model.ValuePropertyInfo,\r\n\tinitialize : function() {\r\n\t\tJsonix.Mapping.Style.prototype.initialize.apply(this);\r\n\t},\r\n\tCLASS_NAME : 'Jsonix.Mapping.Style.Standard'\r\n});\r\nJsonix.Mapping.Style.STYLES.standard = new Jsonix.Mapping.Style.Standard();\r\n\r\nJsonix.Mapping.Style.Simplified = Jsonix.Class(Jsonix.Mapping.Style, {\r\n\tmarshaller : Jsonix.Binding.Marshaller.Simplified,\r\n\tunmarshaller : Jsonix.Binding.Unmarshaller.Simplified,\r\n\tmodule : Jsonix.Model.Module,\r\n\telementInfo : Jsonix.Model.ElementInfo,\r\n\tclassInfo : Jsonix.Model.ClassInfo,\r\n\tenumLeafInfo : Jsonix.Model.EnumLeafInfo,\r\n\tanyAttributePropertyInfo : Jsonix.Model.AnyAttributePropertyInfo.Simplified,\r\n\tanyElementPropertyInfo : Jsonix.Model.AnyElementPropertyInfo.Simplified,\r\n\tattributePropertyInfo : Jsonix.Model.AttributePropertyInfo,\r\n\telementMapPropertyInfo : Jsonix.Model.ElementMapPropertyInfo,\r\n\telementPropertyInfo : Jsonix.Model.ElementPropertyInfo,\r\n\telementsPropertyInfo : Jsonix.Model.ElementsPropertyInfo,\r\n\telementRefPropertyInfo : Jsonix.Model.ElementRefPropertyInfo.Simplified,\r\n\telementRefsPropertyInfo : Jsonix.Model.ElementRefsPropertyInfo.Simplified,\r\n\tvaluePropertyInfo : Jsonix.Model.ValuePropertyInfo,\r\n\tinitialize : function() {\r\n\t\tJsonix.Mapping.Style.prototype.initialize.apply(this);\r\n\t},\r\n\tCLASS_NAME : 'Jsonix.Mapping.Style.Simplified'\r\n});\r\nJsonix.Mapping.Style.STYLES.simplified = new Jsonix.Mapping.Style.Simplified();\r\n\r\nJsonix.Schema.XSD = {};\r\nJsonix.Schema.XSD.NAMESPACE_URI = 'http://www.w3.org/2001/XMLSchema';\r\nJsonix.Schema.XSD.PREFIX = 'xsd';\r\nJsonix.Schema.XSD.qname = function(localPart) {\r\n\tJsonix.Util.Ensure.ensureString(localPart);\r\n\treturn new Jsonix.XML.QName(Jsonix.Schema.XSD.NAMESPACE_URI, localPart,\r\n\t\t\tJsonix.Schema.XSD.PREFIX);\r\n};\r\n\r\nJsonix.Schema.XSD.AnyType = Jsonix.Class(Jsonix.Model.ClassInfo, {\r\n\ttypeName : Jsonix.Schema.XSD.qname('anyType'),\r\n\tinitialize : function() {\r\n\t\tJsonix.Model.ClassInfo.prototype.initialize.call(this, {\r\n\t\t\tname : 'AnyType',\r\n\t\t\tpropertyInfos : [ {\r\n\t\t\t\ttype : 'anyAttribute',\r\n\t\t\t\tname : 'attributes'\r\n\t\t\t}, {\r\n\t\t\t\ttype : 'anyElement',\r\n\t\t\t\tname : 'content',\r\n\t\t\t\tcollection : true\r\n\t\t\t} ]\r\n\t\t});\r\n\t},\r\n\tCLASS_NAME : 'Jsonix.Schema.XSD.AnyType'\r\n});\r\nJsonix.Schema.XSD.AnyType.INSTANCE = new Jsonix.Schema.XSD.AnyType();\r\nJsonix.Schema.XSD.AnySimpleType = Jsonix.Class(Jsonix.Model.TypeInfo, {\r\n\tname : 'AnySimpleType',\r\n\ttypeName : Jsonix.Schema.XSD.qname('anySimpleType'),\r\n\tinitialize : function() {\r\n\t\tJsonix.Model.TypeInfo.prototype.initialize.apply(this, []);\r\n\t},\t\r\n\tprint : function(value, context, output, scope) {\r\n\t\treturn value;\r\n\t},\r\n\tparse : function(text, context, input, scope) {\r\n\t\treturn text;\r\n\t},\r\n\tisInstance : function(value, context, scope) {\r\n\t\treturn true;\r\n\t},\r\n\treprint : function(value, context, output, scope) {\r\n\t\t// Only reprint when the value is a string but not an instance\r\n\t\tif (Jsonix.Util.Type.isString(value) && !this.isInstance(value, context, scope)) {\r\n\t\t\t// Using null as input as input is not available\r\n\t\t\treturn this.print(this.parse(value, context, null, scope), context, output, scope);\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\treturn this.print(value, context, output, scope);\r\n\t\t}\r\n\t},\r\n\tunmarshal : function(context, input, scope) {\r\n\t\tvar text = input.getElementText();\r\n\t\tif (Jsonix.Util.StringUtils.isNotBlank(text)) {\r\n\t\t\treturn this.parse(text, context, input, scope);\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\treturn null;\r\n\t\t}\r\n\t},\r\n\tmarshal : function(value, context, output, scope) {\r\n\t\tif (Jsonix.Util.Type.exists(value)) {\r\n\t\t\toutput.writeCharacters(this.reprint(value, context, output, scope));\r\n\t\t}\r\n\t},\r\n\tbuild: function(context, module)\r\n\t{\r\n\t\t// Nothing to do\r\n\t},\r\n\tCLASS_NAME : 'Jsonix.Schema.XSD.AnySimpleType'\r\n});\r\nJsonix.Schema.XSD.AnySimpleType.INSTANCE = new Jsonix.Schema.XSD.AnySimpleType();\r\nJsonix.Schema.XSD.List = Jsonix\r\n\t\t.Class(\r\n\t\t\t\tJsonix.Schema.XSD.AnySimpleType,\r\n\t\t\t\t{\r\n\t\t\t\t\tname : null,\r\n\t\t\t\t\ttypeName : null,\r\n\t\t\t\t\ttypeInfo : null,\r\n\t\t\t\t\tseparator : ' ',\r\n\t\t\t\t\ttrimmedSeparator : Jsonix.Util.StringUtils.whitespaceCharacters,\r\n\t\t\t\t\tsimpleType : true,\r\n\t\t\t\t\tbuilt : false,\r\n\t\t\t\t\tinitialize : function(typeInfo, typeName, separator) {\r\n\t\t\t\t\t\tJsonix.Util.Ensure.ensureExists(typeInfo);\r\n\t\t\t\t\t\t// TODO Ensure correct argument\r\n\t\t\t\t\t\tthis.typeInfo = typeInfo;\r\n\t\t\t\t\t\tif (!Jsonix.Util.Type.exists(this.name)) {\r\n\t\t\t\t\t\t\tthis.name = typeInfo.name + \"*\";\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (Jsonix.Util.Type.exists(typeName)) {\r\n\t\t\t\t\t\t\t// TODO Ensure correct argument\r\n\t\t\t\t\t\t\tthis.typeName = typeName;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tif (Jsonix.Util.Type.isString(separator)) {\r\n\t\t\t\t\t\t\t// TODO Ensure correct argument\r\n\t\t\t\t\t\t\tthis.separator = separator;\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tthis.separator = ' ';\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tvar trimmedSeparator = Jsonix.Util.StringUtils\r\n\t\t\t\t\t\t\t\t.trim(this.separator);\r\n\t\t\t\t\t\tif (trimmedSeparator.length === 0) {\r\n\t\t\t\t\t\t\tthis.trimmedSeparator = Jsonix.Util.StringUtils.whitespaceCharacters;\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tthis.trimmedSeparator = trimmedSeparator;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\tbuild : function(context) {\r\n\t\t\t\t\t\tif (!this.built) {\r\n\t\t\t\t\t\t\tthis.typeInfo = context.resolveTypeInfo(this.typeInfo, this.module);\r\n\t\t\t\t\t\t\tthis.built = true;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\tprint : function(value, context, output, scope) {\r\n\t\t\t\t\t\tif (!Jsonix.Util.Type.exists(value)) {\r\n\t\t\t\t\t\t\treturn null;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t// TODO Exception if not an array\r\n\t\t\t\t\t\tJsonix.Util.Ensure.ensureArray(value);\r\n\t\t\t\t\t\tvar result = '';\r\n\t\t\t\t\t\tfor ( var index = 0; index < value.length; index++) {\r\n\t\t\t\t\t\t\tif (index > 0) {\r\n\t\t\t\t\t\t\t\tresult = result + this.separator;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tresult = result + this.typeInfo.reprint(value[index], context, output, scope);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\treturn result;\r\n\t\t\t\t\t},\r\n\t\t\t\t\tparse : function(text, context, input, scope) {\r\n\t\t\t\t\t\tJsonix.Util.Ensure.ensureString(text);\r\n\t\t\t\t\t\tvar items = Jsonix.Util.StringUtils\r\n\t\t\t\t\t\t\t\t.splitBySeparatorChars(text,\r\n\t\t\t\t\t\t\t\t\t\tthis.trimmedSeparator);\r\n\t\t\t\t\t\tvar result = [];\r\n\t\t\t\t\t\tfor ( var index = 0; index < items.length; index++) {\r\n\t\t\t\t\t\t\tresult.push(this.typeInfo\r\n\t\t\t\t\t\t\t\t\t.parse(Jsonix.Util.StringUtils.trim(items[index]), context, input, scope));\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\treturn result;\r\n\t\t\t\t\t},\r\n\t\t\t\t\t// TODO isInstance?\r\n\t\t\t\t\tCLASS_NAME : 'Jsonix.Schema.XSD.List'\r\n\t\t\t\t});\r\n\r\nJsonix.Schema.XSD.String = Jsonix.Class(Jsonix.Schema.XSD.AnySimpleType, {\r\n\tname : 'String',\r\n\ttypeName : Jsonix.Schema.XSD.qname('string'),\r\n\tunmarshal : function(context, input, scope) {\r\n\t\tvar text = input.getElementText();\r\n\t\treturn this.parse(text, context, input, scope);\r\n\t},\r\n\tprint : function(value, context, output, scope) {\r\n\t\tJsonix.Util.Ensure.ensureString(value);\r\n\t\treturn value;\r\n\t},\r\n\tparse : function(text, context, input, scope) {\r\n\t\tJsonix.Util.Ensure.ensureString(text);\r\n\t\treturn text;\r\n\t},\r\n\tisInstance : function(value, context, scope) {\r\n\t\treturn Jsonix.Util.Type.isString(value);\r\n\t},\r\n\tCLASS_NAME : 'Jsonix.Schema.XSD.String'\r\n});\r\nJsonix.Schema.XSD.String.INSTANCE = new Jsonix.Schema.XSD.String();\r\nJsonix.Schema.XSD.String.INSTANCE.LIST = new Jsonix.Schema.XSD.List(\r\n\t\tJsonix.Schema.XSD.String.INSTANCE);\r\nJsonix.Schema.XSD.Strings = Jsonix.Class(Jsonix.Schema.XSD.List, {\r\n\tname : 'Strings',\r\n\tinitialize : function() {\r\n\t\tJsonix.Schema.XSD.List.prototype.initialize.apply(this, [ Jsonix.Schema.XSD.String.INSTANCE, Jsonix.Schema.XSD.qname('strings'), ' ' ]);\r\n\t},\r\n\t// TODO Constraints\r\n\tCLASS_NAME : 'Jsonix.Schema.XSD.Strings'\r\n});\r\nJsonix.Schema.XSD.Strings.INSTANCE = new Jsonix.Schema.XSD.Strings();\r\nJsonix.Schema.XSD.NormalizedString = Jsonix.Class(Jsonix.Schema.XSD.String, {\r\n\tname : 'NormalizedString',\r\n\ttypeName : Jsonix.Schema.XSD.qname('normalizedString'),\r\n\t// TODO Constraints\r\n\tCLASS_NAME : 'Jsonix.Schema.XSD.NormalizedString'\r\n});\r\nJsonix.Schema.XSD.NormalizedString.INSTANCE = new Jsonix.Schema.XSD.NormalizedString();\r\nJsonix.Schema.XSD.NormalizedString.INSTANCE.LIST = new Jsonix.Schema.XSD.List(Jsonix.Schema.XSD.NormalizedString.INSTANCE);\r\nJsonix.Schema.XSD.Token = Jsonix.Class(Jsonix.Schema.XSD.NormalizedString, {\r\n\tname : 'Token',\r\n\ttypeName : Jsonix.Schema.XSD.qname('token'),\r\n\t// TODO Constraints\r\n\tCLASS_NAME : 'Jsonix.Schema.XSD.Token'\r\n});\r\nJsonix.Schema.XSD.Token.INSTANCE = new Jsonix.Schema.XSD.Token();\r\nJsonix.Schema.XSD.Token.INSTANCE.LIST = new Jsonix.Schema.XSD.List(Jsonix.Schema.XSD.Token.INSTANCE);\r\nJsonix.Schema.XSD.Language = Jsonix.Class(Jsonix.Schema.XSD.Token, {\r\n\tname : 'Language',\r\n\ttypeName : Jsonix.Schema.XSD.qname('language'),\r\n\t// TODO Constraints\r\n\tCLASS_NAME : 'Jsonix.Schema.XSD.Language'\r\n});\r\nJsonix.Schema.XSD.Language.INSTANCE = new Jsonix.Schema.XSD.Language();\r\nJsonix.Schema.XSD.Language.INSTANCE.LIST = new Jsonix.Schema.XSD.List(Jsonix.Schema.XSD.Language.INSTANCE);\r\nJsonix.Schema.XSD.Name = Jsonix.Class(Jsonix.Schema.XSD.Token, {\r\n\tname : 'Name',\r\n\ttypeName : Jsonix.Schema.XSD.qname('Name'),\r\n\t// TODO Constraints\r\n\tCLASS_NAME : 'Jsonix.Schema.XSD.Name'\r\n});\r\nJsonix.Schema.XSD.Name.INSTANCE = new Jsonix.Schema.XSD.Name();\r\nJsonix.Schema.XSD.Name.INSTANCE.LIST = new Jsonix.Schema.XSD.List(Jsonix.Schema.XSD.Name.INSTANCE);\r\nJsonix.Schema.XSD.NCName = Jsonix.Class(Jsonix.Schema.XSD.Name, {\r\n\tname : 'NCName',\r\n\ttypeName : Jsonix.Schema.XSD.qname('NCName'),\r\n\t// TODO Constraints\r\n\tCLASS_NAME : 'Jsonix.Schema.XSD.NCName'\r\n});\r\nJsonix.Schema.XSD.NCName.INSTANCE = new Jsonix.Schema.XSD.NCName();\r\nJsonix.Schema.XSD.NCName.INSTANCE.LIST = new Jsonix.Schema.XSD.List(Jsonix.Schema.XSD.NCName.INSTANCE);\r\nJsonix.Schema.XSD.NMToken = Jsonix.Class(Jsonix.Schema.XSD.Token, {\r\n\tname : 'NMToken',\r\n\ttypeName : Jsonix.Schema.XSD.qname('NMTOKEN'),\r\n\t// TODO Constraints\r\n\tCLASS_NAME : 'Jsonix.Schema.XSD.NMToken'\r\n});\r\nJsonix.Schema.XSD.NMToken.INSTANCE = new Jsonix.Schema.XSD.NMToken();\r\nJsonix.Schema.XSD.NMTokens = Jsonix.Class(Jsonix.Schema.XSD.List, {\r\n\tname : 'NMTokens',\r\n\tinitialize : function() {\r\n\t\tJsonix.Schema.XSD.List.prototype.initialize.apply(this, [ Jsonix.Schema.XSD.NMToken.INSTANCE, Jsonix.Schema.XSD.qname('NMTOKEN'), ' ' ]);\r\n\t},\r\n\t// TODO Constraints\r\n\tCLASS_NAME : 'Jsonix.Schema.XSD.NMTokens'\r\n});\r\nJsonix.Schema.XSD.NMTokens.INSTANCE = new Jsonix.Schema.XSD.NMTokens();\r\nJsonix.Schema.XSD.Boolean = Jsonix.Class(Jsonix.Schema.XSD.AnySimpleType, {\r\n\tname : 'Boolean',\r\n\ttypeName : Jsonix.Schema.XSD.qname('boolean'),\r\n\tprint : function(value, context, output, scope) {\r\n\t\tJsonix.Util.Ensure.ensureBoolean(value);\r\n\t\treturn value ? 'true' : 'false';\r\n\t},\r\n\tparse : function(text, context, input, scope) {\r\n\t\tJsonix.Util.Ensure.ensureString(text);\r\n\t\tif (text === 'true' || text === '1') {\r\n\t\t\treturn true;\r\n\t\t} else if (text === 'false' || text === '0') {\r\n\t\t\treturn false;\r\n\t\t} else {\r\n\t\t\tthrow new Error(\"Either [true], [1], [0] or [false] expected as boolean value.\");\r\n\t\t}\r\n\t},\r\n\tisInstance : function(value, context, scope) {\r\n\t\treturn Jsonix.Util.Type.isBoolean(value);\r\n\t},\r\n\tCLASS_NAME : 'Jsonix.Schema.XSD.Boolean'\r\n});\r\nJsonix.Schema.XSD.Boolean.INSTANCE = new Jsonix.Schema.XSD.Boolean();\r\nJsonix.Schema.XSD.Boolean.INSTANCE.LIST = new Jsonix.Schema.XSD.List(Jsonix.Schema.XSD.Boolean.INSTANCE);\r\nJsonix.Schema.XSD.Base64Binary = Jsonix.Class(Jsonix.Schema.XSD.AnySimpleType, {\r\n\tname : 'Base64Binary',\r\n\ttypeName : Jsonix.Schema.XSD.qname('base64Binary'),\r\n\tcharToByte : {},\r\n\tbyteToChar : [],\r\n\tinitialize : function() {\r\n\t\tJsonix.Schema.XSD.AnySimpleType.prototype.initialize.apply(this);\r\n\t\t// Initialize charToByte and byteToChar table for fast\r\n\t\t// lookups\r\n\t\tvar charTable = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\";\r\n\t\tfor (var i = 0; i < charTable.length; i++) {\r\n\t\t\tvar _char = charTable.charAt(i);\r\n\t\t\tvar _byte = charTable.charCodeAt(i);\r\n\t\t\tthis.byteToChar[i] = _char;\r\n\t\t\tthis.charToByte[_char] = i;\r\n\t\t}\r\n\t},\r\n\tprint : function(value, context, output, scope) {\r\n\t\tJsonix.Util.Ensure.ensureArray(value);\r\n\t\treturn this.encode(value);\r\n\t},\r\n\r\n\tparse : function(text, context, input, scope) {\r\n\t\tJsonix.Util.Ensure.ensureString(text);\r\n\t\treturn this.decode(text);\r\n\t},\r\n\tencode : function(uarray) {\r\n\t\tvar output = \"\";\r\n\t\tvar byte0;\r\n\t\tvar byte1;\r\n\t\tvar byte2;\r\n\t\tvar char0;\r\n\t\tvar char1;\r\n\t\tvar char2;\r\n\t\tvar char3;\r\n\t\tvar i = 0;\r\n\t\tvar j = 0;\r\n\t\tvar length = uarray.length;\r\n\r\n\t\tfor (i = 0; i < length; i += 3) {\r\n\t\t\tbyte0 = uarray[i] & 0xFF;\r\n\t\t\tchar0 = this.byteToChar[byte0 >> 2];\r\n\r\n\t\t\tif (i + 1 < length) {\r\n\t\t\t\tbyte1 = uarray[i + 1] & 0xFF;\r\n\t\t\t\tchar1 = this.byteToChar[((byte0 & 0x03) << 4) | (byte1 >> 4)];\r\n\t\t\t\tif (i + 2 < length) {\r\n\t\t\t\t\tbyte2 = uarray[i + 2] & 0xFF;\r\n\t\t\t\t\tchar2 = this.byteToChar[((byte1 & 0x0F) << 2) | (byte2 >> 6)];\r\n\t\t\t\t\tchar3 = this.byteToChar[byte2 & 0x3F];\r\n\t\t\t\t} else {\r\n\t\t\t\t\tchar2 = this.byteToChar[(byte1 & 0x0F) << 2];\r\n\t\t\t\t\tchar3 = \"=\";\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tchar1 = this.byteToChar[(byte0 & 0x03) << 4];\r\n\t\t\t\tchar2 = \"=\";\r\n\t\t\t\tchar3 = \"=\";\r\n\t\t\t}\r\n\t\t\toutput = output + char0 + char1 + char2 + char3;\r\n\t\t}\r\n\t\treturn output;\r\n\t},\r\n\tdecode : function(text) {\r\n\r\n\t\tinput = text.replace(/[^A-Za-z0-9\\+\\/\\=]/g, \"\");\r\n\r\n\t\tvar length = Math.floor(input.length / 4 * 3);\r\n\t\tif (input.charAt(input.length - 1) === \"=\") {\r\n\t\t\tlength--;\r\n\t\t}\r\n\t\tif (input.charAt(input.length - 2) === \"=\") {\r\n\t\t\tlength--;\r\n\t\t}\r\n\r\n\t\tvar uarray = new Array(length);\r\n\r\n\t\tvar byte0;\r\n\t\tvar byte1;\r\n\t\tvar byte2;\r\n\t\tvar char0;\r\n\t\tvar char1;\r\n\t\tvar char2;\r\n\t\tvar char3;\r\n\t\tvar i = 0;\r\n\t\tvar j = 0;\r\n\r\n\t\tfor (i = 0; i < length; i += 3) {\r\n\t\t\t// get the 3 octects in 4 ascii chars\r\n\t\t\tchar0 = this.charToByte[input.charAt(j++)];\r\n\t\t\tchar1 = this.charToByte[input.charAt(j++)];\r\n\t\t\tchar2 = this.charToByte[input.charAt(j++)];\r\n\t\t\tchar3 = this.charToByte[input.charAt(j++)];\r\n\r\n\t\t\tbyte0 = (char0 << 2) | (char1 >> 4);\r\n\t\t\tbyte1 = ((char1 & 0x0F) << 4) | (char2 >> 2);\r\n\t\t\tbyte2 = ((char2 & 0x03) << 6) | char3;\r\n\r\n\t\t\tuarray[i] = byte0;\r\n\t\t\tif (char2 != 64) {\r\n\t\t\t\tuarray[i + 1] = byte1;\r\n\t\t\t}\r\n\t\t\tif (char3 != 64) {\r\n\t\t\t\tuarray[i + 2] = byte2;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn uarray;\r\n\t},\r\n\tisInstance : function(value, context, scope) {\r\n\t\treturn Jsonix.Util.Type.isArray(value);\r\n\t},\r\n\tCLASS_NAME : 'Jsonix.Schema.XSD.Base64Binary'\r\n});\r\nJsonix.Schema.XSD.Base64Binary.INSTANCE = new Jsonix.Schema.XSD.Base64Binary();\r\nJsonix.Schema.XSD.Base64Binary.INSTANCE.LIST = new Jsonix.Schema.XSD.List(Jsonix.Schema.XSD.Base64Binary.INSTANCE);\r\nJsonix.Schema.XSD.HexBinary = Jsonix.Class(Jsonix.Schema.XSD.AnySimpleType, {\r\n\tname : 'HexBinary',\r\n\ttypeName : Jsonix.Schema.XSD.qname('hexBinary'),\r\n\tcharToQuartet : {},\r\n\tbyteToDuplet : [],\r\n\tinitialize : function() {\r\n\t\tJsonix.Schema.XSD.AnySimpleType.prototype.initialize.apply(this);\r\n\t\tvar charTableUpperCase = \"0123456789ABCDEF\";\r\n\t\tvar charTableLowerCase = charTableUpperCase.toLowerCase();\r\n\t\tvar i;\r\n\t\tfor (i = 0; i < 16; i++) {\r\n\t\t\tthis.charToQuartet[charTableUpperCase.charAt(i)] = i;\r\n\t\t\tif (i >= 0xA) {\r\n\t\t\t\tthis.charToQuartet[charTableLowerCase.charAt(i)] = i;\r\n\t\t\t}\r\n\t\t}\r\n\t\tfor (i = 0; i < 256; i++) {\r\n\t\t\tthis.byteToDuplet[i] =\r\n\t\t\t//\r\n\t\t\tcharTableUpperCase[i >> 4] + charTableUpperCase[i & 0xF];\r\n\t\t}\r\n\t},\r\n\tprint : function(value, context, output, scope) {\r\n\t\tJsonix.Util.Ensure.ensureArray(value);\r\n\t\treturn this.encode(value);\r\n\t},\r\n\r\n\tparse : function(text, context, input, scope) {\r\n\t\tJsonix.Util.Ensure.ensureString(text);\r\n\t\treturn this.decode(text);\r\n\t},\r\n\tencode : function(uarray) {\r\n\t\tvar output = \"\";\r\n\t\tfor ( var i = 0; i < uarray.length; i++) {\r\n\t\t\toutput = output + this.byteToDuplet[uarray[i] & 0xFF];\r\n\t\t}\r\n\t\treturn output;\r\n\t},\r\n\tdecode : function(text) {\r\n\t\tvar input = text.replace(/[^A-Fa-f0-9]/g, \"\");\r\n\t\t// Round by two\r\n\t\tvar length = input.length >> 1;\r\n\t\tvar uarray = new Array(length);\r\n\t\tfor ( var i = 0; i < length; i++) {\r\n\t\t\tvar char0 = input.charAt(2 * i);\r\n\t\t\tvar char1 = input.charAt(2 * i + 1);\r\n\t\t\tuarray[i] = this.charToQuartet[char0] << 4\r\n\t\t\t\t\t| this.charToQuartet[char1];\r\n\t\t}\r\n\t\treturn uarray;\r\n\t},\r\n\tisInstance : function(value, context, scope) {\r\n\t\treturn Jsonix.Util.Type.isArray(value);\r\n\t},\r\n\tCLASS_NAME : 'Jsonix.Schema.XSD.HexBinary'\r\n});\r\nJsonix.Schema.XSD.HexBinary.INSTANCE = new Jsonix.Schema.XSD.HexBinary();\r\nJsonix.Schema.XSD.HexBinary.INSTANCE.LIST = new Jsonix.Schema.XSD.List(\r\n\t\tJsonix.Schema.XSD.HexBinary.INSTANCE);\r\nJsonix.Schema.XSD.Number = Jsonix.Class(Jsonix.Schema.XSD.AnySimpleType, {\r\n\tname : 'Number',\r\n\ttypeName : Jsonix.Schema.XSD.qname('number'),\r\n\tprint : function(value, context, output, scope) {\r\n\t\tJsonix.Util.Ensure.ensureNumberOrNaN(value);\r\n\t\tif (Jsonix.Util.Type.isNaN(value)) {\r\n\t\t\treturn 'NaN';\r\n\t\t} else if (value === Infinity) {\r\n\t\t\treturn 'INF';\r\n\t\t} else if (value === -Infinity) {\r\n\t\t\treturn '-INF';\r\n\t\t} else {\r\n\t\t\tvar text = String(value);\r\n\t\t\treturn text;\r\n\t\t}\r\n\t},\r\n\tparse : function(text, context, input, scope) {\r\n\t\tJsonix.Util.Ensure.ensureString(text);\r\n\t\tif (text === '-INF') {\r\n\t\t\treturn -Infinity;\r\n\t\t} else if (text === 'INF') {\r\n\t\t\treturn Infinity;\r\n\t\t} else if (text === 'NaN') {\r\n\t\t\treturn NaN;\r\n\t\t} else {\r\n\t\t\tvar value = Number(text);\r\n\t\t\tJsonix.Util.Ensure.ensureNumber(value);\r\n\t\t\treturn value;\r\n\t\t}\r\n\t},\r\n\tisInstance : function(value, context, scope) {\r\n\t\treturn Jsonix.Util.Type.isNumberOrNaN(value);\r\n\t},\r\n\tCLASS_NAME : 'Jsonix.Schema.XSD.Number'\r\n});\r\nJsonix.Schema.XSD.Number.INSTANCE = new Jsonix.Schema.XSD.Number();\r\nJsonix.Schema.XSD.Number.INSTANCE.LIST = new Jsonix.Schema.XSD.List(Jsonix.Schema.XSD.Number.INSTANCE);\r\nJsonix.Schema.XSD.Float = Jsonix.Class(Jsonix.Schema.XSD.Number, {\r\n\tname : 'Float',\r\n\ttypeName : Jsonix.Schema.XSD.qname('float'),\r\n\tisInstance : function(value, context, scope) {\r\n\t\treturn Jsonix.Util.Type.isNaN(value) || value === -Infinity || value === Infinity || (Jsonix.Util.Type.isNumber(value) && value >= this.MIN_VALUE && value <= this.MAX_VALUE);\r\n\t},\r\n\tMIN_VALUE : -3.4028235e+38,\r\n\tMAX_VALUE : 3.4028235e+38,\r\n\tCLASS_NAME : 'Jsonix.Schema.XSD.Float'\r\n});\r\nJsonix.Schema.XSD.Float.INSTANCE = new Jsonix.Schema.XSD.Float();\r\nJsonix.Schema.XSD.Float.INSTANCE.LIST = new Jsonix.Schema.XSD.List(Jsonix.Schema.XSD.Float.INSTANCE);\r\nJsonix.Schema.XSD.Decimal = Jsonix.Class(Jsonix.Schema.XSD.AnySimpleType, {\r\n\tname : 'Decimal',\r\n\ttypeName : Jsonix.Schema.XSD.qname('decimal'),\r\n\tprint : function(value, context, output, scope) {\r\n\t\tJsonix.Util.Ensure.ensureNumber(value);\r\n\t\tvar text = String(value);\r\n\t\treturn text;\r\n\t},\r\n\tparse : function(text, context, input, scope) {\r\n\t\tJsonix.Util.Ensure.ensureString(text);\r\n\t\tvar value = Number(text);\r\n\t\tJsonix.Util.Ensure.ensureNumber(value);\r\n\t\treturn value;\r\n\t},\r\n\tisInstance : function(value, context, scope) {\r\n\t\treturn Jsonix.Util.Type.isNumber(value);\r\n\t},\r\n\tCLASS_NAME : 'Jsonix.Schema.XSD.Decimal'\r\n});\r\nJsonix.Schema.XSD.Decimal.INSTANCE = new Jsonix.Schema.XSD.Decimal();\r\nJsonix.Schema.XSD.Decimal.INSTANCE.LIST = new Jsonix.Schema.XSD.List(Jsonix.Schema.XSD.Decimal.INSTANCE);\r\nJsonix.Schema.XSD.Integer = Jsonix.Class(Jsonix.Schema.XSD.AnySimpleType, {\r\n\tname : 'Integer',\r\n\ttypeName : Jsonix.Schema.XSD.qname('integer'),\r\n\tprint : function(value, context, output, scope) {\r\n\t\tJsonix.Util.Ensure.ensureInteger(value);\r\n\t\tvar text = String(value);\r\n\t\treturn text;\r\n\t},\r\n\tparse : function(text, context, input, scope) {\r\n\t\tJsonix.Util.Ensure.ensureString(text);\r\n\t\tvar value = Number(text);\r\n\t\tJsonix.Util.Ensure.ensureInteger(value);\r\n\t\treturn value;\r\n\t},\r\n\tisInstance : function(value, context, scope) {\r\n\t\treturn Jsonix.Util.NumberUtils.isInteger(value) && value >= this.MIN_VALUE && value <= this.MAX_VALUE;\r\n\t},\r\n\tMIN_VALUE : -9223372036854775808,\r\n\tMAX_VALUE : 9223372036854775807,\r\n\tCLASS_NAME : 'Jsonix.Schema.XSD.Integer'\r\n});\r\nJsonix.Schema.XSD.Integer.INSTANCE = new Jsonix.Schema.XSD.Integer();\r\nJsonix.Schema.XSD.Integer.INSTANCE.LIST = new Jsonix.Schema.XSD.List(Jsonix.Schema.XSD.Integer.INSTANCE);\r\nJsonix.Schema.XSD.NonPositiveInteger = Jsonix.Class(Jsonix.Schema.XSD.Integer, {\r\n\tname : 'NonPositiveInteger',\r\n\ttypeName : Jsonix.Schema.XSD.qname('nonPositiveInteger'),\r\n\tMIN_VALUE: -9223372036854775808,\r\n\tMAX_VALUE: 0,\r\n\tCLASS_NAME : 'Jsonix.Schema.XSD.NonPositiveInteger'\r\n});\r\nJsonix.Schema.XSD.NonPositiveInteger.INSTANCE = new Jsonix.Schema.XSD.NonPositiveInteger();\r\nJsonix.Schema.XSD.NonPositiveInteger.INSTANCE.LIST = new Jsonix.Schema.XSD.List(\r\n\t\tJsonix.Schema.XSD.NonPositiveInteger.INSTANCE);\r\nJsonix.Schema.XSD.NegativeInteger = Jsonix.Class(Jsonix.Schema.XSD.NonPositiveInteger, {\r\n\tname : 'NegativeInteger',\r\n\ttypeName : Jsonix.Schema.XSD.qname('negativeInteger'),\r\n\tMIN_VALUE: -9223372036854775808,\r\n\tMAX_VALUE: -1,\r\n\tCLASS_NAME : 'Jsonix.Schema.XSD.NegativeInteger'\r\n});\r\nJsonix.Schema.XSD.NegativeInteger.INSTANCE = new Jsonix.Schema.XSD.NegativeInteger();\r\nJsonix.Schema.XSD.NegativeInteger.INSTANCE.LIST = new Jsonix.Schema.XSD.List(\r\n\t\tJsonix.Schema.XSD.NegativeInteger.INSTANCE);\r\nJsonix.Schema.XSD.Long = Jsonix.Class(Jsonix.Schema.XSD.Integer, {\r\n\tname : 'Long',\r\n\ttypeName : Jsonix.Schema.XSD.qname('long'),\r\n\tMIN_VALUE : -9223372036854775808,\r\n\tMAX_VALUE : 9223372036854775807,\r\n\tCLASS_NAME : 'Jsonix.Schema.XSD.Long'\r\n});\r\nJsonix.Schema.XSD.Long.INSTANCE = new Jsonix.Schema.XSD.Long();\r\nJsonix.Schema.XSD.Long.INSTANCE.LIST = new Jsonix.Schema.XSD.List(\r\n\t\tJsonix.Schema.XSD.Long.INSTANCE);\r\nJsonix.Schema.XSD.Int = Jsonix.Class(Jsonix.Schema.XSD.Long, {\r\n\tname : 'Int',\r\n\ttypeName : Jsonix.Schema.XSD.qname('int'),\r\n\tMIN_VALUE : -2147483648,\r\n\tMAX_VALUE : 2147483647,\r\n\tCLASS_NAME : 'Jsonix.Schema.XSD.Int'\r\n});\r\nJsonix.Schema.XSD.Int.INSTANCE = new Jsonix.Schema.XSD.Int();\r\nJsonix.Schema.XSD.Int.INSTANCE.LIST = new Jsonix.Schema.XSD.List(\r\n\t\tJsonix.Schema.XSD.Int.INSTANCE);\r\nJsonix.Schema.XSD.Short = Jsonix.Class(Jsonix.Schema.XSD.Int, {\r\n\tname : 'Short',\r\n\ttypeName : Jsonix.Schema.XSD.qname('short'),\r\n\tMIN_VALUE : -32768,\r\n\tMAX_VALUE : 32767,\r\n\tCLASS_NAME : 'Jsonix.Schema.XSD.Short'\r\n});\r\nJsonix.Schema.XSD.Short.INSTANCE = new Jsonix.Schema.XSD.Short();\r\nJsonix.Schema.XSD.Short.INSTANCE.LIST = new Jsonix.Schema.XSD.List(Jsonix.Schema.XSD.Short.INSTANCE);\r\nJsonix.Schema.XSD.Byte = Jsonix.Class(Jsonix.Schema.XSD.Short, {\r\n\tname : 'Byte',\r\n\ttypeName : Jsonix.Schema.XSD.qname('byte'),\r\n\tMIN_VALUE : -128,\r\n\tMAX_VALUE : 127,\r\n\tCLASS_NAME : 'Jsonix.Schema.XSD.Byte'\r\n});\r\nJsonix.Schema.XSD.Byte.INSTANCE = new Jsonix.Schema.XSD.Byte();\r\nJsonix.Schema.XSD.Byte.INSTANCE.LIST = new Jsonix.Schema.XSD.List(Jsonix.Schema.XSD.Byte.INSTANCE);\r\nJsonix.Schema.XSD.NonNegativeInteger = Jsonix.Class(Jsonix.Schema.XSD.Integer, {\r\n\tname : 'NonNegativeInteger',\r\n\ttypeName : Jsonix.Schema.XSD.qname('nonNegativeInteger'),\r\n\tMIN_VALUE: 0,\r\n\tMAX_VALUE: 9223372036854775807,\r\n\tCLASS_NAME : 'Jsonix.Schema.XSD.NonNegativeInteger'\r\n});\r\nJsonix.Schema.XSD.NonNegativeInteger.INSTANCE = new Jsonix.Schema.XSD.NonNegativeInteger();\r\nJsonix.Schema.XSD.NonNegativeInteger.INSTANCE.LIST = new Jsonix.Schema.XSD.List(\r\n\t\tJsonix.Schema.XSD.NonNegativeInteger.INSTANCE);\r\nJsonix.Schema.XSD.UnsignedLong = Jsonix.Class(Jsonix.Schema.XSD.NonNegativeInteger, {\r\n\tname : 'UnsignedLong',\r\n\ttypeName : Jsonix.Schema.XSD.qname('unsignedLong'),\r\n\tMIN_VALUE : 0,\r\n\tMAX_VALUE : 18446744073709551615,\r\n\tCLASS_NAME : 'Jsonix.Schema.XSD.UnsignedLong'\r\n});\r\nJsonix.Schema.XSD.UnsignedLong.INSTANCE = new Jsonix.Schema.XSD.UnsignedLong();\r\nJsonix.Schema.XSD.UnsignedLong.INSTANCE.LIST = new Jsonix.Schema.XSD.List(Jsonix.Schema.XSD.UnsignedLong.INSTANCE);\r\nJsonix.Schema.XSD.UnsignedInt = Jsonix.Class(Jsonix.Schema.XSD.UnsignedLong, {\r\n\tname : 'UnsignedInt',\r\n\ttypeName : Jsonix.Schema.XSD.qname('unsignedInt'),\r\n\tMIN_VALUE : 0,\r\n\tMAX_VALUE : 4294967295,\r\n\tCLASS_NAME : 'Jsonix.Schema.XSD.UnsignedInt'\r\n});\r\nJsonix.Schema.XSD.UnsignedInt.INSTANCE = new Jsonix.Schema.XSD.UnsignedInt();\r\nJsonix.Schema.XSD.UnsignedInt.INSTANCE.LIST = new Jsonix.Schema.XSD.List(Jsonix.Schema.XSD.UnsignedInt.INSTANCE);\r\nJsonix.Schema.XSD.UnsignedShort = Jsonix.Class(Jsonix.Schema.XSD.UnsignedInt, {\r\n\tname : 'UnsignedShort',\r\n\ttypeName : Jsonix.Schema.XSD.qname('unsignedShort'),\r\n\tMIN_VALUE : 0,\r\n\tMAX_VALUE : 65535,\r\n\tCLASS_NAME : 'Jsonix.Schema.XSD.UnsignedShort'\r\n});\r\nJsonix.Schema.XSD.UnsignedShort.INSTANCE = new Jsonix.Schema.XSD.UnsignedShort();\r\nJsonix.Schema.XSD.UnsignedShort.INSTANCE.LIST = new Jsonix.Schema.XSD.List(Jsonix.Schema.XSD.UnsignedShort.INSTANCE);\r\nJsonix.Schema.XSD.UnsignedByte = Jsonix.Class(Jsonix.Schema.XSD.UnsignedShort, {\r\n\tname : 'UnsignedByte',\r\n\ttypeName : Jsonix.Schema.XSD.qname('unsignedByte'),\r\n\tMIN_VALUE : 0,\r\n\tMAX_VALUE : 255,\r\n\tCLASS_NAME : 'Jsonix.Schema.XSD.UnsignedByte'\r\n});\r\nJsonix.Schema.XSD.UnsignedByte.INSTANCE = new Jsonix.Schema.XSD.UnsignedByte();\r\nJsonix.Schema.XSD.UnsignedByte.INSTANCE.LIST = new Jsonix.Schema.XSD.List(Jsonix.Schema.XSD.UnsignedByte.INSTANCE);\r\nJsonix.Schema.XSD.PositiveInteger = Jsonix.Class(Jsonix.Schema.XSD.NonNegativeInteger, {\r\n\tname : 'PositiveInteger',\r\n\ttypeName : Jsonix.Schema.XSD.qname('positiveInteger'),\r\n\tMIN_VALUE : 1,\r\n\tMAX_VALUE : 9223372036854775807,\r\n\tCLASS_NAME : 'Jsonix.Schema.XSD.PositiveInteger'\r\n});\r\nJsonix.Schema.XSD.PositiveInteger.INSTANCE = new Jsonix.Schema.XSD.PositiveInteger();\r\nJsonix.Schema.XSD.PositiveInteger.INSTANCE.LIST = new Jsonix.Schema.XSD.List(Jsonix.Schema.XSD.PositiveInteger.INSTANCE);\r\nJsonix.Schema.XSD.Double = Jsonix.Class(Jsonix.Schema.XSD.Number, {\r\n\tname : 'Double',\r\n\ttypeName : Jsonix.Schema.XSD.qname('double'),\r\n\tisInstance : function(value, context, scope) {\r\n\t\treturn Jsonix.Util.Type.isNaN(value) || value === -Infinity || value === Infinity || (Jsonix.Util.Type.isNumber(value) && value >= this.MIN_VALUE && value <= this.MAX_VALUE);\r\n\t},\r\n\tMIN_VALUE : -1.7976931348623157e+308,\r\n\tMAX_VALUE : 1.7976931348623157e+308,\r\n\tCLASS_NAME : 'Jsonix.Schema.XSD.Double'\r\n});\r\nJsonix.Schema.XSD.Double.INSTANCE = new Jsonix.Schema.XSD.Double();\r\nJsonix.Schema.XSD.Double.INSTANCE.LIST = new Jsonix.Schema.XSD.List(Jsonix.Schema.XSD.Double.INSTANCE);\r\nJsonix.Schema.XSD.AnyURI = Jsonix.Class(Jsonix.Schema.XSD.AnySimpleType, {\r\n\tname : 'AnyURI',\r\n\ttypeName : Jsonix.Schema.XSD.qname('anyURI'),\r\n\tprint : function(value, context, output, scope) {\r\n\t\tJsonix.Util.Ensure.ensureString(value);\r\n\t\treturn value;\r\n\t},\r\n\tparse : function(text, context, input, scope) {\r\n\t\tJsonix.Util.Ensure.ensureString(text);\r\n\t\treturn text;\r\n\t},\r\n\tisInstance : function(value, context, scope) {\r\n\t\treturn Jsonix.Util.Type.isString(value);\r\n\t},\r\n\tCLASS_NAME : 'Jsonix.Schema.XSD.AnyURI'\r\n});\r\nJsonix.Schema.XSD.AnyURI.INSTANCE = new Jsonix.Schema.XSD.AnyURI();\r\nJsonix.Schema.XSD.AnyURI.INSTANCE.LIST = new Jsonix.Schema.XSD.List(Jsonix.Schema.XSD.AnyURI.INSTANCE);\r\nJsonix.Schema.XSD.QName = Jsonix.Class(Jsonix.Schema.XSD.AnySimpleType, {\r\n\tname : 'QName',\r\n\ttypeName : Jsonix.Schema.XSD.qname('QName'),\r\n\tprint : function(value, context, output, scope) {\r\n\t\tvar qName = Jsonix.XML.QName.fromObject(value);\r\n\t\tvar prefix;\r\n\t\tvar localPart = qName.localPart;\r\n\t\tif (output) {\r\n\t\t\t// If QName does not provide the prefix, let it be generated\r\n\t\t\tprefix = output.getPrefix(qName.namespaceURI, qName.prefix||null);\r\n\t\t\toutput.declareNamespace(qName.namespaceURI, prefix);\r\n\t\t} else {\r\n\t\t\tprefix = qName.prefix;\r\n\t\t}\r\n\t\treturn !prefix ? localPart : (prefix + ':' + localPart);\r\n\t},\r\n\tparse : function(value, context, input, scope) {\r\n\t\tJsonix.Util.Ensure.ensureString(value);\r\n\t\tvalue = Jsonix.Util.StringUtils.trim(value);\r\n\t\tvar prefix;\r\n\t\tvar localPart;\r\n\t\tvar colonPosition = value.indexOf(':');\r\n\t\tif (colonPosition === -1) {\r\n\t\t\tprefix = '';\r\n\t\t\tlocalPart = value;\r\n\t\t} else if (colonPosition > 0 && colonPosition < (value.length - 1)) {\r\n\t\t\tprefix = value.substring(0, colonPosition);\r\n\t\t\tlocalPart = value.substring(colonPosition + 1);\r\n\t\t} else {\r\n\t\t\tthrow new Error('Invalid QName [' + value + '].');\r\n\t\t}\r\n\t\tvar namespaceContext = input || context || null;\r\n\t\tif (!namespaceContext)\r\n\t\t{\r\n\t\t\treturn value;\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tvar namespaceURI = namespaceContext.getNamespaceURI(prefix);\r\n\t\t\tif (Jsonix.Util.Type.isString(namespaceURI))\r\n\t\t\t{\r\n\t\t\t\treturn new Jsonix.XML.QName(namespaceURI, localPart, prefix);\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\tthrow new Error('Prefix [' + prefix + '] of the QName [' + value + '] is not bound in this context.');\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\tisInstance : function(value, context, scope) {\r\n\t\treturn (value instanceof Jsonix.XML.QName) || (Jsonix.Util.Type.isObject(value) && Jsonix.Util.Type.isString(value.localPart || value.lp));\r\n\t},\r\n\tCLASS_NAME : 'Jsonix.Schema.XSD.QName'\r\n});\r\nJsonix.Schema.XSD.QName.INSTANCE = new Jsonix.Schema.XSD.QName();\r\nJsonix.Schema.XSD.QName.INSTANCE.LIST = new Jsonix.Schema.XSD.List(\r\n\t\tJsonix.Schema.XSD.QName.INSTANCE);\r\nJsonix.Schema.XSD.Calendar = Jsonix.Class(Jsonix.Schema.XSD.AnySimpleType, {\r\n\tname : 'Calendar',\r\n\ttypeName : Jsonix.Schema.XSD.qname('calendar'),\r\n\tparse : function(text, context, input, scope) {\r\n\t\tJsonix.Util.Ensure.ensureString(text);\r\n\t\tif (text.match(new RegExp(\"^\" + Jsonix.Schema.XSD.Calendar.DATETIME_PATTERN + \"$\"))) {\r\n\t\t\treturn this.parseDateTime(text, context, input, scope);\r\n\t\t} else if (text.match(new RegExp(\"^\" + Jsonix.Schema.XSD.Calendar.DATE_PATTERN + \"$\"))) {\r\n\t\t\treturn this.parseDate(text, context, input, scope);\r\n\t\t} else if (text.match(new RegExp(\"^\" + Jsonix.Schema.XSD.Calendar.TIME_PATTERN + \"$\"))) {\r\n\t\t\treturn this.parseTime(text, context, input, scope);\r\n\t\t} else if (text.match(new RegExp(\"^\" + Jsonix.Schema.XSD.Calendar.GYEAR_MONTH_PATTERN + \"$\"))) {\r\n\t\t\treturn this.parseGYearMonth(text, context, input, scope);\r\n\t\t} else if (text.match(new RegExp(\"^\" + Jsonix.Schema.XSD.Calendar.GYEAR_PATTERN + \"$\"))) {\r\n\t\t\treturn this.parseGYear(text, context, input, scope);\r\n\t\t} else if (text.match(new RegExp(\"^\" + Jsonix.Schema.XSD.Calendar.GMONTH_DAY_PATTERN + \"$\"))) {\r\n\t\t\treturn this.parseGMonthDay(text, context, input, scope);\r\n\t\t} else if (text.match(new RegExp(\"^\" + Jsonix.Schema.XSD.Calendar.GMONTH_PATTERN + \"$\"))) {\r\n\t\t\treturn this.parseGMonth(text, context, input, scope);\r\n\t\t} else if (text.match(new RegExp(\"^\" + Jsonix.Schema.XSD.Calendar.GDAY_PATTERN + \"$\"))) {\r\n\t\t\treturn this.parseGDay(text, context, input, scope);\r\n\t\t} else {\r\n\t\t\tthrow new Error('Value [' + text + '] does not match xs:dateTime, xs:date, xs:time, xs:gYearMonth, xs:gYear, xs:gMonthDay, xs:gMonth or xs:gDay patterns.');\r\n\t\t}\r\n\t},\r\n\tparseGYearMonth : function(value, context, input, scope) {\r\n\t\tvar gYearMonthExpression = new RegExp(\"^\" + Jsonix.Schema.XSD.Calendar.GYEAR_MONTH_PATTERN + \"$\");\r\n\t\tvar results = value.match(gYearMonthExpression);\r\n\t\tif (results !== null) {\r\n\t\t\tvar data = {\r\n\t\t\t\tyear : parseInt(results[1], 10),\r\n\t\t\t\tmonth : parseInt(results[5], 10),\r\n\t\t\t\ttimezone : this.parseTimezoneString(results[7])\r\n\t\t\t};\r\n\t\t\treturn new Jsonix.XML.Calendar(data);\r\n\t\t}\r\n\t\tthrow new Error('Value [' + value + '] does not match the xs:gYearMonth pattern.');\r\n\t},\r\n\tparseGYear : function(value, context, input, scope) {\r\n\t\tvar gYearExpression = new RegExp(\"^\" + Jsonix.Schema.XSD.Calendar.GYEAR_PATTERN + \"$\");\r\n\t\tvar results = value.match(gYearExpression);\r\n\t\tif (results !== null) {\r\n\t\t\tvar data = {\r\n\t\t\t\tyear : parseInt(results[1], 10),\r\n\t\t\t\ttimezone : this.parseTimezoneString(results[5])\r\n\t\t\t};\r\n\t\t\treturn new Jsonix.XML.Calendar(data);\r\n\t\t}\r\n\t\tthrow new Error('Value [' + value + '] does not match the xs:gYear pattern.');\r\n\t},\r\n\tparseGMonthDay : function(value, context, input, scope) {\r\n\t\tvar gMonthDayExpression = new RegExp(\"^\" + Jsonix.Schema.XSD.Calendar.GMONTH_DAY_PATTERN + \"$\");\r\n\t\tvar results = value.match(gMonthDayExpression);\r\n\t\tif (results !== null) {\r\n\t\t\tvar data = {\r\n\t\t\t\tmonth : parseInt(results[2], 10),\r\n\t\t\t\tday : parseInt(results[3], 10),\r\n\t\t\t\ttimezone : this.parseTimezoneString(results[5])\r\n\t\t\t};\r\n\t\t\treturn new Jsonix.XML.Calendar(data);\r\n\t\t}\r\n\t\tthrow new Error('Value [' + value + '] does not match the xs:gMonthDay pattern.');\r\n\t},\r\n\tparseGMonth : function(value, context, input, scope) {\r\n\t\tvar gMonthExpression = new RegExp(\"^\" + Jsonix.Schema.XSD.Calendar.GMONTH_PATTERN + \"$\");\r\n\t\tvar results = value.match(gMonthExpression);\r\n\t\tif (results !== null) {\r\n\t\t\tvar data = {\r\n\t\t\t\tmonth : parseInt(results[2], 10),\r\n\t\t\t\ttimezone : this.parseTimezoneString(results[3])\r\n\t\t\t};\r\n\t\t\treturn new Jsonix.XML.Calendar(data);\r\n\t\t}\r\n\t\tthrow new Error('Value [' + value + '] does not match the xs:gMonth pattern.');\r\n\t},\r\n\tparseGDay : function(value, context, input, scope) {\r\n\t\tvar gDayExpression = new RegExp(\"^\" + Jsonix.Schema.XSD.Calendar.GDAY_PATTERN + \"$\");\r\n\t\tvar results = value.match(gDayExpression);\r\n\t\tif (results !== null) {\r\n\t\t\tvar data = {\r\n\t\t\t\tday : parseInt(results[2], 10),\r\n\t\t\t\ttimezone : this.parseTimezoneString(results[3])\r\n\t\t\t};\r\n\t\t\treturn new Jsonix.XML.Calendar(data);\r\n\t\t}\r\n\t\tthrow new Error('Value [' + value + '] does not match the xs:gDay pattern.');\r\n\t},\r\n\tparseDateTime : function(text, context, input, scope) {\r\n\t\tJsonix.Util.Ensure.ensureString(text);\r\n\t\tvar expression = new RegExp(\"^\" + Jsonix.Schema.XSD.Calendar.DATETIME_PATTERN + \"$\");\r\n\t\tvar results = text.match(expression);\r\n\t\tif (results !== null) {\r\n\t\t\tvar data = {\r\n\t\t\t\tyear : parseInt(results[1], 10),\r\n\t\t\t\tmonth : parseInt(results[5], 10),\r\n\t\t\t\tday : parseInt(results[7], 10),\r\n\t\t\t\thour : parseInt(results[9], 10),\r\n\t\t\t\tminute : parseInt(results[10], 10),\r\n\t\t\t\tsecond : parseInt(results[11], 10),\r\n\t\t\t\tfractionalSecond : (results[12] ? parseFloat(results[12]) : 0),\r\n\t\t\t\ttimezone : this.parseTimezoneString(results[14])\r\n\t\t\t};\r\n\t\t\treturn new Jsonix.XML.Calendar(data);\r\n\t\t}\r\n\t\tthrow new Error('Value [' + text + '] does not match the xs:date pattern.');\r\n\t},\r\n\tparseDate : function(text, context, input, scope) {\r\n\t\tJsonix.Util.Ensure.ensureString(text);\r\n\t\tvar expression = new RegExp(\"^\" + Jsonix.Schema.XSD.Calendar.DATE_PATTERN + \"$\");\r\n\t\tvar results = text.match(expression);\r\n\t\tif (results !== null) {\r\n\t\t\tvar data = {\r\n\t\t\t\tyear : parseInt(results[1], 10),\r\n\t\t\t\tmonth : parseInt(results[5], 10),\r\n\t\t\t\tday : parseInt(results[7], 10),\r\n\t\t\t\ttimezone : this.parseTimezoneString(results[9])\r\n\t\t\t};\r\n\t\t\treturn new Jsonix.XML.Calendar(data);\r\n\t\t}\r\n\t\tthrow new Error('Value [' + text + '] does not match the xs:date pattern.');\r\n\t},\r\n\tparseTime : function(text, context, input, scope) {\r\n\t\tJsonix.Util.Ensure.ensureString(text);\r\n\t\tvar expression = new RegExp(\"^\" + Jsonix.Schema.XSD.Calendar.TIME_PATTERN + \"$\");\r\n\t\tvar results = text.match(expression);\r\n\t\tif (results !== null) {\r\n\t\t\tvar data = {\r\n\t\t\t\thour : parseInt(results[1], 10),\r\n\t\t\t\tminute : parseInt(results[2], 10),\r\n\t\t\t\tsecond : parseInt(results[3], 10),\r\n\t\t\t\tfractionalSecond : (results[4] ? parseFloat(results[4]) : 0),\r\n\t\t\t\ttimezone : this.parseTimezoneString(results[6])\r\n\t\t\t};\r\n\t\t\treturn new Jsonix.XML.Calendar(data);\r\n\t\t}\r\n\t\tthrow new Error('Value [' + text + '] does not match the xs:time pattern.');\r\n\t},\r\n\tparseTimezoneString : function(text) {\r\n\t\t// (('+' | '-') hh ':' mm) | 'Z'\r\n\t\tif (!Jsonix.Util.Type.isString(text)) {\r\n\t\t\treturn NaN;\r\n\t\t} else if (text === '') {\r\n\t\t\treturn NaN;\r\n\t\t} else if (text === 'Z') {\r\n\t\t\treturn 0;\r\n\t\t} else if (text === '+14:00') {\r\n\t\t\treturn 14 * 60;\r\n\t\t} else if (text === '-14:00') {\r\n\t\t\treturn -14 * 60;\r\n\t\t} else {\r\n\t\t\tvar expression = new RegExp(\"^\" + Jsonix.Schema.XSD.Calendar.TIMEZONE_PATTERN + \"$\");\r\n\t\t\tvar results = text.match(expression);\r\n\t\t\tif (results !== null) {\r\n\t\t\t\tvar sign = results[1] === '+' ? 1 : -1;\r\n\t\t\t\tvar hour = parseInt(results[4], 10);\r\n\t\t\t\tvar minute = parseInt(results[5], 10);\r\n\t\t\t\treturn sign * (hour * 60 + minute);\r\n\t\t\t}\r\n\t\t\tthrow new Error('Value [' + text + '] does not match the timezone pattern.');\r\n\t\t}\r\n\t},\r\n\tprint : function(value, context, output, scope) {\r\n\t\tJsonix.Util.Ensure.ensureObject(value);\r\n\t\tif (Jsonix.Util.NumberUtils.isInteger(value.year) && Jsonix.Util.NumberUtils.isInteger(value.month) && Jsonix.Util.NumberUtils.isInteger(value.day) && Jsonix.Util.NumberUtils.isInteger(value.hour) && Jsonix.Util.NumberUtils.isInteger(value.minute) && Jsonix.Util.NumberUtils.isInteger(value.second)) {\r\n\t\t\treturn this.printDateTime(value);\r\n\t\t} else if (Jsonix.Util.NumberUtils.isInteger(value.year) && Jsonix.Util.NumberUtils.isInteger(value.month) && Jsonix.Util.NumberUtils.isInteger(value.day)) {\r\n\t\t\treturn this.printDate(value);\r\n\t\t} else if (Jsonix.Util.NumberUtils.isInteger(value.hour) && Jsonix.Util.NumberUtils.isInteger(value.minute) && Jsonix.Util.NumberUtils.isInteger(value.second)) {\r\n\t\t\treturn this.printTime(value);\r\n\t\t} else if (Jsonix.Util.NumberUtils.isInteger(value.year) && Jsonix.Util.NumberUtils.isInteger(value.month)) {\r\n\t\t\treturn this.printGYearMonth(value);\r\n\t\t} else if (Jsonix.Util.NumberUtils.isInteger(value.month) && Jsonix.Util.NumberUtils.isInteger(value.day)) {\r\n\t\t\treturn this.printGMonthDay(value);\r\n\t\t} else if (Jsonix.Util.NumberUtils.isInteger(value.year)) {\r\n\t\t\treturn this.printGYear(value);\r\n\t\t} else if (Jsonix.Util.NumberUtils.isInteger(value.month)) {\r\n\t\t\treturn this.printGMonth(value);\r\n\t\t} else if (Jsonix.Util.NumberUtils.isInteger(value.day)) {\r\n\t\t\treturn this.printGDay(value);\r\n\t\t} else {\r\n\t\t\tthrow new Error('Value [' + value + '] is not recognized as dateTime, date or time.');\r\n\t\t}\r\n\t},\r\n\tprintDateTime : function(value) {\r\n\t\tJsonix.Util.Ensure.ensureObject(value);\r\n\t\tJsonix.Util.Ensure.ensureInteger(value.year);\r\n\t\tJsonix.Util.Ensure.ensureInteger(value.month);\r\n\t\tJsonix.Util.Ensure.ensureInteger(value.day);\r\n\t\tJsonix.Util.Ensure.ensureInteger(value.hour);\r\n\t\tJsonix.Util.Ensure.ensureInteger(value.minute);\r\n\t\tJsonix.Util.Ensure.ensureNumber(value.second);\r\n\t\tif (Jsonix.Util.Type.exists(value.fractionalString)) {\r\n\t\t\tJsonix.Util.Ensure.ensureNumber(value.fractionalString);\r\n\t\t}\r\n\t\tif (Jsonix.Util.Type.exists(value.timezone) && !Jsonix.Util.Type.isNaN(value.timezone)) {\r\n\t\t\tJsonix.Util.Ensure.ensureInteger(value.timezone);\r\n\t\t}\r\n\t\tvar result = this.printDateString(value);\r\n\t\tresult = result + 'T';\r\n\t\tresult = result + this.printTimeString(value);\r\n\t\tif (Jsonix.Util.Type.exists(value.timezone)) {\r\n\t\t\tresult = result + this.printTimezoneString(value.timezone);\r\n\t\t}\r\n\t\treturn result;\r\n\t},\r\n\tprintDate : function(value) {\r\n\t\tJsonix.Util.Ensure.ensureObject(value);\r\n\t\tJsonix.Util.Ensure.ensureNumber(value.year);\r\n\t\tJsonix.Util.Ensure.ensureNumber(value.month);\r\n\t\tJsonix.Util.Ensure.ensureNumber(value.day);\r\n\t\tif (Jsonix.Util.Type.exists(value.timezone) && !Jsonix.Util.Type.isNaN(value.timezone)) {\r\n\t\t\tJsonix.Util.Ensure.ensureInteger(value.timezone);\r\n\t\t}\r\n\t\tvar result = this.printDateString(value);\r\n\t\tif (Jsonix.Util.Type.exists(value.timezone)) {\r\n\t\t\tresult = result + this.printTimezoneString(value.timezone);\r\n\t\t}\r\n\t\treturn result;\r\n\t},\r\n\tprintTime : function(value) {\r\n\t\tJsonix.Util.Ensure.ensureObject(value);\r\n\t\tJsonix.Util.Ensure.ensureNumber(value.hour);\r\n\t\tJsonix.Util.Ensure.ensureNumber(value.minute);\r\n\t\tJsonix.Util.Ensure.ensureNumber(value.second);\r\n\t\tif (Jsonix.Util.Type.exists(value.fractionalString)) {\r\n\t\t\tJsonix.Util.Ensure.ensureNumber(value.fractionalString);\r\n\t\t}\r\n\t\tif (Jsonix.Util.Type.exists(value.timezone) && !Jsonix.Util.Type.isNaN(value.timezone)) {\r\n\t\t\tJsonix.Util.Ensure.ensureInteger(value.timezone);\r\n\t\t}\r\n\r\n\t\tvar result = this.printTimeString(value);\r\n\t\tif (Jsonix.Util.Type.exists(value.timezone)) {\r\n\t\t\tresult = result + this.printTimezoneString(value.timezone);\r\n\t\t}\r\n\t\treturn result;\r\n\t},\r\n\tprintDateString : function(value) {\r\n\t\tJsonix.Util.Ensure.ensureObject(value);\r\n\t\tJsonix.Util.Ensure.ensureInteger(value.year);\r\n\t\tJsonix.Util.Ensure.ensureInteger(value.month);\r\n\t\tJsonix.Util.Ensure.ensureInteger(value.day);\r\n\t\treturn (value.year < 0 ? ('-' + this.printYear(-value.year)) : this.printYear(value.year)) + '-' + this.printMonth(value.month) + '-' + this.printDay(value.day);\r\n\t},\r\n\tprintTimeString : function(value) {\r\n\t\tJsonix.Util.Ensure.ensureObject(value);\r\n\t\tJsonix.Util.Ensure.ensureInteger(value.hour);\r\n\t\tJsonix.Util.Ensure.ensureInteger(value.minute);\r\n\t\tJsonix.Util.Ensure.ensureInteger(value.second);\r\n\t\tif (Jsonix.Util.Type.exists(value.fractionalSecond)) {\r\n\t\t\tJsonix.Util.Ensure.ensureNumber(value.fractionalSecond);\r\n\t\t}\r\n\t\tvar result = this.printHour(value.hour);\r\n\t\tresult = result + ':';\r\n\t\tresult = result + this.printMinute(value.minute);\r\n\t\tresult = result + ':';\r\n\t\tresult = result + this.printSecond(value.second);\r\n\t\tif (Jsonix.Util.Type.exists(value.fractionalSecond)) {\r\n\t\t\tresult = result + this.printFractionalSecond(value.fractionalSecond);\r\n\t\t}\r\n\t\treturn result;\r\n\t},\r\n\tprintTimezoneString : function(value) {\r\n\t\tif (!Jsonix.Util.Type.exists(value) || Jsonix.Util.Type.isNaN(value)) {\r\n\t\t\treturn '';\r\n\t\t} else {\r\n\t\t\tJsonix.Util.Ensure.ensureInteger(value);\r\n\r\n\t\t\tvar sign = value < 0 ? -1 : (value > 0 ? 1 : 0);\r\n\t\t\tvar data = value * sign;\r\n\t\t\tvar minute = data % 60;\r\n\t\t\tvar hour = Math.floor(data / 60);\r\n\r\n\t\t\tvar result;\r\n\t\t\tif (sign === 0) {\r\n\t\t\t\treturn 'Z';\r\n\t\t\t} else {\r\n\t\t\t\tif (sign > 0) {\r\n\t\t\t\t\tresult = '+';\r\n\t\t\t\t} else if (sign < 0) {\r\n\t\t\t\t\tresult = '-';\r\n\t\t\t\t}\r\n\t\t\t\tresult = result + this.printHour(hour);\r\n\t\t\t\tresult = result + ':';\r\n\t\t\t\tresult = result + this.printMinute(minute);\r\n\t\t\t\treturn result;\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\tprintGDay : function(value, context, output, scope) {\r\n\t\tJsonix.Util.Ensure.ensureObject(value);\r\n\t\tvar day = undefined;\r\n\t\tvar timezone = undefined;\r\n\r\n\t\tif (value instanceof Date) {\r\n\t\t\tday = value.getDate();\r\n\t\t} else {\r\n\t\t\tJsonix.Util.Ensure.ensureInteger(value.day);\r\n\t\t\tday = value.day;\r\n\t\t\ttimezone = value.timezone;\r\n\t\t}\r\n\t\tJsonix.XML.Calendar.validateDay(day);\r\n\t\tJsonix.XML.Calendar.validateTimezone(timezone);\r\n\t\treturn \"---\" + this.printDay(day) + this.printTimezoneString(timezone);\r\n\t},\r\n\tprintGMonth : function(value, context, output, scope) {\r\n\t\tJsonix.Util.Ensure.ensureObject(value);\r\n\t\tvar month = undefined;\r\n\t\tvar timezone = undefined;\r\n\r\n\t\tif (value instanceof Date) {\r\n\t\t\tmonth = value.getMonth() + 1;\r\n\t\t} else {\r\n\t\t\tJsonix.Util.Ensure.ensureInteger(value.month);\r\n\t\t\tmonth = value.month;\r\n\t\t\ttimezone = value.timezone;\r\n\t\t}\r\n\t\tJsonix.XML.Calendar.validateMonth(month);\r\n\t\tJsonix.XML.Calendar.validateTimezone(timezone);\r\n\t\treturn \"--\" + this.printMonth(month) + this.printTimezoneString(timezone);\r\n\t},\r\n\tprintGMonthDay : function(value, context, output, scope) {\r\n\t\tJsonix.Util.Ensure.ensureObject(value);\r\n\t\tvar month = undefined;\r\n\t\tvar day = undefined;\r\n\t\tvar timezone = undefined;\r\n\r\n\t\tif (value instanceof Date) {\r\n\t\t\tmonth = value.getMonth() + 1;\r\n\t\t\tday = value.getDate();\r\n\t\t} else {\r\n\t\t\tJsonix.Util.Ensure.ensureInteger(value.month);\r\n\t\t\tJsonix.Util.Ensure.ensureInteger(value.day);\r\n\t\t\tmonth = value.month;\r\n\t\t\tday = value.day;\r\n\t\t\ttimezone = value.timezone;\r\n\t\t}\r\n\t\tJsonix.XML.Calendar.validateMonthDay(month, day);\r\n\t\tJsonix.XML.Calendar.validateTimezone(timezone);\r\n\t\treturn \"--\" + this.printMonth(month) + \"-\" + this.printDay(day) + this.printTimezoneString(timezone);\r\n\t},\r\n\tprintGYear : function(value, context, output, scope) {\r\n\t\tJsonix.Util.Ensure.ensureObject(value);\r\n\t\tvar year = undefined;\r\n\t\tvar timezone = undefined;\r\n\r\n\t\tif (value instanceof Date) {\r\n\t\t\tyear = value.getFullYear();\r\n\t\t} else {\r\n\t\t\tJsonix.Util.Ensure.ensureInteger(value.year);\r\n\t\t\tyear = value.year;\r\n\t\t\ttimezone = value.timezone;\r\n\t\t}\r\n\t\tJsonix.XML.Calendar.validateYear(year);\r\n\t\tJsonix.XML.Calendar.validateTimezone(timezone);\r\n\t\treturn this.printSignedYear(year) + this.printTimezoneString(timezone);\r\n\t},\r\n\tprintGYearMonth : function(value, context, output, scope) {\r\n\t\tJsonix.Util.Ensure.ensureObject(value);\r\n\t\tvar year = undefined;\r\n\t\tvar month = undefined;\r\n\t\tvar timezone = undefined;\r\n\r\n\t\tif (value instanceof Date) {\r\n\t\t\tyear = value.getFullYear();\r\n\t\t\tmonth = value.getMonth() + 1;\r\n\t\t} else {\r\n\t\t\tJsonix.Util.Ensure.ensureInteger(value.year);\r\n\t\t\tyear = value.year;\r\n\t\t\tmonth = value.month;\r\n\t\t\ttimezone = value.timezone;\r\n\t\t}\r\n\t\tJsonix.XML.Calendar.validateYear(year);\r\n\t\tJsonix.XML.Calendar.validateMonth(month);\r\n\t\tJsonix.XML.Calendar.validateTimezone(timezone);\r\n\t\treturn this.printSignedYear(year) + \"-\" + this.printMonth(month) + this.printTimezoneString(timezone);\r\n\t},\r\n\tprintSignedYear : function(value) {\r\n\t\treturn value < 0 ? (\"-\" + this.printYear(value * -1)) : (this.printYear(value));\r\n\t},\r\n\tprintYear : function(value) {\r\n\t\treturn this.printInteger(value, 4);\r\n\t},\r\n\tprintMonth : function(value) {\r\n\t\treturn this.printInteger(value, 2);\r\n\t},\r\n\tprintDay : function(value) {\r\n\t\treturn this.printInteger(value, 2);\r\n\t},\r\n\tprintHour : function(value) {\r\n\t\treturn this.printInteger(value, 2);\r\n\t},\r\n\tprintMinute : function(value) {\r\n\t\treturn this.printInteger(value, 2);\r\n\t},\r\n\tprintSecond : function(value) {\r\n\t\treturn this.printInteger(value, 2);\r\n\t},\r\n\tprintFractionalSecond : function(value) {\r\n\t\tJsonix.Util.Ensure.ensureNumber(value);\r\n\t\tif (value < 0 || value >= 1) {\r\n\t\t\tthrow new Error('Fractional second [' + value + '] must be between 0 and 1.');\r\n\t\t} else if (value === 0) {\r\n\t\t\treturn '';\r\n\t\t} else {\r\n\t\t\tvar string = String(value);\r\n\t\t\tvar dotIndex = string.indexOf('.');\r\n\t\t\tif (dotIndex < 0) {\r\n\t\t\t\treturn '';\r\n\t\t\t} else {\r\n\t\t\t\treturn string.substring(dotIndex);\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\tprintInteger : function(value, length) {\r\n\t\tJsonix.Util.Ensure.ensureInteger(value);\r\n\t\tJsonix.Util.Ensure.ensureInteger(length);\r\n\t\tif (length <= 0) {\r\n\t\t\tthrow new Error('Length [' + value + '] must be positive.');\r\n\t\t}\r\n\t\tif (value < 0) {\r\n\t\t\tthrow new Error('Value [' + value + '] must not be negative.');\r\n\t\t}\r\n\t\tvar result = String(value);\r\n\t\tfor (var i = result.length; i < length; i++) {\r\n\t\t\tresult = '0' + result;\r\n\t\t}\r\n\t\treturn result;\r\n\t},\r\n\tisInstance : function(value, context, scope) {\r\n\t\treturn Jsonix.Util.Type.isObject(value) && ((Jsonix.Util.NumberUtils.isInteger(value.year) && Jsonix.Util.NumberUtils.isInteger(value.month) && Jsonix.Util.NumberUtils.isInteger(value.day)) || (Jsonix.Util.NumberUtils.isInteger(value.hour) && Jsonix.Util.NumberUtils.isInteger(value.minute) && Jsonix.Util.NumberUtils.isInteger(value.second)));\r\n\t},\r\n\tCLASS_NAME : 'Jsonix.Schema.XSD.Calendar'\r\n});\r\n\r\nJsonix.Schema.XSD.Calendar.YEAR_PATTERN = \"-?([1-9][0-9]*)?((?!(0000))[0-9]{4})\";\r\nJsonix.Schema.XSD.Calendar.TIMEZONE_PATTERN = \"Z|([\\\\-\\\\+])(((0[0-9]|1[0-3]):([0-5][0-9]))|(14:00))\";\r\nJsonix.Schema.XSD.Calendar.MONTH_PATTERN = \"(0[1-9]|1[0-2])\";\r\nJsonix.Schema.XSD.Calendar.SINGLE_MONTH_PATTERN = \"\\\\-\\\\-\" + Jsonix.Schema.XSD.Calendar.MONTH_PATTERN;\r\nJsonix.Schema.XSD.Calendar.DAY_PATTERN = \"(0[1-9]|[12][0-9]|3[01])\";\r\nJsonix.Schema.XSD.Calendar.SINGLE_DAY_PATTERN = \"\\\\-\\\\-\\\\-\" + Jsonix.Schema.XSD.Calendar.DAY_PATTERN;\r\nJsonix.Schema.XSD.Calendar.GYEAR_PATTERN = \"(\" + Jsonix.Schema.XSD.Calendar.YEAR_PATTERN + \")\" + \"(\" + Jsonix.Schema.XSD.Calendar.TIMEZONE_PATTERN + \")?\";\r\nJsonix.Schema.XSD.Calendar.GMONTH_PATTERN = \"(\" + Jsonix.Schema.XSD.Calendar.SINGLE_MONTH_PATTERN + \")\" + \"(\" + Jsonix.Schema.XSD.Calendar.TIMEZONE_PATTERN + \")?\";\r\nJsonix.Schema.XSD.Calendar.GDAY_PATTERN = \"(\" + Jsonix.Schema.XSD.Calendar.SINGLE_DAY_PATTERN + \")\" + \"(\" + Jsonix.Schema.XSD.Calendar.TIMEZONE_PATTERN + \")?\";\r\nJsonix.Schema.XSD.Calendar.GYEAR_MONTH_PATTERN = \"(\" + Jsonix.Schema.XSD.Calendar.YEAR_PATTERN + \")\" + \"-\" + \"(\" + Jsonix.Schema.XSD.Calendar.DAY_PATTERN + \")\" + \"(\" + Jsonix.Schema.XSD.Calendar.TIMEZONE_PATTERN + \")?\";\r\nJsonix.Schema.XSD.Calendar.GMONTH_DAY_PATTERN = \"(\" + Jsonix.Schema.XSD.Calendar.SINGLE_MONTH_PATTERN + \")\" + \"-\" + \"(\" + Jsonix.Schema.XSD.Calendar.DAY_PATTERN + \")\" + \"(\" + Jsonix.Schema.XSD.Calendar.TIMEZONE_PATTERN + \")?\";\r\nJsonix.Schema.XSD.Calendar.DATE_PART_PATTERN = \"(\" + Jsonix.Schema.XSD.Calendar.YEAR_PATTERN + \")\" + \"-\" + \"(\" + Jsonix.Schema.XSD.Calendar.MONTH_PATTERN + \")\" + \"-\" + \"(\" + Jsonix.Schema.XSD.Calendar.DAY_PATTERN + \")\";\r\nJsonix.Schema.XSD.Calendar.TIME_PART_PATTERN = \"([0-1][0-9]|2[0-3]):([0-5][0-9]):([0-5][0-9])(\\\\.([0-9]+))?\";\r\nJsonix.Schema.XSD.Calendar.TIME_PATTERN = Jsonix.Schema.XSD.Calendar.TIME_PART_PATTERN + '(' + Jsonix.Schema.XSD.Calendar.TIMEZONE_PATTERN + ')?';\r\nJsonix.Schema.XSD.Calendar.DATE_PATTERN = Jsonix.Schema.XSD.Calendar.DATE_PART_PATTERN + '(' + Jsonix.Schema.XSD.Calendar.TIMEZONE_PATTERN + ')?';\r\nJsonix.Schema.XSD.Calendar.DATETIME_PATTERN = Jsonix.Schema.XSD.Calendar.DATE_PART_PATTERN + 'T' + Jsonix.Schema.XSD.Calendar.TIME_PART_PATTERN + '(' + Jsonix.Schema.XSD.Calendar.TIMEZONE_PATTERN + ')?';\r\nJsonix.Schema.XSD.Calendar.INSTANCE = new Jsonix.Schema.XSD.Calendar();\r\nJsonix.Schema.XSD.Calendar.INSTANCE.LIST = new Jsonix.Schema.XSD.List(Jsonix.Schema.XSD.Calendar.INSTANCE);\r\nJsonix.Schema.XSD.Duration = Jsonix.Class(Jsonix.Schema.XSD.AnySimpleType, {\r\n\tname : 'Duration',\r\n\ttypeName : Jsonix.Schema.XSD.qname('duration'),\r\n\tisInstance : function(value, context, scope) {\r\n\t\treturn Jsonix.Util.Type.isObject(value) && (\r\n\t\t\t\t(Jsonix.Util.Type.exists(value.sign) ? (value.sign === -1 || value.sign === 1) : true)\r\n\t\t\t\t(Jsonix.Util.NumberUtils.isInteger(value.years) && value.years >=0) ||\r\n\t\t\t\t(Jsonix.Util.NumberUtils.isInteger(value.months) && value.months >=0) ||\r\n\t\t\t\t(Jsonix.Util.NumberUtils.isInteger(value.days) && value.days >= 0) ||\r\n\t\t\t\t(Jsonix.Util.NumberUtils.isInteger(value.hours) && value.hours >= 0) ||\r\n\t\t\t\t(Jsonix.Util.NumberUtils.isInteger(value.minutes) && value.minutes >= 0) ||\r\n\t\t\t\t(Jsonix.Util.Type.isNumber(value.seconds) && value.seconds >= 0) );\r\n\t},\r\n\tvalidate : function(value) {\r\n\t\tJsonix.Util.Ensure.ensureObject(value);\r\n\t\tif (Jsonix.Util.Type.exists(value.sign)) {\r\n\t\t\tif (!(value.sign === 1 || value.sign === -1)) {\r\n\t\t\t\tthrow new Error(\"Sign of the duration [\" + value.sign + \"] must be either [1] or [-1].\");\r\n\t\t\t}\r\n\t\t}\r\n\t\tvar empty = true;\r\n\t\tvar ifExistsEnsureUnsignedInteger = function(v, message) {\r\n\t\t\tif (Jsonix.Util.Type.exists(v)) {\r\n\t\t\t\tif (!(Jsonix.Util.NumberUtils.isInteger(v) && v >= 0)) {\r\n\t\t\t\t\tthrow new Error(message.replace(\"{0}\", v));\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn true;\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t};\r\n\t\tvar ifExistsEnsureUnsignedNumber = function(v, message) {\r\n\t\t\tif (Jsonix.Util.Type.exists(v)) {\r\n\t\t\t\tif (!(Jsonix.Util.Type.isNumber(v) && v >= 0)) {\r\n\t\t\t\t\tthrow new Error(message.replace(\"{0}\", v));\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn true;\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t};\r\n\t\tempty = empty && !ifExistsEnsureUnsignedInteger(value.years, \"Number of years [{0}] must be an unsigned integer.\");\r\n\t\tempty = empty && !ifExistsEnsureUnsignedInteger(value.months, \"Number of months [{0}] must be an unsigned integer.\");\r\n\t\tempty = empty && !ifExistsEnsureUnsignedInteger(value.days, \"Number of days [{0}] must be an unsigned integer.\");\r\n\t\tempty = empty && !ifExistsEnsureUnsignedInteger(value.hours, \"Number of hours [{0}] must be an unsigned integer.\");\r\n\t\tempty = empty && !ifExistsEnsureUnsignedInteger(value.minutes, \"Number of minutes [{0}] must be an unsigned integer.\");\r\n\t\tempty = empty && !ifExistsEnsureUnsignedNumber(value.seconds, \"Number of seconds [{0}] must be an unsigned number.\");\r\n\t\tif (empty) {\r\n\t\t\tthrow new Error(\"At least one of the components (years, months, days, hours, minutes, seconds) must be set.\");\r\n\t\t}\r\n\t},\r\n\tprint : function(value, context, output, scope) {\r\n\t\tthis.validate(value);\r\n\t\tvar result = '';\r\n\t\tif (value.sign === -1)\r\n\t\t{\r\n\t\t\tresult += '-';\r\n\t\t}\r\n\t\tresult += 'P';\r\n\t\tif (Jsonix.Util.Type.exists(value.years)) {\r\n\t\t\tresult += (value.years + 'Y');\r\n\t\t}\r\n\t\tif (Jsonix.Util.Type.exists(value.months)) {\r\n\t\t\tresult += (value.months + 'M');\r\n\t\t}\r\n\t\tif (Jsonix.Util.Type.exists(value.days)) {\r\n\t\t\tresult += (value.days + 'D');\r\n\t\t}\r\n\t\tif (Jsonix.Util.Type.exists(value.hours) || Jsonix.Util.Type.exists(value.minutes) || Jsonix.Util.Type.exists(value.seconds))\r\n\t\t{\r\n\t\t\tresult += 'T';\r\n\t\t\tif (Jsonix.Util.Type.exists(value.hours)) {\r\n\t\t\t\tresult += (value.hours + 'H');\r\n\t\t\t}\r\n\t\t\tif (Jsonix.Util.Type.exists(value.minutes)) {\r\n\t\t\t\tresult += (value.minutes + 'M');\r\n\t\t\t}\r\n\t\t\tif (Jsonix.Util.Type.exists(value.seconds)) {\r\n\t\t\t\tresult += (value.seconds + 'S');\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn result;\r\n\t},\r\n\tparse : function(value, context, input, scope) {\r\n\t\tvar durationExpression = new RegExp(\"^\" + Jsonix.Schema.XSD.Duration.PATTERN + \"$\");\r\n\t\tvar results = value.match(durationExpression);\r\n\t\tif (results !== null) {\r\n\t\t\tvar empty = true;\r\n\t\t\tvar duration = {};\r\n\t\t\tif (results[1]) { duration.sign = -1; }\r\n\t\t\tif (results[3]) { duration.years = parseInt(results[3], 10); empty = false; }\r\n\t\t\tif (results[5]) { duration.months = parseInt(results[5], 10); empty = false; }\r\n\t\t\tif (results[7]) { duration.days = parseInt(results[7], 10); empty = false; }\r\n\t\t\tif (results[10]) { duration.hours = parseInt(results[10], 10); empty = false; }\r\n\t\t\tif (results[12]) { duration.minutes = parseInt(results[12], 10); empty = false; }\r\n\t\t\tif (results[14]) { duration.seconds = Number(results[14]); empty = false; }\r\n\t\t\treturn duration;\r\n\t\t} else {\r\n\t\t\tthrow new Error('Value [' + value + '] does not match the duration pattern.');\r\n\t\t}\r\n\t},\r\n\tCLASS_NAME : 'Jsonix.Schema.XSD.Duration'\r\n});\r\nJsonix.Schema.XSD.Duration.PATTERN = '(-)?P(([0-9]+)Y)?(([0-9]+)M)?(([0-9]+)D)?(T(([0-9]+)H)?(([0-9]+)M)?(([0-9]+(\\\\.[0-9]+)?)S)?)?';\r\nJsonix.Schema.XSD.Duration.INSTANCE = new Jsonix.Schema.XSD.Duration();\r\nJsonix.Schema.XSD.Duration.INSTANCE.LIST = new Jsonix.Schema.XSD.List(Jsonix.Schema.XSD.Duration.INSTANCE);\r\nJsonix.Schema.XSD.DateTime = Jsonix.Class(Jsonix.Schema.XSD.Calendar, {\r\n\tname : 'DateTime',\r\n\ttypeName : Jsonix.Schema.XSD.qname('dateTime'),\r\n\tparse : function(value, context, input, scope) {\r\n\t\treturn this.parseDateTime(value);\r\n\t},\r\n\tprint : function(value, context, output, scope) {\r\n\t\treturn this.printDateTime(value);\r\n\t},\r\n\tCLASS_NAME : 'Jsonix.Schema.XSD.DateTime'\r\n});\r\nJsonix.Schema.XSD.DateTime.INSTANCE = new Jsonix.Schema.XSD.DateTime();\r\nJsonix.Schema.XSD.DateTime.INSTANCE.LIST = new Jsonix.Schema.XSD.List(Jsonix.Schema.XSD.DateTime.INSTANCE);\r\n\r\nJsonix.Schema.XSD.DateTimeAsDate = Jsonix.Class(Jsonix.Schema.XSD.Calendar, {\r\n\tname : 'DateTimeAsDate',\r\n\ttypeName : Jsonix.Schema.XSD.qname('dateTime'),\r\n\tparse : function(value, context, input, scope) {\r\n\t\tvar calendar = this.parseDateTime(value);\r\n\t\tvar date = new Date();\r\n\t\tdate.setFullYear(calendar.year);\r\n\t\tdate.setMonth(calendar.month - 1);\r\n\t\tdate.setDate(calendar.day);\r\n\t\tdate.setHours(calendar.hour);\r\n\t\tdate.setMinutes(calendar.minute);\r\n\t\tdate.setSeconds(calendar.second);\r\n\t\tif (Jsonix.Util.Type.isNumber(calendar.fractionalSecond)) {\r\n\t\t\tdate.setMilliseconds(Math.floor(1000 * calendar.fractionalSecond));\r\n\t\t}\r\n\t\tvar timezone;\r\n\t\tvar unknownTimezone;\r\n\t\tvar localTimezone = - date.getTimezoneOffset();\r\n\t\tif (Jsonix.Util.NumberUtils.isInteger(calendar.timezone))\r\n\t\t{\r\n\t\t\ttimezone = calendar.timezone;\r\n\t\t\tunknownTimezone = false;\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\t// Unknown timezone\r\n\t\t\ttimezone = localTimezone;\r\n\t\t\tunknownTimezone = true;\r\n\t\t}\r\n\t\t//\r\n\t\tvar result = new Date(date.getTime() + (60000 * (- timezone + localTimezone)));\r\n\t\tif (unknownTimezone)\r\n\t\t{\r\n\t\t\t// null denotes \"unknown timezone\"\r\n\t\t\tresult.originalTimezone = null;\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tresult.originalTimezone = calendar.timezone;\r\n\t\t}\r\n\t\treturn result;\r\n\t},\r\n\tprint : function(value, context, output, scope) {\r\n\t\tJsonix.Util.Ensure.ensureDate(value);\r\n\t\tvar timezone;\r\n\t\tvar localTimezone = - value.getTimezoneOffset();\r\n\t\tvar correctedValue;\r\n\t\t// If original time zone was unknown, print the given value without\r\n\t\t// the timezone\r\n\t\tif (value.originalTimezone === null)\r\n\t\t{\r\n\t\t\treturn this.printDateTime(new Jsonix.XML.Calendar({\r\n\t\t\t\tyear : value.getFullYear(),\r\n\t\t\t\tmonth : value.getMonth() + 1,\r\n\t\t\t\tday : value.getDate(),\r\n\t\t\t\thour : value.getHours(),\r\n\t\t\t\tminute : value.getMinutes(),\r\n\t\t\t\tsecond : value.getSeconds(),\r\n\t\t\t\tfractionalSecond : (value.getMilliseconds() / 1000)\r\n\t\t\t}));\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\t// If original timezone was known, correct and print the value with the timezone\r\n\t\t\tif (Jsonix.Util.NumberUtils.isInteger(value.originalTimezone))\r\n\t\t\t{\r\n\t\t\t\ttimezone = value.originalTimezone;\r\n\t\t\t\tcorrectedValue = new Date(value.getTime() - (60000 * ( - timezone + localTimezone)));\r\n\t\t\t}\r\n\t\t\t// If original timezone was not specified, do not correct and use the local time zone\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\ttimezone = localTimezone;\r\n\t\t\t\tcorrectedValue = value;\r\n\t\t\t}\r\n\t\t\tvar x = this.printDateTime(new Jsonix.XML.Calendar({\r\n\t\t\t\tyear : correctedValue.getFullYear(),\r\n\t\t\t\tmonth : correctedValue.getMonth() + 1,\r\n\t\t\t\tday : correctedValue.getDate(),\r\n\t\t\t\thour : correctedValue.getHours(),\r\n\t\t\t\tminute : correctedValue.getMinutes(),\r\n\t\t\t\tsecond : correctedValue.getSeconds(),\r\n\t\t\t\tfractionalSecond : (correctedValue.getMilliseconds() / 1000),\r\n\t\t\t\ttimezone: timezone\r\n\t\t\t}));\r\n\t\t\treturn x;\r\n\t\t}\r\n\t},\r\n\tisInstance : function(value, context, scope) {\r\n\t\treturn Jsonix.Util.Type.isDate(value);\r\n\t},\r\n\tCLASS_NAME : 'Jsonix.Schema.XSD.DateTimeAsDate'\r\n});\r\nJsonix.Schema.XSD.DateTimeAsDate.INSTANCE = new Jsonix.Schema.XSD.DateTimeAsDate();\r\nJsonix.Schema.XSD.DateTimeAsDate.INSTANCE.LIST = new Jsonix.Schema.XSD.List(Jsonix.Schema.XSD.DateTimeAsDate.INSTANCE);\r\n\r\nJsonix.Schema.XSD.Time = Jsonix.Class(Jsonix.Schema.XSD.Calendar, {\r\n\tname : 'Time',\r\n\ttypeName : Jsonix.Schema.XSD.qname('time'),\r\n\tparse : function(value, context, input, scope) {\r\n\t\treturn this.parseTime(value);\r\n\t},\r\n\tprint : function(value, context, output, scope) {\r\n\t\treturn this.printTime(value);\r\n\t},\r\n\tCLASS_NAME : 'Jsonix.Schema.XSD.Time'\r\n});\r\nJsonix.Schema.XSD.Time.INSTANCE = new Jsonix.Schema.XSD.Time();\r\nJsonix.Schema.XSD.Time.INSTANCE.LIST = new Jsonix.Schema.XSD.List(Jsonix.Schema.XSD.Time.INSTANCE);\r\nJsonix.Schema.XSD.TimeAsDate = Jsonix.Class(Jsonix.Schema.XSD.Calendar, {\r\n\tname : 'TimeAsDate',\r\n\ttypeName : Jsonix.Schema.XSD.qname('time'),\r\n\tparse : function(value, context, input, scope) {\r\n\t\tvar calendar = this.parseTime(value);\r\n\t\tvar date = new Date();\r\n\t\tdate.setFullYear(1970);\r\n\t\tdate.setMonth(0);\r\n\t\tdate.setDate(1);\r\n\t\tdate.setHours(calendar.hour);\r\n\t\tdate.setMinutes(calendar.minute);\r\n\t\tdate.setSeconds(calendar.second);\r\n\t\tif (Jsonix.Util.Type.isNumber(calendar.fractionalSecond)) {\r\n\t\t\tdate.setMilliseconds(Math.floor(1000 * calendar.fractionalSecond));\r\n\t\t}\r\n\t\tvar timezone;\r\n\t\tvar unknownTimezone;\r\n\t\tvar localTimezone = - date.getTimezoneOffset();\r\n\t\tif (Jsonix.Util.NumberUtils.isInteger(calendar.timezone))\r\n\t\t{\r\n\t\t\ttimezone = calendar.timezone;\r\n\t\t\tunknownTimezone = false;\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\t// Unknown timezone\r\n\t\t\ttimezone = localTimezone;\r\n\t\t\tunknownTimezone = true;\r\n\t\t}\r\n\t\t//\r\n\t\tvar result = new Date(date.getTime() + (60000 * ( - timezone + localTimezone)));\r\n\t\tif (unknownTimezone)\r\n\t\t{\r\n\t\t\t// null denotes \"unknown timezone\"\r\n\t\t\tresult.originalTimezone = null;\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tresult.originalTimezone = timezone;\r\n\t\t}\r\n\t\treturn result;\r\n\t},\r\n\tprint : function(value, context, output, scope) {\r\n\t\tJsonix.Util.Ensure.ensureDate(value);\r\n\t\tvar time = value.getTime();\r\n\t\tif (time <= -86400000 && time >= 86400000) {\r\n\t\t\tthrow new Error('Invalid time [' + value + '].');\r\n\t\t}\r\n\t\t// Original timezone was unknown, just use current time, no timezone\r\n\t\tif (value.originalTimezone === null)\r\n\t\t{\r\n\t\t\treturn this.printTime(new Jsonix.XML.Calendar({\r\n\t\t\t\thour : value.getHours(),\r\n\t\t\t\tminute : value.getMinutes(),\r\n\t\t\t\tsecond : value.getSeconds(),\r\n\t\t\t\tfractionalSecond : (value.getMilliseconds() / 1000)\r\n\t\t\t}));\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tvar correctedValue;\r\n\t\t\tvar timezone;\r\n\t\t\tvar localTimezone = - value.getTimezoneOffset();\r\n\t\t\tif (Jsonix.Util.NumberUtils.isInteger(value.originalTimezone))\r\n\t\t\t{\r\n\t\t\t\ttimezone = value.originalTimezone;\r\n\t\t\t\tcorrectedValue = new Date(value.getTime() - (60000 * ( - timezone + localTimezone)));\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\ttimezone = localTimezone;\r\n\t\t\t\tcorrectedValue = value;\r\n\t\t\t}\r\n\t\t\tvar correctedTime = correctedValue.getTime();\r\n\t\t\tif (correctedTime >= (- localTimezone * 60000)) {\r\n\t\t\t\treturn this.printTime(new Jsonix.XML.Calendar({\r\n\t\t\t\t\thour : correctedValue.getHours(),\r\n\t\t\t\t\tminute : correctedValue.getMinutes(),\r\n\t\t\t\t\tsecond : correctedValue.getSeconds(),\r\n\t\t\t\t\tfractionalSecond : (correctedValue.getMilliseconds() / 1000),\r\n\t\t\t\t\ttimezone: timezone\r\n\t\t\t\t}));\r\n\t\t\t} else {\r\n\t\t\t\tvar timezoneHours = Math.ceil(-correctedTime / 3600000);\r\n\t\t\t\t\r\n\t\t\t\tvar correctedTimeInSeconds = correctedValue.getSeconds() +\r\n\t\t\t\t\tcorrectedValue.getMinutes() * 60 +\r\n\t\t\t\t\tcorrectedValue.getHours() * 3600 +\r\n\t\t\t\t\ttimezoneHours * 3600 -\r\n\t\t\t\t\ttimezone * 60;\r\n\t\t\t\t\r\n\t\t\t\treturn this.printTime(new Jsonix.XML.Calendar({\r\n\t\t\t\t\thour : correctedTimeInSeconds % 86400,\r\n\t\t\t\t\tminute : correctedTimeInSeconds % 3600,\r\n\t\t\t\t\tsecond : correctedTimeInSeconds % 60,\r\n\t\t\t\t\tfractionalSecond : (correctedValue.getMilliseconds() / 1000),\r\n\t\t\t\t\ttimezone : timezoneHours * 60\r\n\t\t\t\t}));\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\tisInstance : function(value, context, scope) {\r\n\t\treturn Jsonix.Util.Type.isDate(value) && value.getTime() > -86400000 && value.getTime() < 86400000;\r\n\t},\r\n\tCLASS_NAME : 'Jsonix.Schema.XSD.TimeAsDate'\r\n});\r\nJsonix.Schema.XSD.TimeAsDate.INSTANCE = new Jsonix.Schema.XSD.TimeAsDate();\r\nJsonix.Schema.XSD.TimeAsDate.INSTANCE.LIST = new Jsonix.Schema.XSD.List(Jsonix.Schema.XSD.TimeAsDate.INSTANCE);\r\nJsonix.Schema.XSD.Date = Jsonix.Class(Jsonix.Schema.XSD.Calendar, {\r\n\tname : 'Date',\r\n\ttypeName : Jsonix.Schema.XSD.qname('date'),\r\n\tparse : function(value, context, input, scope) {\r\n\t\treturn this.parseDate(value);\r\n\t},\r\n\tprint : function(value, context, output, scope) {\r\n\t\treturn this.printDate(value);\r\n\t},\r\n\tCLASS_NAME : 'Jsonix.Schema.XSD.Date'\r\n});\r\nJsonix.Schema.XSD.Date.INSTANCE = new Jsonix.Schema.XSD.Date();\r\nJsonix.Schema.XSD.Date.INSTANCE.LIST = new Jsonix.Schema.XSD.List(Jsonix.Schema.XSD.Date.INSTANCE);\r\nJsonix.Schema.XSD.DateAsDate = Jsonix.Class(Jsonix.Schema.XSD.Calendar, {\r\n\tname : 'DateAsDate',\r\n\ttypeName : Jsonix.Schema.XSD.qname('date'),\r\n\tparse : function(value, context, input, scope) {\r\n\t\tvar calendar = this.parseDate(value);\r\n\t\tvar date = new Date();\r\n\t\tdate.setFullYear(calendar.year);\r\n\t\tdate.setMonth(calendar.month - 1);\r\n\t\tdate.setDate(calendar.day);\r\n\t\tdate.setHours(0);\r\n\t\tdate.setMinutes(0);\r\n\t\tdate.setSeconds(0);\r\n\t\tdate.setMilliseconds(0);\r\n\t\tif (Jsonix.Util.Type.isNumber(calendar.fractionalSecond)) {\r\n\t\t\tdate.setMilliseconds(Math.floor(1000 * calendar.fractionalSecond));\r\n\t\t}\r\n\t\tvar timezone;\r\n\t\tvar unknownTimezone;\r\n\t\tvar localTimezone = - date.getTimezoneOffset();\r\n\t\tif (Jsonix.Util.NumberUtils.isInteger(calendar.timezone))\r\n\t\t{\r\n\t\t\ttimezone = calendar.timezone;\r\n\t\t\tunknownTimezone = false;\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\t// Unknown timezone\r\n\t\t\ttimezone = localTimezone;\r\n\t\t\tunknownTimezone = true;\r\n\t\t}\r\n\t\t//\r\n\t\tvar result = new Date(date.getTime() + (60000 * ( - timezone + localTimezone)));\r\n\t\tif (unknownTimezone)\r\n\t\t{\r\n\t\t\t// null denotes \"unknown timezone\"\r\n\t\t\tresult.originalTimezone = null;\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tresult.originalTimezone = timezone;\r\n\t\t}\r\n\t\treturn result;\r\n\t},\r\n\tprint : function(value, context, output, scope) {\r\n\t\tJsonix.Util.Ensure.ensureDate(value);\r\n\t\tvar localDate = new Date(value.getTime());\r\n\t\tlocalDate.setHours(0);\r\n\t\tlocalDate.setMinutes(0);\r\n\t\tlocalDate.setSeconds(0);\r\n\t\tlocalDate.setMilliseconds(0);\r\n\t\t\r\n\t\t// Original timezone is unknown\r\n\t\tif (value.originalTimezone === null)\r\n\t\t{\r\n\t\t\treturn this.printDate(new Jsonix.XML.Calendar({\r\n\t\t\t\tyear : value.getFullYear(),\r\n\t\t\t\tmonth : value.getMonth() + 1,\r\n\t\t\t\tday : value.getDate()\r\n\t\t\t}));\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\t// If original timezone was known, correct and print the value with the timezone\r\n\t\t\tif (Jsonix.Util.NumberUtils.isInteger(value.originalTimezone))\r\n\t\t\t{\r\n\t\t\t\tvar correctedValue = new Date(value.getTime() - (60000 * (- value.originalTimezone - value.getTimezoneOffset())));\r\n\t\t\t\treturn this.printDate(new Jsonix.XML.Calendar({\r\n\t\t\t\t\tyear : correctedValue.getFullYear(),\r\n\t\t\t\t\tmonth : correctedValue.getMonth() + 1,\r\n\t\t\t\t\tday : correctedValue.getDate(),\r\n\t\t\t\t\ttimezone : value.originalTimezone\r\n\t\t\t\t}));\r\n\t\t\t}\r\n\t\t\t// If original timezone was not specified, do not correct and use the local time zone\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\t// We assume that the difference between the date value and local midnight\r\n\t\t\t\t// should be interpreted as a timezone offset.\r\n\t\t\t\t// In case there's no difference, we assume default/unknown timezone\r\n\t\t\t\tvar localTimezone = - value.getTime() + localDate.getTime();\r\n\t\t\t\tif (localTimezone === 0) {\r\n\t\t\t\t\treturn this.printDate(new Jsonix.XML.Calendar({\r\n\t\t\t\t\t\tyear : value.getFullYear(),\r\n\t\t\t\t\t\tmonth : value.getMonth() + 1,\r\n\t\t\t\t\t\tday : value.getDate()\r\n\t\t\t\t\t}));\r\n\t\t\t\t} else {\r\n\t\t\t\t\tvar timezone = localTimezone - (60000 * value.getTimezoneOffset());\r\n\t\t\t\t\tif (timezone >= -43200000) {\r\n\t\t\t\t\t\treturn this.printDate(new Jsonix.XML.Calendar({\r\n\t\t\t\t\t\t\tyear : value.getFullYear(),\r\n\t\t\t\t\t\t\tmonth : value.getMonth() + 1,\r\n\t\t\t\t\t\t\tday : value.getDate(),\r\n\t\t\t\t\t\t\ttimezone : Math.floor(timezone / 60000)\r\n\t\t\t\t\t\t}));\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tvar nextDay = new Date(value.getTime() + 86400000);\r\n\t\t\t\t\t\treturn this.printDate(new Jsonix.XML.Calendar({\r\n\t\t\t\t\t\t\tyear : nextDay.getFullYear(),\r\n\t\t\t\t\t\t\tmonth : nextDay.getMonth() + 1,\r\n\t\t\t\t\t\t\tday : nextDay.getDate(),\r\n\t\t\t\t\t\t\ttimezone : (Math.floor(timezone / 60000) + 1440)\r\n\t\t\t\t\t\t}));\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\tisInstance : function(value, context, scope) {\r\n\t\treturn Jsonix.Util.Type.isDate(value);\r\n\t},\r\n\tCLASS_NAME : 'Jsonix.Schema.XSD.DateAsDate'\r\n});\r\nJsonix.Schema.XSD.DateAsDate.INSTANCE = new Jsonix.Schema.XSD.DateAsDate();\r\nJsonix.Schema.XSD.DateAsDate.INSTANCE.LIST = new Jsonix.Schema.XSD.List(Jsonix.Schema.XSD.DateAsDate.INSTANCE);\r\nJsonix.Schema.XSD.GYearMonth = Jsonix.Class(Jsonix.Schema.XSD.Calendar, {\r\n\tname : 'GYearMonth',\r\n\ttypeName : Jsonix.Schema.XSD.qname('gYearMonth'),\r\n\tCLASS_NAME : 'Jsonix.Schema.XSD.GYearMonth',\r\n\r\n\tparse : function(value, context, input, scope) {\r\n\t\treturn this.parseGYearMonth(value, context, input, scope);\r\n\t},\r\n\r\n\tprint : function(value, context, output, scope) {\r\n\t\treturn this.printGYearMonth(value, context, output, scope);\r\n\t}\r\n\r\n});\r\nJsonix.Schema.XSD.GYearMonth.INSTANCE = new Jsonix.Schema.XSD.GYearMonth();\r\nJsonix.Schema.XSD.GYearMonth.INSTANCE.LIST = new Jsonix.Schema.XSD.List(Jsonix.Schema.XSD.GYearMonth.INSTANCE);\r\nJsonix.Schema.XSD.GYear = Jsonix.Class(Jsonix.Schema.XSD.Calendar, {\r\n\tname : 'GYear',\r\n\ttypeName : Jsonix.Schema.XSD.qname('gYear'),\r\n\tCLASS_NAME : 'Jsonix.Schema.XSD.GYear',\r\n\r\n\tparse : function(value, context, input, scope) {\r\n\t\treturn this.parseGYear(value, context, input, scope);\r\n\t},\r\n\r\n\tprint : function(value, context, output, scope) {\r\n\t\treturn this.printGYear(value, context, output, scope);\r\n\t}\r\n});\r\nJsonix.Schema.XSD.GYear.INSTANCE = new Jsonix.Schema.XSD.GYear();\r\nJsonix.Schema.XSD.GYear.INSTANCE.LIST = new Jsonix.Schema.XSD.List(Jsonix.Schema.XSD.GYear.INSTANCE);\r\nJsonix.Schema.XSD.GMonthDay = Jsonix.Class(Jsonix.Schema.XSD.Calendar, {\r\n\tname : 'GMonthDay',\r\n\ttypeName : Jsonix.Schema.XSD.qname('gMonthDay'),\r\n\tCLASS_NAME : 'Jsonix.Schema.XSD.GMonthDay',\r\n\r\n\tparse : function(value, context, input, scope) {\r\n\t\treturn this.parseGMonthDay(value, context, input, scope);\r\n\t},\r\n\r\n\tprint : function(value, context, output, scope) {\r\n\t\treturn this.printGMonthDay(value, context, output, scope);\r\n\t}\r\n});\r\nJsonix.Schema.XSD.GMonthDay.INSTANCE = new Jsonix.Schema.XSD.GMonthDay();\r\nJsonix.Schema.XSD.GMonthDay.INSTANCE.LIST = new Jsonix.Schema.XSD.List(Jsonix.Schema.XSD.GMonthDay.INSTANCE);\r\nJsonix.Schema.XSD.GDay = Jsonix.Class(Jsonix.Schema.XSD.Calendar, {\r\n\tname : 'GDay',\r\n\ttypeName : Jsonix.Schema.XSD.qname('gDay'),\r\n\tCLASS_NAME : 'Jsonix.Schema.XSD.GDay',\r\n\r\n\tparse : function(value, context, input, scope) {\r\n\t\treturn this.parseGDay(value, context, input, scope);\r\n\t},\r\n\r\n\tprint : function(value, context, output, scope) {\r\n\t\treturn this.printGDay(value, context, output, scope);\r\n\t}\r\n\r\n});\r\nJsonix.Schema.XSD.GDay.INSTANCE = new Jsonix.Schema.XSD.GDay();\r\nJsonix.Schema.XSD.GDay.INSTANCE.LIST = new Jsonix.Schema.XSD.List(Jsonix.Schema.XSD.GDay.INSTANCE);\r\nJsonix.Schema.XSD.GMonth = Jsonix.Class(Jsonix.Schema.XSD.Calendar, {\r\n\tname : 'GMonth',\r\n\ttypeName : Jsonix.Schema.XSD.qname('gMonth'),\r\n\tCLASS_NAME : 'Jsonix.Schema.XSD.GMonth',\r\n\tparse : function(value, context, input, scope) {\r\n\t\treturn this.parseGMonth(value, context, input, scope);\r\n\t},\r\n\tprint : function(value, context, output, scope) {\r\n\t\treturn this.printGMonth(value, context, output, scope);\r\n\t}\r\n});\r\nJsonix.Schema.XSD.GMonth.INSTANCE = new Jsonix.Schema.XSD.GMonth();\r\nJsonix.Schema.XSD.GMonth.INSTANCE.LIST = new Jsonix.Schema.XSD.List(Jsonix.Schema.XSD.GMonth.INSTANCE);\r\nJsonix.Schema.XSD.ID = Jsonix.Class(Jsonix.Schema.XSD.String, {\r\n\tname : 'ID',\r\n\ttypeName : Jsonix.Schema.XSD.qname('ID'),\r\n\tCLASS_NAME : 'Jsonix.Schema.XSD.ID'\r\n});\r\nJsonix.Schema.XSD.ID.INSTANCE = new Jsonix.Schema.XSD.ID();\r\nJsonix.Schema.XSD.ID.INSTANCE.LIST = new Jsonix.Schema.XSD.List(\r\n\t\tJsonix.Schema.XSD.ID.INSTANCE);\r\nJsonix.Schema.XSD.IDREF = Jsonix.Class(Jsonix.Schema.XSD.String, {\r\n\tname : 'IDREF',\r\n\ttypeName : Jsonix.Schema.XSD.qname('IDREF'),\r\n\tCLASS_NAME : 'Jsonix.Schema.XSD.IDREF'\r\n});\r\nJsonix.Schema.XSD.IDREF.INSTANCE = new Jsonix.Schema.XSD.IDREF();\r\nJsonix.Schema.XSD.IDREF.INSTANCE.LIST = new Jsonix.Schema.XSD.List(\r\n\t\tJsonix.Schema.XSD.IDREF.INSTANCE);\r\nJsonix.Schema.XSD.IDREFS = Jsonix.Class(Jsonix.Schema.XSD.List, {\r\n\tname : 'IDREFS',\r\n\tinitialize : function() {\r\n\t\tJsonix.Schema.XSD.List.prototype.initialize.apply(this, [ Jsonix.Schema.XSD.IDREF.INSTANCE, Jsonix.Schema.XSD.qname('IDREFS'), ' ' ]);\r\n\t},\r\n\t// TODO Constraints\r\n\tCLASS_NAME : 'Jsonix.Schema.XSD.IDREFS'\r\n});\r\nJsonix.Schema.XSD.IDREFS.INSTANCE = new Jsonix.Schema.XSD.IDREFS();\r\nJsonix.Schema.XSI = {};\r\nJsonix.Schema.XSI.NAMESPACE_URI = 'http://www.w3.org/2001/XMLSchema-instance';\r\nJsonix.Schema.XSI.PREFIX = 'xsi';\r\nJsonix.Schema.XSI.TYPE = 'type';\r\nJsonix.Schema.XSI.NIL = 'nil';\r\nJsonix.Schema.XSI.qname = function(localPart) {\r\n\tJsonix.Util.Ensure.ensureString(localPart);\r\n\treturn new Jsonix.XML.QName(Jsonix.Schema.XSI.NAMESPACE_URI, localPart,\r\n\t\t\tJsonix.Schema.XSI.PREFIX);\r\n};\r\nJsonix.Schema.XSI.TYPE_QNAME = Jsonix.Schema.XSI.qname(Jsonix.Schema.XSI.TYPE);\r\n\r\nJsonix.Context = Jsonix\r\n\t\t.Class(Jsonix.Mapping.Styled, {\r\n\t\t\tmodules : [],\r\n\t\t\ttypeInfos : null,\r\n\t\t\ttypeNameKeyToTypeInfo : null,\r\n\t\t\telementInfos : null,\r\n\t\t\toptions : null,\r\n\t\t\tsubstitutionMembersMap : null,\r\n\t\t\tscopedElementInfosMap : null,\r\n\t\t\tsupportXsiType : true,\r\n\t\t\tinitialize : function(mappings, options) {\r\n\t\t\t\tJsonix.Mapping.Styled.prototype.initialize.apply(this, [options]);\r\n\t\t\t\tthis.modules = [];\r\n\t\t\t\tthis.elementInfos = [];\r\n\t\t\t\tthis.typeInfos = {};\r\n\t\t\t\tthis.typeNameKeyToTypeInfo = {};\r\n\t\t\t\tthis.registerBuiltinTypeInfos();\r\n\t\t\t\tthis.namespacePrefixes = {};\r\n\t\t\t\tthis.prefixNamespaces = {};\r\n\t\t\t\tthis.substitutionMembersMap = {};\r\n\t\t\t\tthis.scopedElementInfosMap = {};\r\n\r\n\t\t\t\t// Initialize options\r\n\t\t\t\tif (Jsonix.Util.Type.exists(options)) {\r\n\t\t\t\t\tJsonix.Util.Ensure.ensureObject(options);\r\n\t\t\t\t\tif (Jsonix.Util.Type\r\n\t\t\t\t\t\t\t.isObject(options.namespacePrefixes)) {\r\n\t\t\t\t\t\tthis.namespacePrefixes = \r\n\t\t\t\t\t\t\tJsonix.Util.Type.cloneObject(options.namespacePrefixes, {});\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (Jsonix.Util.Type\r\n\t\t\t\t\t\t\t.isBoolean(options.supportXsiType)) {\r\n\t\t\t\t\t\tthis.supportXsiType = options.supportXsiType; \r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t// Initialize prefix/namespace mapping\r\n\t\t\t\tfor (var ns in this.namespacePrefixes)\r\n\t\t\t\t{\r\n\t\t\t\t\tif (this.namespacePrefixes.hasOwnProperty(ns))\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tp = this.namespacePrefixes[ns];\r\n\t\t\t\t\t\tthis.prefixNamespaces[p] = ns;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t// Initialize modules\r\n\t\t\t\tif (Jsonix.Util.Type.exists(mappings)) {\r\n\t\t\t\t\tJsonix.Util.Ensure.ensureArray(mappings);\r\n\t\t\t\t\t// Initialize modules\r\n\t\t\t\t\tvar index, mapping, module;\r\n\t\t\t\t\tfor (index = 0; index < mappings.length; index++) {\r\n\t\t\t\t\t\tmapping = mappings[index];\r\n\t\t\t\t\t\tmodule = this.createModule(mapping);\r\n\t\t\t\t\t\tthis.modules[index] = module;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tthis.processModules();\r\n\t\t\t},\r\n\t\t\tcreateModule : function(mapping) {\r\n\t\t\t\tvar module;\r\n\t\t\t\tif (mapping instanceof this.mappingStyle.module) {\r\n\t\t\t\t\tmodule = mapping;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tmapping = Jsonix.Util.Type.cloneObject(mapping);\r\n\t\t\t\t\tmodule = new this.mappingStyle.module(mapping, \r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tmappingStyle : this.mappingStyle\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\treturn module;\r\n\t\t\t},\r\n\t\t\tregisterBuiltinTypeInfos : function() {\r\n\t\t\t\tfor ( var index = 0; index < this.builtinTypeInfos.length; index++) {\r\n\t\t\t\t\tthis.registerTypeInfo(this.builtinTypeInfos[index]);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tprocessModules : function() {\r\n\t\t\t\tvar index, module;\r\n\t\t\t\tfor (index = 0; index < this.modules.length; index++) {\r\n\t\t\t\t\tmodule = this.modules[index];\r\n\t\t\t\t\tmodule.registerTypeInfos(this);\r\n\t\t\t\t}\r\n\t\t\t\tfor (index = 0; index < this.modules.length; index++) {\r\n\t\t\t\t\tmodule = this.modules[index];\r\n\t\t\t\t\tmodule.registerElementInfos(this);\r\n\t\t\t\t}\r\n\t\t\t\tfor (index = 0; index < this.modules.length; index++) {\r\n\t\t\t\t\tmodule = this.modules[index];\r\n\t\t\t\t\tmodule.buildTypeInfos(this);\r\n\t\t\t\t}\r\n\t\t\t\tfor (index = 0; index < this.modules.length; index++) {\r\n\t\t\t\t\tmodule = this.modules[index];\r\n\t\t\t\t\tmodule.buildElementInfos(this);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tregisterTypeInfo : function(typeInfo) {\r\n\t\t\t\tJsonix.Util.Ensure.ensureObject(typeInfo);\r\n\t\t\t\tvar n = typeInfo.name||typeInfo.n||null;\r\n\t\t\t\tJsonix.Util.Ensure.ensureString(n);\r\n\t\t\t\tthis.typeInfos[n] = typeInfo;\r\n\t\t\t\tif (typeInfo.typeName && typeInfo.typeName.key)\r\n\t\t\t\t{\r\n\t\t\t\t\tthis.typeNameKeyToTypeInfo[typeInfo.typeName.key] = typeInfo;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tresolveTypeInfo : function(mapping, module) {\r\n\t\t\t\tif (!Jsonix.Util.Type.exists(mapping)) {\r\n\t\t\t\t\treturn null;\r\n\t\t\t\t} else if (mapping instanceof Jsonix.Model.TypeInfo) {\r\n\t\t\t\t\treturn mapping;\r\n\t\t\t\t} else if (Jsonix.Util.Type.isString(mapping)) {\r\n\t\t\t\t\tvar typeInfoName;\r\n\t\t\t\t\t// If mapping starts with '.' consider it to be a local type name in this module\r\n\t\t\t\t\tif (mapping.length > 0 && mapping.charAt(0) === '.')\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tvar n = module.name || module.n || undefined;\r\n\t\t\t\t\t\tJsonix.Util.Ensure.ensureObject(module, 'Type info mapping can only be resolved if module is provided.');\r\n\t\t\t\t\t\tJsonix.Util.Ensure.ensureString(n, 'Type info mapping can only be resolved if module name is provided.');\r\n\t\t\t\t\t\ttypeInfoName = n + mapping;\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttypeInfoName = mapping;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (!this.typeInfos[typeInfoName]) {\r\n\t\t\t\t\t\tthrow new Error('Type info [' + typeInfoName + '] is not known in this context.');\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\treturn this.typeInfos[typeInfoName];\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tJsonix.Util.Ensure.ensureObject(module, 'Type info mapping can only be resolved if module is provided.');\r\n\t\t\t\t\tvar typeInfo = module.createTypeInfo(mapping);\r\n\t\t\t\t\ttypeInfo.build(this, module);\r\n\t\t\t\t\treturn typeInfo;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tregisterElementInfo : function(elementInfo, module) {\r\n\t\t\t\tJsonix.Util.Ensure.ensureObject(elementInfo);\r\n\t\t\t\tthis.elementInfos.push(elementInfo);\r\n\r\n\t\t\t\tif (Jsonix.Util.Type.exists(elementInfo.substitutionHead)) {\r\n\t\t\t\t\tvar substitutionHead = elementInfo.substitutionHead;\r\n\t\t\t\t\tvar substitutionHeadKey = substitutionHead.key;\r\n\t\t\t\t\tvar substitutionMembers = this.substitutionMembersMap[substitutionHeadKey];\r\n\r\n\t\t\t\t\tif (!Jsonix.Util.Type.isArray(substitutionMembers)) {\r\n\t\t\t\t\t\tsubstitutionMembers = [];\r\n\t\t\t\t\t\tthis.substitutionMembersMap[substitutionHeadKey] = substitutionMembers;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tsubstitutionMembers.push(elementInfo);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar scopeKey;\r\n\t\t\t\tif (Jsonix.Util.Type.exists(elementInfo.scope)) {\r\n\t\t\t\t\tscopeKey = this.resolveTypeInfo(elementInfo.scope, module).name;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tscopeKey = '##global';\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar scopedElementInfos = this.scopedElementInfosMap[scopeKey];\r\n\r\n\t\t\t\tif (!Jsonix.Util.Type.isObject(scopedElementInfos)) {\r\n\t\t\t\t\tscopedElementInfos = {};\r\n\t\t\t\t\tthis.scopedElementInfosMap[scopeKey] = scopedElementInfos;\r\n\t\t\t\t}\r\n\t\t\t\tscopedElementInfos[elementInfo.elementName.key] = elementInfo;\r\n\r\n\t\t\t},\r\n\t\t\tgetTypeInfoByValue : function(value)\r\n\t\t\t{\r\n\t\t\t\tif (!Jsonix.Util.Type.exists(value))\r\n\t\t\t\t{\r\n\t\t\t\t\treturn undefined;\r\n\t\t\t\t}\r\n\t\t\t\tif (Jsonix.Util.Type.isObject(value))\r\n\t\t\t\t{\r\n\t\t\t\t\tvar typeName = value.TYPE_NAME;\r\n\t\t\t\t\tif (Jsonix.Util.Type.isString(typeName))\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tvar typeInfoByName = this.getTypeInfoByName(typeName);\r\n\t\t\t\t\t\tif (typeInfoByName)\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\treturn typeInfoByName;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn undefined;\r\n\t\t\t},\r\n\t\t\t// TODO public API\r\n\t\t\tgetTypeInfoByName : function(name) {\r\n\t\t\t\treturn this.typeInfos[name];\r\n\t\t\t},\r\n\t\t\tgetTypeInfoByTypeName : function(typeName) {\r\n\t\t\t\tvar tn = Jsonix.XML.QName.fromObjectOrString(typeName, this);\r\n\t\t\t\treturn this.typeNameKeyToTypeInfo[tn.key];\r\n\t\t\t},\r\n\t\t\tgetTypeInfoByTypeNameKey : function(typeNameKey) {\r\n\t\t\t\treturn this.typeNameKeyToTypeInfo[typeNameKey];\r\n\t\t\t},\r\n\t\t\tgetElementInfo : function(name, scope) {\r\n\t\t\t\tif (Jsonix.Util.Type.exists(scope)) {\r\n\t\t\t\t\tvar scopeKey = scope.name;\r\n\t\t\t\t\tvar scopedElementInfos = this.scopedElementInfosMap[scopeKey];\r\n\t\t\t\t\tif (Jsonix.Util.Type.exists(scopedElementInfos)) {\r\n\t\t\t\t\t\tvar scopedElementInfo = scopedElementInfos[name.key];\r\n\t\t\t\t\t\tif (Jsonix.Util.Type.exists(scopedElementInfo)) {\r\n\t\t\t\t\t\t\treturn scopedElementInfo;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar globalScopeKey = '##global';\r\n\t\t\t\tvar globalScopedElementInfos = this.scopedElementInfosMap[globalScopeKey];\r\n\t\t\t\tif (Jsonix.Util.Type.exists(globalScopedElementInfos)) {\r\n\t\t\t\t\tvar globalScopedElementInfo = globalScopedElementInfos[name.key];\r\n\t\t\t\t\tif (Jsonix.Util.Type.exists(globalScopedElementInfo)) {\r\n\t\t\t\t\t\treturn globalScopedElementInfo;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn null;\r\n\t\t\t\t//\r\n\t\t\t\t// throw new Error(\"Element [\" + name.key\r\n\t\t\t\t// + \"] could not be found in the given context.\");\r\n\t\t\t},\r\n\t\t\tgetSubstitutionMembers : function(name) {\r\n\t\t\t\treturn this.substitutionMembersMap[Jsonix.XML.QName\r\n\t\t\t\t\t\t.fromObject(name).key];\r\n\t\t\t},\r\n\t\t\tcreateMarshaller : function() {\r\n\t\t\t\treturn new this.mappingStyle.marshaller(this);\r\n\t\t\t},\r\n\t\t\tcreateUnmarshaller : function() {\r\n\t\t\t\treturn new this.mappingStyle.unmarshaller(this);\r\n\t\t\t},\r\n\t\t\tgetNamespaceURI : function(prefix) {\r\n\t\t\t\tJsonix.Util.Ensure.ensureString(prefix);\r\n\t\t\t\treturn this.prefixNamespaces[prefix];\r\n\t\t\t},\r\n\t\t\tgetPrefix : function(namespaceURI, defaultPrefix) {\r\n\t\t\t\tJsonix.Util.Ensure.ensureString(namespaceURI);\r\n\t\t\t\tvar prefix = this.namespacePrefixes[namespaceURI];\r\n\t\t\t\tif (Jsonix.Util.Type.isString(prefix))\r\n\t\t\t\t{\r\n\t\t\t\t\treturn prefix;\r\n\t\t\t\t}\r\n\t\t\t\telse\r\n\t\t\t\t{\r\n\t\t\t\t\treturn defaultPrefix;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t/**\r\n\t\t\t * Builtin type infos.\r\n\t\t\t */\r\n\t\t\tbuiltinTypeInfos : [\r\n\t\t\t        Jsonix.Schema.XSD.AnyType.INSTANCE,\r\n\t\t\t        Jsonix.Schema.XSD.AnySimpleType.INSTANCE,\r\n\t\t\t\t\tJsonix.Schema.XSD.AnyURI.INSTANCE,\r\n\t\t\t\t\tJsonix.Schema.XSD.Base64Binary.INSTANCE,\r\n\t\t\t\t\tJsonix.Schema.XSD.Boolean.INSTANCE,\r\n\t\t\t\t\tJsonix.Schema.XSD.Byte.INSTANCE,\r\n\t\t\t\t\tJsonix.Schema.XSD.Calendar.INSTANCE,\r\n\t\t\t\t\tJsonix.Schema.XSD.DateAsDate.INSTANCE,\r\n\t\t\t\t\tJsonix.Schema.XSD.Date.INSTANCE,\r\n\t\t\t\t\tJsonix.Schema.XSD.DateTimeAsDate.INSTANCE,\r\n\t\t\t\t\tJsonix.Schema.XSD.DateTime.INSTANCE,\r\n\t\t\t\t\tJsonix.Schema.XSD.Decimal.INSTANCE,\r\n\t\t\t\t\tJsonix.Schema.XSD.Double.INSTANCE,\r\n\t\t\t\t\tJsonix.Schema.XSD.Duration.INSTANCE,\r\n\t\t\t\t\tJsonix.Schema.XSD.Float.INSTANCE,\r\n\t\t\t\t\tJsonix.Schema.XSD.GDay.INSTANCE,\r\n\t\t\t\t\tJsonix.Schema.XSD.GMonth.INSTANCE,\r\n\t\t\t\t\tJsonix.Schema.XSD.GMonthDay.INSTANCE,\r\n\t\t\t\t\tJsonix.Schema.XSD.GYear.INSTANCE,\r\n\t\t\t\t\tJsonix.Schema.XSD.GYearMonth.INSTANCE,\r\n\t\t\t\t\tJsonix.Schema.XSD.HexBinary.INSTANCE,\r\n\t\t\t\t\tJsonix.Schema.XSD.ID.INSTANCE,\r\n\t\t\t\t\tJsonix.Schema.XSD.IDREF.INSTANCE,\r\n\t\t\t\t\tJsonix.Schema.XSD.IDREFS.INSTANCE,\r\n\t\t\t\t\tJsonix.Schema.XSD.Int.INSTANCE,\r\n\t\t\t\t\tJsonix.Schema.XSD.Integer.INSTANCE,\r\n\t\t\t\t\tJsonix.Schema.XSD.Language.INSTANCE,\r\n\t\t\t\t\tJsonix.Schema.XSD.Long.INSTANCE,\r\n\t\t\t\t\tJsonix.Schema.XSD.Name.INSTANCE,\r\n\t\t\t\t\tJsonix.Schema.XSD.NCName.INSTANCE,\r\n\t\t\t\t\tJsonix.Schema.XSD.NegativeInteger.INSTANCE,\r\n\t\t\t\t\tJsonix.Schema.XSD.NMToken.INSTANCE,\r\n\t\t\t\t\tJsonix.Schema.XSD.NMTokens.INSTANCE,\r\n\t\t\t\t\tJsonix.Schema.XSD.NonNegativeInteger.INSTANCE,\r\n\t\t\t\t\tJsonix.Schema.XSD.NonPositiveInteger.INSTANCE,\r\n\t\t\t\t\tJsonix.Schema.XSD.NormalizedString.INSTANCE,\r\n\t\t\t\t\tJsonix.Schema.XSD.Number.INSTANCE,\r\n\t\t\t\t\tJsonix.Schema.XSD.PositiveInteger.INSTANCE,\r\n\t\t\t\t\tJsonix.Schema.XSD.QName.INSTANCE,\r\n\t\t\t\t\tJsonix.Schema.XSD.Short.INSTANCE,\r\n\t\t\t\t\tJsonix.Schema.XSD.String.INSTANCE,\r\n\t\t\t\t\tJsonix.Schema.XSD.Strings.INSTANCE,\r\n\t\t\t\t\tJsonix.Schema.XSD.TimeAsDate.INSTANCE,\r\n\t\t\t\t\tJsonix.Schema.XSD.Time.INSTANCE,\r\n\t\t\t\t\tJsonix.Schema.XSD.Token.INSTANCE,\r\n\t\t\t\t\tJsonix.Schema.XSD.UnsignedByte.INSTANCE,\r\n\t\t\t\t\tJsonix.Schema.XSD.UnsignedInt.INSTANCE,\r\n\t\t\t\t\tJsonix.Schema.XSD.UnsignedLong.INSTANCE,\r\n\t\t\t\t\tJsonix.Schema.XSD.UnsignedShort.INSTANCE ],\r\n\t\t\tCLASS_NAME : 'Jsonix.Context'\r\n\t\t});\r\n\t// Complete Jsonix script is included above\r\n\treturn { Jsonix: Jsonix };\r\n};\r\n\r\n// If the require function exists ...\r\nif (typeof require === 'function') {\r\n\t// ... but the define function does not exists\r\n\tif (typeof define !== 'function') {\r\n\t\tif (!process.browser) {\r\n\t\t\t// Load the define function via amdefine\r\n\t\t\tdefine = require('amdefine')(module);\r\n\t\t\t// Require xmldom, xmlhttprequest and fs\r\n\t\t\tdefine([\"xmldom\", \"xmlhttprequest\", \"fs\"], _jsonix_factory);\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\t// We're probably in browser, maybe browserify\r\n\t\t\t// Do not require xmldom, xmlhttprequest as they'r provided by the browser\r\n\t\t\t// Do not require fs since file system is not available anyway\r\n\t\t\tdefine([], _jsonix_factory);\r\n\t\t}\r\n\t}\r\n\telse {\r\n\t\t// Otherwise assume we're in the browser/RequireJS environment\r\n\t\t// Load the module without xmldom and xmlhttprequests dependencies\r\n\t\tdefine([], _jsonix_factory);\r\n\t}\r\n}\r\n// If the require function does not exists, we're not in Node.js and therefore in browser environment\r\nelse\r\n{\r\n\t// Just call the factory and set Jsonix as global.\r\n\tvar Jsonix = _jsonix_factory().Jsonix;\r\n}\r\n","import { Scesim } from '../../types/SceSim';\n\nconst Jsonix = require('./jsonix').Jsonix;\n\n// Load the schema rules\nconst SceSimRules = require('../../rules/scesim').scesim;\nconst DmnRules = require('../../rules/dmn').dmn;\n\n// Construct a Jsonix context - a factory for unmarshaller (parser) and marshaller (serializer)\nconst sceSimContext = new Jsonix.Context([SceSimRules]);\nconst dmnContext = new Jsonix.Context([DmnRules]);\n\n// Create an unmarshaller (scesim => json)\nconst sceSimUnmarshaller = sceSimContext.createUnmarshaller();\nconst dmnUnmarshaller = dmnContext.createUnmarshaller();\n\n// Create a marshaller (json => scesim)\nconst sceSimMarshaller = sceSimContext.createMarshaller();\nconst dmnMarshaller = dmnContext.createMarshaller();\n\n/**\n * Convert a scesim XML string into JSON\n */\nexport const getJsonFromSceSim = (scesim: string) => {\n  const unmarshalled = sceSimUnmarshaller.unmarshalString(scesim);\n  // console.log(unmarshalled);\n  return unmarshalled;\n}\n\n/**\n * Convert JSON to scesim XML string\n */\nexport const setSceSimFromJson = (json: Scesim) => {\n  const marshalled = sceSimMarshaller.marshalString(json);\n  // console.log(marshalled);\n  return marshalled;\n}\n\n/**\n * \n * @param dmn Convert dmn XML string into JSON\n */\nexport const getJsonFromDmn = (dmn: string) => {\n  const unmarshalled = dmnUnmarshaller.unmarshalString(dmn);\n  // console.log(unmarshalled);\n  return unmarshalled;\n}\n\n/**\n * Convert JSON to dmn XML string\n */\nexport const setDmnFromJson = (json: any) => {\n  const marshalled = dmnMarshaller.marshalString(json);\n  // console.log(marshalled);\n  return marshalled;\n}"," import { useEffect } from 'react';\n\nexport const useKeyPress = (targetKey: any, fn: any, options?: any) => {\n  useEffect(() => {\n    const ref = (options && options.hasOwnProperty('ref')) ? options.ref : null;\n    const id = (options && options.hasOwnProperty('id')) ? options.id : null;\n    const withModifier = (options && options.hasOwnProperty('withModifier')) ? options.withModifier : false;\n    const withShift = (options && options.hasOwnProperty('withShift')) ? options.withShift : false;\n    const isActive = (options && options.hasOwnProperty('isActive')) ? options.isActive : true;\n    // const log = (options && options.hasOwnProperty('log')) ? options.log : '';\n    \n    if (isActive === false) {\n      return;\n    }\n    function downHandler(event: any) {\n      const { key, keyCode } = event;\n      if (id && event.target.getAttribute('id') !== id) {\n        return;\n      }\n      if (!withModifier && (event.ctrlKey || event.metaKey)) {\n        // ignore key combination like ctrl+c/command+c unless we specifically asked to use with modifier\n        return;\n      }\n      if (\n        (typeof targetKey === 'string' && key === targetKey) || \n        (typeof targetKey === 'number' && keyCode === targetKey) || \n        (targetKey.test && targetKey.test(key))) {\n          if (withModifier && !withShift) {\n            if ((event.ctrlKey || event.metaKey) && !event.shiftKey) {\n              fn(event);\n            }\n          } else if (!withModifier && withShift) {\n            if (!event.ctrlKey && !event.metaKey && event.shiftKey) {\n              fn(event);\n            }\n          } else if (withModifier && withShift) {\n            if ((event.ctrlKey || event.metaKey) && event.shiftKey) {\n              fn(event);\n            }\n          } else {\n            fn(event);\n          }\n      }\n    }\n    if (ref && ref.current) {\n      // console.log(`add event listener ${log} - ref`);\n      ref.current.addEventListener('keydown', downHandler);\n    } else {\n      // console.log(`add event listener ${log} - window`);\n      window.addEventListener('keydown', downHandler);\n    }\n    return () => {\n      if (ref && ref.current) {\n        // console.log(`remove event listener ${log} - ref`);\n        ref.current.removeEventListener('keydown', downHandler);\n      } else {\n        // console.log(`remove event listener ${log} - window`);\n        window.removeEventListener('keydown', downHandler);\n      }\n    };\n  });\n};","export const setCaretPosition = (element: any, caretPos: number) => {\n  // (el.selectionStart === 0 added for Firefox bug)\n  if (element.selectionStart || element.selectionStart === 0) {\n    element.focus();\n    element.setSelectionRange(caretPos, caretPos);\n    return true;\n  }\n  return false;\n}\n\nexport const setCaretPositionAtEnd = (element: HTMLInputElement) => {\n  const end = element.value.length;\n  setCaretPosition(element, end);\n};\n\nexport const focusCell = (id: string, focusTimeout: number = 1, scrollTo: boolean = false) => {\n  const element = document.getElementById(id);\n  if (element) {\n    scrollTo && element.scrollIntoView({behavior: 'smooth', block: 'end', inline: 'nearest'});\n    setTimeout(() => {\n      element.focus();\n    }, focusTimeout)\n  }\n}\n\nexport const getRowColumnFromId = (id: string) => {\n  const currentIdArr: string[] = id.split(' ');\n  const row = Number.parseInt(currentIdArr[1]);\n  const column = Number.parseInt(currentIdArr[3]);\n  return {\n    row,\n    column\n  }\n}","// https://dev.to/gabe_ragland/debouncing-with-react-hooks-jci\n\nimport React, { useState, useEffect } from 'react';\n\n// Our hook\nexport function useDebounce(value: string, delay: number) {\n  // State and setters for debounced value\n  const [debouncedValue, setDebouncedValue] = useState(value);\n\n  useEffect(\n    () => {\n      // Set debouncedValue to value (passed in) after the specified delay\n      const handler = setTimeout(() => {\n        setDebouncedValue(value);\n      }, delay);\n\n      // Return a cleanup function that will be called every time ...\n      // ... useEffect is re-called. useEffect will only be re-called ...\n      // ... if value changes (see the inputs array below). \n      // This is how we prevent debouncedValue from changing if value is ...\n      // ... changed within the delay period. Timeout gets cleared and restarted.\n      // To put it in context, if the user is typing within our app's ...\n      // ... search box, we don't want the debouncedValue to update until ...\n      // ... they've stopped typing for more than 500ms.\n      return () => {\n        clearTimeout(handler);\n      };\n    },\n    // Only re-call effect if value changes\n    // You could also add the \"delay\" var to inputs array if you ...\n    // ... need to be able to change that dynamically.\n    [value] \n  );\n\n  return debouncedValue;\n}","import * as React from \"react\";\nimport { Tooltip } from '@patternfly/react-core';\nimport { useKeyPress, setCaretPositionAtEnd, focusCell  } from '../utils'; \nimport './Input.css';\n\nconst Input = React.memo<{ \n  originalValue: any, \n  path: string, \n  id?: any, \n  type?: string, \n  isReadOnly: boolean,\n  deactivateAndFocusCell: any,\n  setEditable: any,\n  onSave: any\n}>(({ \n  originalValue, \n  path, \n  id, \n  type, \n  isReadOnly, \n  deactivateAndFocusCell, \n  setEditable, \n  onSave\n}) => {\n  // console.log(`render Input`);\n  const [value, setValue] = React.useState<any>(originalValue);\n  const [savedValue, setSavedValue] = React.useState<any>(originalValue);\n  const [overflown, setOverflown] = React.useState<boolean>(false);\n  // const [changes, setChanges] = React.useState<any[]>([]);\n  const [isReadOnlyState, setReadOnlyState] = React.useState<boolean>(isReadOnly);\n\n  React.useEffect(() => {\n    // sync prop to state\n    if (isReadOnly !== isReadOnlyState) {\n      setReadOnlyState(isReadOnly);\n    }\n  }, [isReadOnly]);\n\n  React.useEffect(() => {\n    if (isReadOnlyState) {\n      // update cell on data changes coming from EditorContainer -> Editor\n      if (value !== originalValue) {\n        setValue(originalValue);\n        setSavedValue(originalValue);\n      }\n    }\n  }, [originalValue]);\n\n  /**\n   * Returns the current DOM element\n   * \n   * TODO: Possibly change to React refs\n   */\n  const thisElement = () => {\n    return document.getElementById(id) as HTMLInputElement;\n  }\n\n  React.useEffect(() => {\n    if (!isReadOnlyState) {\n      // set caret at the end of the input\n      setTimeout(() => {\n        setCaretPositionAtEnd(thisElement());\n      }, 1);\n    }\n  });\n\n  /**\n   * Set the value on input\n   */\n  const handleTextInputChange = (event: any) => {\n    setValue(event.currentTarget.value);\n  }\n\n  /**\n   * Saves the current value\n   */\n  const save = () => {\n    if (savedValue !== value) {\n      // setChanges((prevState: any) => ([...prevState, {\n      //   value,\n      //   previousValue: savedValue\n      // }]));\n      setSavedValue(value);\n      onSave && onSave(id, value, originalValue);\n    }\n  };\n\n  /**\n   * save current input\n   */\n  const onEnter = (event: any) => {\n    // save operation\n    save();\n    // mark itself as not editable but maintain focus\n    // deactivateAndFocusCell(event.target.id);\n    setEditable('');\n    setReadOnlyState(true);\n  };\n\n  /**\n   * Reverts input to previous saved value if changed\n   */\n  const onEscape = (event: any) => {\n    if (savedValue !== value) {\n      setValue(savedValue);\n    }\n    // mark itself as not editable but maintain focus\n    // deactivateAndFocusCell(event.target.id);\n    setEditable('');\n    setReadOnlyState(true);\n  };\n\n  useKeyPress('Escape', onEscape, { \n    log: 'input',\n    id,\n    isActive: !isReadOnlyState\n  });\n  useKeyPress('Enter', onEnter, { \n    log: 'input',\n    id,\n    isActive: !isReadOnlyState\n  });\n\n  /**\n   * When the element loses focus\n   * Save the value and notify the Editor that we're not editable anymore\n   */\n  const onLoseFocus = (event: any) => {\n    if (!isReadOnlyState) {\n      setReadOnlyState(true);\n      // setEditable('');\n      save();\n    }\n  };\n\n  /**\n   * Check if the element is overflown\n   */\n  const checkForOverflow = (event?: any) => {\n    const element = event ? event.target : thisElement();\n    const isOverflown = element.scrollHeight > element.clientHeight || element.scrollWidth > element.clientWidth;\n    setOverflown(isOverflown);\n  }\n\n  const input = (\n    <input \n      onMouseOver={checkForOverflow}\n      className=\"editor-input truncate\" \n      style={{ cursor: isReadOnlyState ? 'default' : 'text', textAlign: type === 'string' ? 'left' : 'center' }} \n      value={value} \n      type=\"text\" \n      onChange={handleTextInputChange}\n      onBlur={onLoseFocus}\n      aria-label={value} \n      id={id} \n      readOnly={isReadOnlyState}\n    />\n  );\n  return <Tooltip content={value} distance={0} exitDelay={0} trigger={overflown ? 'mouseenter focus' : 'manual'}>{input}</Tooltip>;\n}, (prevProps, nextProps) => {\n  const shouldRerender = (prevProps.isReadOnly !== nextProps.isReadOnly) || (prevProps.originalValue !== nextProps.originalValue);\n  if (shouldRerender) {\n    // console.log(`re-render Input ${nextProps.id}`)\n    return false;\n  }\n  return true;\n});\n\n// @ts-ignore\nInput.whyDidYouRender = {\n  customName: 'Input'\n};\n\nexport { Input };\n","import * as React from \"react\";\nimport { Tooltip, Select as PfSelect, SelectOption, SelectVariant, SelectOptionObject } from '@patternfly/react-core';\nimport './Input.css';\nimport './Select.css';\n\nconst Select = React.memo<{ \n  originalValue?: any, \n  path?: string, \n  id?: any, \n  type?: string, \n  isReadOnly?: boolean,\n  onSelectToggleCallback?: any,\n  options?: any,\n  deactivateAndFocusCell?: any,\n  setEditable: any,\n  onSave: any\n}>(({ \n  originalValue, \n  path, \n  id, \n  type, \n  isReadOnly, \n  onSelectToggleCallback, \n  options, \n  deactivateAndFocusCell, \n  setEditable,\n  onSave\n}) => {\n  // console.log('render Select');\n  const [isExpanded, setExpanded] = React.useState<boolean>(true);\n  const [selected, setSelected] = React.useState<any>(originalValue);\n  const [savedSelection, setSavedSelection] = React.useState<any>(originalValue);\n  const [overflown, setOverflown] = React.useState<boolean>(false);\n\n  React.useEffect(() => {\n    // workaround to focus on the first list item to enable keyboard navigation\n    if (!isReadOnly) {\n      onToggle(true);\n      setTimeout(() => {\n        const element = document.querySelector(`button[id=\"${id}\"]`);\n        if (element && element.parentNode && (element.parentNode as HTMLElement).querySelector('.pf-c-select__menu-item')) {\n          ((element.parentNode as HTMLElement).querySelector('.pf-c-select__menu-item') as HTMLButtonElement).focus();\n        }\n      }, 1);\n    }\n  }, [isReadOnly]);\n\n  React.useEffect(() => {\n    setSelected(originalValue);\n    setSavedSelection(originalValue);\n  }, [originalValue]);\n\n  /**\n   * Returns the current DOM element\n   * \n   * TODO: Possibly change to React refs\n   */\n  const thisElement = () => {\n    return document.getElementById(id) as HTMLInputElement;\n  }\n\n  /**\n   * Saves the current value\n   */\n  const save = (selection: string) => {\n    setSelected(selection);\n    if (savedSelection !== selection) {\n      setSavedSelection(selection);\n      onSave && onSave(id, selection, originalValue);\n    }\n  }\n\n  /**\n   * The Select options\n   */\n  const selectOptions = options.map((option: string, index: number) => (\n    <SelectOption key={index} value={option} isSelected />\n  ));\n\n  /**\n   * Toggle the Select\n   */\n  const onToggle = (isExpanded: boolean) => {\n    setExpanded(isExpanded);\n    onSelectToggleCallback(id, isExpanded);\n  };\n\n  /**\n   * Set the selection\n   */\n  const onSelect = (event: React.MouseEvent | React.ChangeEvent, selection: string | SelectOptionObject) => {\n    // close the dropdown\n    onToggle(false);\n    // save operation\n    save(selection as string);\n    // mark itself as not editable but maintain focus\n    setTimeout(() => {\n      deactivateAndFocusCell(id);\n    }, 1)\n  };\n\n  const onKeyDown = (event: any) => {\n    const { key } = event;\n    if (key === 'Escape') {\n      onSelectToggleCallback(false);\n      setTimeout(() => {\n        deactivateAndFocusCell(id);\n      }, 1)\n    }\n  }\n\n  /**\n   * Check if the element is overflown\n   */\n  const checkForOverflow = (event?: any) => {\n    const element = event ? event.target : thisElement();\n    const isOverflown = element.scrollHeight > element.clientHeight || element.scrollWidth > element.clientWidth;\n    setOverflown(isOverflown);\n  }\n\n  return (\n    <>\n      {isReadOnly ? (\n        <Tooltip content={selected} distance={0} exitDelay={0} trigger={overflown ? 'mouseenter focus' : 'manual'}>\n          <input \n            onMouseOver={checkForOverflow}\n            className=\"editor-input truncate\" \n            style={{ cursor: 'default', textAlign: type === 'string' ? 'left' : 'center' }} \n            type=\"text\" \n            value={selected}\n            id={id}\n            aria-label={selected}\n            readOnly\n          />\n        </Tooltip>\n      ) : (\n        <PfSelect\n          toggleId={id}\n          variant={SelectVariant.single}\n          aria-label=\"Select Input\"\n          onToggle={onToggle}\n          onSelect={onSelect}\n          selections={selected}\n          isExpanded={isExpanded}\n          ariaLabelledBy=\"typeahead-select-id\"\n          onKeyDown={onKeyDown}\n        >\n          {selectOptions}\n        </PfSelect>\n      )}\n    </>);\n}, (prevProps, nextProps) => {\n  const shouldRerender = (prevProps.isReadOnly !== nextProps.isReadOnly) || (prevProps.originalValue !== nextProps.originalValue);\n  if (shouldRerender) {\n    console.log(`prevProps ${prevProps.originalValue}, nextProps ${nextProps.originalValue}`);\n    return false;\n  }\n  return true;\n});\n\nexport { Select };\n","/**\n * Loading spinner used when loading the app and when loading the next page for the grid infinite scrolling\n */\nimport * as React from 'react';\nimport { Bullseye, Title } from '@patternfly/react-core';\nimport { Spinner as PfSpinner, SpinnerProps } from '@patternfly/react-core/dist/js/experimental';\n\nconst Spinner: React.SFC<{ text?: string, className?: string, size?: SpinnerProps['size'] }> = ({ text, className, size = 'xl' }) => (\n  <Bullseye className={className}>\n    <div className=\"pf-l-flex pf-m-column\">\n      <div className=\"pf-l-flex__item\" style={{ textAlign: 'center' }}>\n        <PfSpinner size={size} />\n      </div>\n      {text && <div>\n        <Title headingLevel=\"h1\" size=\"xl\" className=\"pf-u-mt-md\">{text}</Title>\n      </div>}\n    </div>\n  </Bullseye>\n);\n\nexport { Spinner };\n","import * as React from 'react';\nimport { useKeyPress, setCaretPositionAtEnd, focusCell } from \"../utils\";\nimport InfiniteScroll from 'react-infinite-scroll-component';\nimport { Spinner } from '../Spinner';\nimport { Input, Select } from '../Cell';\nimport \"./Editor.css\";\n\nconst Editor = React.memo<{ \n  columns: any, \n  filteredRows : any, \n  definitions: any, \n  columnNames: any,\n  onSave: any,\n  onUndo: any,\n  onRedo: any,\n  lastForcedUpdate: string,\n  readOnly: boolean\n}>(({ \n  columns: columnDefs, \n  filteredRows, \n  definitions, \n  columnNames,\n  onSave,\n  onUndo,\n  onRedo,\n  lastForcedUpdate,\n  readOnly\n}) => {\n  console.log('render Editor');\n\n  const rowsToFetch = 50;\n\n  const [editableCell, setEditable] = React.useState<string>('');\n  const [expandedSelect, setExpandedSelect] = React.useState(false);\n  const [currentPage, setCurrentPage] = React.useState(1);\n\n  // state from props\n  const [columnDefsState, setColumnDefsState] = React.useState(columnDefs);\n  const [fetchedRows, setFetchedRows] = React.useState(filteredRows.slice(0, rowsToFetch));\n  const [definitionsState, setDefinitionsState] = React.useState(definitions);\n  const [columnNamesState, setColumnNamesState] = React.useState(columnNames);\n  const [lastForcedUpdateState, setLastForcedUpdateState] = React.useState(lastForcedUpdate);\n\n  const editorRef = React.useRef(null);\n\n  React.useEffect(() => {\n    setTimeout(() => {\n      setNumGivenColumns(columnDefs.numGiven);\n      setNumExpectColumns(columnDefs.numExpect);\n    }, 1)\n  }, [columnDefs]);\n\n  React.useEffect(() => {\n    // render depends on updated value of fetchedRows\n    if (JSON.stringify(columnDefsState) !== JSON.stringify(columnDefs)) {\n      setColumnDefsState(columnDefs);\n    }\n    if (lastForcedUpdateState !== lastForcedUpdate || JSON.stringify(fetchedRows) !== JSON.stringify(filteredRows.slice(0, rowsToFetch))) {\n      setFetchedRows(filteredRows.slice(0, rowsToFetch));\n    }\n    if (JSON.stringify(definitionsState) !== JSON.stringify(definitions)) {\n      setDefinitionsState(definitions);\n    }\n    if (JSON.stringify(columnNamesState) !== JSON.stringify(columnNames)) {\n      setColumnNamesState(columnNames);\n    }\n  }, [columnDefs, filteredRows, definitions, columnNames, lastForcedUpdate]);\n\n  const setNumGivenColumns = (num: number) => {\n    document\n      .getElementById(\"kie-grid\")!\n      .style.setProperty(\"--num-given-columns\", num.toString());\n  };\n\n  const setNumExpectColumns = (num: number) => {\n    document\n      .getElementById(\"kie-grid\")!\n      .style.setProperty(\"--num-expect-columns\", num.toString());\n  };\n\n  const activateCell = (id: string) => {\n    if (id) {\n      setEditable(id);\n    }\n  }\n\n  const deactivateCell = () => {\n    setEditable('');\n  }\n\n  const activateAndFocusCell = (id: string) => {\n    activateCell(id);\n    focusCell(id);\n  }\n\n  const deactivateAndFocusCell = (id: string) => {\n    deactivateCell(); // expensive, causes re-renders?\n    focusCell(id);\n  }\n\n  const onCellClick = (event: any) => {\n    const { id } = event.target;\n    if (id === editableCell) {\n      // already active\n      return null;\n    }\n    if (editableCell) {\n      // get out of a previous cell editing mode\n      deactivateCell();\n    }\n    return id;\n  };\n\n  /**\n   * Enter editing mode\n   */\n  const onCellDoubleClick = (event: any) => {\n    if (readOnly) {\n      return;\n    }\n    const id = onCellClick(event);\n    if (id) {\n      activateAndFocusCell(id);\n    }\n  }\n\n  /**\n   * Enter editing mode\n   */\n  const onEnter = (event: any) => {\n    // don't want Input's onEnter listener to fire\n    event.stopPropagation();\n    onCellDoubleClick(event);\n  };\n\n  /**\n   * Up arrow key\n   */\n  const onUpKeyPress = (event: any) => {\n    const activeElement = (document && document.activeElement && document.activeElement.getAttribute('id')) || '';\n    if (expandedSelect) {\n      return;\n    }\n    if (editableCell) {\n      return;\n    }\n    const currentId = activeElement;\n    const minRow = 0;\n    let targetId;\n    if (currentId) {\n      // ['row', '1', 'column', '2']\n      const currentIdArr: string[] = currentId.split(' ');\n      const currentRow = Number.parseInt(currentIdArr[1]);\n      // going up means decrementing the row\n      const newRow = currentRow - 1;\n      if (newRow < minRow) {\n        return;\n      } else {\n        targetId = `row ${newRow} column ${currentIdArr[3]}`;\n        focusCell(targetId);\n      }\n    }\n  };\n\n  /**\n   * Down arrow key\n   */\n  const onDownKeyPress = (event: any) => {\n    const activeElement = (document && document.activeElement && document.activeElement.getAttribute('id')) || '';\n    if (expandedSelect) {\n      return;\n    }\n    if (editableCell) {\n      return;\n    }\n    const currentId = activeElement;\n    const maxRow = filteredRows.length - 1;\n    let targetId;\n    if (currentId) {\n      // ['row', '1', 'column', '2']\n      const currentIdArr: string[] = currentId.split(' ');\n      const currentRow = Number.parseInt(currentIdArr[1]);\n      // going down means incrementing the row\n      const newRow = currentRow + 1;\n      if (newRow > maxRow) {\n        return;\n      } else {\n        targetId = `row ${newRow} column ${currentIdArr[3]}`;\n        focusCell(targetId);\n      }\n    }\n  };\n\n  /**\n   * Left arrow key\n   */\n  const onLeftKeyPress = (event: any) => {\n    const activeElement = (document && document.activeElement && document.activeElement.getAttribute('id')) || '';\n    if (expandedSelect) {\n      return;\n    }\n    if (editableCell) {\n      return;\n    }\n    const currentId = activeElement;\n    const minCol = 1;\n    let targetId;\n    if (currentId) {\n      // ['row', '1', 'column', '2']\n      const currentIdArr: string[] = currentId.split(' ');\n      const currentCol = Number.parseInt(currentIdArr[3]);\n      // going left means decrementing the column\n      const newCol = currentCol - 1;\n      if (newCol < minCol) {\n        return;\n      } else {\n        targetId = `row ${currentIdArr[1]} column ${newCol}`;\n        focusCell(targetId);\n      }\n    }\n  };\n\n  /**\n   * Right arrow key\n   */\n  const onRightKeyPress = (event: any) => {\n    const activeElement = (document && document.activeElement && document.activeElement.getAttribute('id')) || '';\n    if (expandedSelect) {\n      return;\n    }\n    if (editableCell) {\n      return;\n    }\n    const currentId = activeElement;\n    const maxCol = columnDefs.numGiven + columnDefs.numExpect + 1;\n    let targetId;\n    if (currentId) {\n      // ['row', '1', 'column', '2']\n      const currentIdArr: string[] = currentId.split(' ');\n      const currentCol = Number.parseInt(currentIdArr[3]);\n      // going right means incrementing the column\n      const newCol = currentCol + 1;\n      if (newCol > maxCol) {\n        return;\n      } else {\n        targetId = `row ${currentIdArr[1]} column ${newCol}`;\n        focusCell(targetId);\n      }\n    }\n  };\n\n  /**\n   * Copy cell listener\n   */\n  const onCopy = (event: any) => {\n    /* Get the text field */\n    const copyText = event.target;\n    if (copyText && copyText.select) {\n      /* Select the text field */\n      copyText.select();\n      copyText.setSelectionRange(0, 99999); /*For mobile devices*/\n      /* Copy the text inside the text field */\n      document.execCommand('copy');\n      // do not mark the whole text as selected\n      setCaretPositionAtEnd(copyText);\n    }\n  };\n\n  // Command + C / CTRL + C copies the focused cell content\n  useKeyPress(/c/i, onCopy, { log: 'editor', withModifier: true });\n  // Command + Z / CTRL + Z undo the last change\n  useKeyPress(/z/i, onUndo, { log: 'editor', withModifier: true, isActive: !readOnly });\n  // Command + Shift + Z / CTRL + Shift + Z undo the last change\n  useKeyPress(/z/i, onRedo, { log: 'editor', withModifier: true, withShift: true, isActive: !readOnly });\n  useKeyPress('Enter', onEnter, { log: 'editor', isActive: (!editableCell && !readOnly) });\n  useKeyPress(38, onUpKeyPress, { log: 'editor' });\n  useKeyPress(40, onDownKeyPress, { log: 'editor' });\n  useKeyPress(37, onLeftKeyPress, { log: 'editor' });\n  useKeyPress(39, onRightKeyPress, { log: 'editor' });\n\n  const onSelectToggleCallback = (id: any, isExpanded: boolean) => {\n    setExpandedSelect(isExpanded);\n  };\n\n  // rowData\n  const fetchMoreRows = (page?: number) => {\n    if (page) {\n      setFetchedRows((prevState: any) => ([...prevState, ...filteredRows.slice(page * rowsToFetch, page * rowsToFetch + rowsToFetch)]));\n    } else {\n      setFetchedRows((prevState: any) => ([...prevState, ...filteredRows.slice(currentPage * rowsToFetch, currentPage * rowsToFetch + rowsToFetch)]));\n      setCurrentPage(currentPage + 1);\n    }\n  };\n  \n  // console.log(fetchedRows);\n  // console.log(columnNamesState);\n  return !fetchedRows ? null : (\n    <>\n      <div id=\"kie-grid\" className=\"kie-grid\" ref={editorRef}>\n        {columnDefsState.other.map((other: { name: string }, index: number) => {\n          if (index === 0) {\n            return <div className=\"kie-grid__item kie-grid__number\" key=\"other-number\">{other.name}</div>\n          } else {\n            return (\n              <div className=\"kie-grid__item kie-grid__description\" key=\"other-description\">{other.name}</div>\n            )\n          }\n        })}\n        {/* The GIVEN and EXPECT groups are always there so this can be hardcoded */}\n        <div className=\"kie-grid__header--given\">\n          <div className=\"kie-grid__item kie-grid__given\">GIVEN</div>\n        </div>\n        <div className=\"kie-grid__header--expect\">\n          <div className=\"kie-grid__item kie-grid__expect\">EXPECT</div>\n        </div>\n\n        {/* <!-- grid instance headers need to have a grid-column span set --> */}\n        <div className=\"kie-grid__header--given\">\n          {columnDefsState.given.map((given: any, index: number) => (\n            <div\n              key={`given instance ${index}`}\n              className=\"kie-grid__item kie-grid__instance\"\n              style={{ gridColumn: `span ${given.children.length}` }}\n            >\n              {given.group}\n            </div>\n          ))}\n        </div>\n\n        <div className=\"kie-grid__header--expect\">\n          {columnDefsState.expect.map((expect: any, index: number) => (\n            <div\n              key={`expect instance ${index}`}\n              className=\"kie-grid__item kie-grid__instance\"\n              style={{ gridColumn: `span ${expect.children.length}` }}\n            >\n              {expect.group}\n            </div>\n          ))}\n        </div>\n\n        <div className=\"kie-grid__header--given\">\n          {columnDefsState.given.map((given: any, index: number) => {\n            return given.children.map((givenChild: any, index: number) => (\n              <div key={`given property ${index}`} className=\"kie-grid__item kie-grid__property\">{givenChild.name}</div>\n            ));\n          })}\n        </div>\n        <div className=\"kie-grid__header--expect\">\n          {columnDefsState.expect.map((expect: any, index: number) => {\n            return expect.children.map((expectChild: any, index: number) => (\n              <div key={`expect property ${index}`} className=\"kie-grid__item kie-grid__property\">{expectChild.name}</div>\n            ));\n          })}\n        </div>\n\n        <div className=\"kie-grid__body\">\n          <InfiniteScroll\n            dataLength={fetchedRows.length}\n            next={fetchMoreRows}\n            hasMore={fetchedRows.length < filteredRows.length}\n            loader={<Spinner className=\"kie-grid__item kie-grid__item--loading pf-u-pt-sm\" size=\"md\" />}\n            scrollableTarget=\"sce-sim-grid__main\"\n          >\n              {fetchedRows.map((row: any, rowIndex: number) => (\n                <div className=\"kie-grid__rule\" style={{}} key={`row ${row[0].value}`}>\n                  {row.map((cell: any, index: number) => {\n                    // get the type of the column to pass on to the input for formatting / validation\n                    let type = 'string';\n                    let columnGroup = '';\n                    let columnName = '';\n                    if (index === 0) {\n                      // row index\n                      type = 'number';\n                    } else if (index === 1) {\n                      // description\n                      type = 'string';\n                    } else if (index > 1) {\n                      columnGroup = columnNamesState[index].group;\n                      columnName = columnNamesState[index].name;\n                      type = (definitionsState.map[columnNamesState[index].group] && definitionsState.map[columnGroup][columnName]) || 'string';\n                    }\n                    const cellIndex = index;\n                    const value = cell && cell.value ? cell.value : '';\n                    const path = cell && cell.path ? cell.path : '';\n                    // const cellId = `cell ${cellIndex}`;\n                    const inputId = `row ${rowIndex} column ${cellIndex}`;\n                    let component;\n                    const typeArr = type.split(',');\n                    if (typeArr.length > 1) {\n                      // Multiple options, render Select\n                      component = (\n                        <Select \n                          isReadOnly={inputId !== editableCell} \n                          id={inputId} \n                          originalValue={value}                          \n                          onSelectToggleCallback={onSelectToggleCallback} \n                          options={typeArr.map(string => string.trim())} \n                          deactivateAndFocusCell={deactivateAndFocusCell}\n                          setEditable={setEditable}\n                          onSave={onSave}\n                        />\n                      );\n                    } else {\n                      component = (\n                        <Input\n                          isReadOnly={inputId !== editableCell} \n                          id={inputId} \n                          originalValue={value} \n                          path={path} \n                          type={type} \n                          deactivateAndFocusCell={deactivateAndFocusCell}\n                          setEditable={setEditable}\n                          onSave={onSave}\n                        />\n                      );\n                    }\n                    return (\n                      <div className=\"kie-grid__item\" key={inputId} onClick={onCellClick} onDoubleClick={onCellDoubleClick}>\n                        {cellIndex === 0 ? value : component}\n                      </div>\n                    )\n                  })}\n                </div>\n              ))}\n          </InfiniteScroll>\n        </div>\n      </div>\n    </>\n  );\n}, (prevProps, nextProps) => {\n  if (prevProps.lastForcedUpdate !== nextProps.lastForcedUpdate) {\n    console.log('forced Editor update');\n    return false;\n  }\n  if (prevProps.filteredRows.length !== nextProps.filteredRows.length || JSON.stringify(prevProps.filteredRows) !== JSON.stringify(nextProps.filteredRows)) {\n    // filteredRows have changed, re-render\n    return false;\n  }\n  return true;\n});\n\n// @ts-ignore\nEditor.whyDidYouRender = {\n  customName: 'Editor'\n};\n\nexport { Editor };\n","import * as React from \"react\";\nimport { Expandable, TextContent, Button } from '@patternfly/react-core';\nimport { CopyIcon, AngleRightIcon } from '@patternfly/react-icons';\nimport classNames from 'classnames';\nimport { setCaretPositionAtEnd } from \"../utils\";\nimport './Sidebar.css';\n\nconst DefinitionsDrawerPanel = React.memo<{ \n  definitions: any, \n  dmnFilePath: string\n}>(({ definitions, dmnFilePath }) => {\n// const DefinitionsDrawerPanel: React.FC<{ definitions: any, dmnFilePath: string }> = ({ definitions, dmnFilePath }) => {\n  console.log('render DefinitionsDrawerPanel');\n\n  // DMN file path ClipboardCopy expansion\n  const [isExpanded, setExpanded] = React.useState(false);\n  const [definitionsState, setDefinitionsState] = React.useState(definitions);\n  const [dmnFilePathState, setDmnFilePathState] = React.useState(dmnFilePath);\n\n  React.useEffect(() => {\n    // scroll towards the end of the DMN file path input\n    setTimeout(() => {\n      const element = document.getElementById('dmnFilePath') as HTMLInputElement;\n      if (element) {\n        setCaretPositionAtEnd(element);\n      }\n    }, 1)\n  }, [dmnFilePath]);\n\n  React.useEffect(() => {\n    if (definitions !== definitionsState) {\n      setDefinitionsState(definitions);\n    }\n    if (dmnFilePath !== dmnFilePathState) {\n      setDmnFilePathState(dmnFilePath);\n    }\n  }, [definitions, dmnFilePath]);\n\n  /**\n   * Toggles the DMN file path\n   */\n  const onToggle = () => {\n    setExpanded(!isExpanded);\n  };\n\n  /**\n   * Copy the DMN file path\n   */\n  const onCopy = (event: any) => {\n    /* Get the text field */\n    const copyText = document.getElementById('dmnFilePath') as HTMLInputElement;\n    if (copyText && copyText.select) {\n      /* Select the text field */\n      copyText.select();\n      copyText.setSelectionRange(0, 99999); /*For mobile devices*/\n      /* Copy the text inside the text field */\n      document.execCommand('copy');\n      // do not mark the whole text as selected\n      setCaretPositionAtEnd(copyText);\n    }\n  };\n\n  const ClipboardCopy = () => (\n    <div className={classNames('pf-c-clipboard-copy', isExpanded && 'pf-m-expanded')}>\n      <div className=\"pf-c-clipboard-copy__group\">\n        <button className=\"pf-c-clipboard-copy__group-toggle\"\n            id=\"dmnPathToggle\" aria-labelledby=\"dmnPathToggle dmnFilePath\" aria-controls=\"content-6\"\n            aria-expanded=\"true\"\n            aria-label=\"Show content\"\n            onClick={onToggle}\n          >\n            <AngleRightIcon className=\"pf-c-clipboard-copy__group-toggle-icon\" />\n        </button>\n        <input className=\"pf-c-form-control\" readOnly type=\"text\" value={dmnFilePathState} id=\"dmnFilePath\" aria-label=\"Copyable input\"></input>\n        <button className=\"pf-c-clipboard-copy__group-copy\"\n          aria-label=\"Copy to clipboard\"\n            id=\"dmnPathCopy\" \n            aria-labelledby=\"dmnPathCopy dmnFilePath\"\n            onClick={onCopy}\n          >\n          <CopyIcon />\n        </button>\n      </div>\n      {isExpanded && <div className=\"pf-c-clipboard-copy__expandable-content\" id=\"dmnPathContent\" style={{ color: 'rgb(33, 36, 39)' }}>{dmnFilePathState}</div>}\n    </div>\n  );\n  return (\n    <div>\n      <TextContent className=\"pf-u-m-lg\">\n        <div className=\"pf-u-mb-xl\">\n          <div>DMN file path</div>\n          <ClipboardCopy />\n        </div>\n        <p>To create a test template, define the \"Given\" and \"Expect\" columns by using the expression editor below.</p>\n        <h2>Select Data Object</h2>\n        <h3>Complex Types</h3>\n        {definitionsState.complex.map((item: any) => (\n          <Expandable key={item.typeRef} toggleText={item.text}>\n            {Object.keys(item.elements).map((elementKey: any) => (\n              <div className=\"pf-u-mb-sm\" key={elementKey}>\n                <Button variant=\"link\">{elementKey}</Button>\n                <span> [{item.elements[elementKey]}]</span>\n              </div>\n            ))}\n          </Expandable>\n        ))}\n        \n        <h3>Simple Types</h3>\n        {definitionsState.simple.map((item: any) => (\n          <Expandable key={item.typeRef} toggleText={item.text}>\n            {Object.keys(item.elements).map((elementKey: any) => (\n              <div className=\"pf-u-mb-sm\" key={elementKey}>\n                <Button variant=\"link\">{elementKey}</Button>\n                <span> [{item.elements[elementKey]}]</span>\n              </div>\n            ))}\n          </Expandable>\n        ))}\n      </TextContent>\n    </div>\n  )\n}, (prevProps, nextProps) => {\n  if (JSON.stringify(prevProps.definitions) !== JSON.stringify(nextProps.definitions)) {\n    // definitions have changed, re-render\n    return false;\n  }\n  if (prevProps.dmnFilePath !== nextProps.dmnFilePath) {\n    // dmnFilePath have changed, re-render\n    return false;\n  }\n  return true;\n});\n\nexport { DefinitionsDrawerPanel };\n","import { Scesim, FactMapping } from '../../types/SceSim';\n\nexport const getDmnFilePath = (data: Scesim): string => {\n  const {\n    dmnFilePath\n  } = data.value.simulation.simulationDescriptor;\n  return dmnFilePath;\n};\n\nexport const getColumnNames = (data: Scesim) => {\n  let columns: any[] = [];\n  const {\n    factMapping\n  } = data.value.simulation.simulationDescriptor.factMappings;\n  factMapping.forEach(\n    (col: FactMapping) => {\n      let name = col.expressionAlias || '';\n      let group = col.factAlias || '';\n      columns.push({\n        name,\n        group\n      });\n    }\n  );\n  return columns;\n};\n\ntype Column = Array<({ name?: string; field?: string; group?: string; children?: { name?: string; field?: string; }[]; })>;\n\nexport const getColumns = (data: Scesim, byGroup: boolean = false) => {\n  let columnDefsOther: Column = [];\n  let columnDefsGiven: Column = [];\n  let columnDefsExpect: Column = [];\n  let numOther: number = 0;\n  let numGiven: number = 0;\n  let numExpect: number = 0;\n  let fieldIndices: any = {};\n  const {\n    factMapping\n  } = data.value.simulation.simulationDescriptor.factMappings;\n  factMapping.forEach(\n    (col: FactMapping, index: number) => {\n      const type = col.expressionIdentifier.type; // OTHER | GIVEN | EXPECT\n      const field = col.expressionIdentifier.name; // this relates the column to the row cell\n      fieldIndices[field] = index;\n      if (type === \"OTHER\") {\n        numOther = numOther + 1;\n        const name = col.factAlias;\n        columnDefsOther.push({ name, field });\n      } else {\n        const name = col.expressionAlias;\n        const group = col.factAlias;\n        if (!byGroup) {\n          if (type === \"GIVEN\") {\n            numGiven = numGiven + 1;\n            columnDefsGiven.push({ name, field, group });\n          } else {\n            // EXPECT\n            numExpect = numExpect + 1;\n            columnDefsExpect.push({ name, field, group });\n          }\n        } else {\n          if (type === \"GIVEN\") {\n            numGiven = numGiven + 1;\n            // check if the group already exists, if so push to it, otherwise create a new group\n            if (columnDefsGiven.length === 0 || columnDefsGiven[columnDefsGiven.length - 1].group !== group) {\n              // new group\n              columnDefsGiven.push({ group, children: [{ name, field }] });\n            } else {\n              // push to last group\n              columnDefsGiven[columnDefsGiven.length - 1].children!.push({ name, field })\n            }\n          } else {\n            // EXPECT\n            numExpect = numExpect + 1;\n            // check if the group already exists, if so push to it, otherwise create a new group\n            if (columnDefsExpect.length === 0 || columnDefsExpect[columnDefsExpect.length - 1].group !== group) {\n              // new group\n              columnDefsExpect.push({ group, children: [{ name, field }] });\n            } else {\n              // push to last group\n              columnDefsExpect[columnDefsExpect.length - 1].children!.push({ name, field })\n            }\n          }\n        }\n      }\n    }\n  );\n  return {\n    fieldIndices,\n    other: columnDefsOther,\n    given: columnDefsGiven,\n    expect: columnDefsExpect,\n    numOther,\n    numGiven,\n    numExpect\n  };\n};\n\nexport const getRows = (data: Scesim, columns?: any) => {\n  // construct the path so we can save back to the same location in the json file\n  const dataPathRoot: string = 'value.simulation.scenarios.scenario';\n  const rows: any[] = [];\n  const { scenario } = data.value.simulation.scenarios;\n  scenario.forEach(\n    (dataRow: { factMappingValues: { factMappingValue: any } }, index: number) => {\n      const dataPath = `${dataPathRoot}[${index}].factMappingValues.factMappingValue`;\n      const totalColumnsLength = columns.numOther + columns.numGiven + columns.numExpect;\n      let hasExpressionIdentifierName = true;\n      // create the row with a predetermined length so we can insert the cell in the correct column order\n      let row: any[] = Array.from(Array(totalColumnsLength).keys());\n      const entries = dataRow.factMappingValues.factMappingValue;\n      entries.forEach((col: { rawValue?: { value: any }, expressionIdentifier: { name: string } }, index: number) => {\n        const { name } = col.expressionIdentifier;\n        const path = `${dataPath}[${index}].rawValue.value`;\n        if (!col.rawValue) {\n          if (name) {\n            row[columns.fieldIndices[name]] = {\n              value: null,\n              path\n            };\n          } else {\n            hasExpressionIdentifierName = false;\n            row[index] = {\n              value: null,\n              path\n            };\n          }\n        } else {\n          const { value } = col.rawValue;\n          if (name) {\n            row[columns.fieldIndices[name]] = {\n              value,\n              path\n            };\n          } else {\n            hasExpressionIdentifierName = false;\n            row[index] = {\n              value,\n              path\n            };\n          }\n        }\n      });\n      if (!hasExpressionIdentifierName && row.length) {\n        // this might be a workaround, but one of the scesim datasets did not have expressionIdentifier.name for the simulations\n        // and for some reason the last item is the index, it should be at the front\n        if (row.length) {\n          row.unshift(row.pop()!)\n        }\n      }\n      rows.push(row);\n    }\n  );\n  return rows;\n};\n\nexport const getDefinitions = (data: { value: { itemDefinition?: any; drgElement?: any; name?: any; }; }) => {\n  let definitions: any = {};\n  const title = data.value.name;\n  const { itemDefinition } = data.value;\n  itemDefinition.forEach((def: any) => {\n    // let definitionName = def.name.substring(1);\n    let definitionTypes = {} as any;\n    const { itemComponent } = def;\n    itemComponent.forEach((type: { name: any; typeRef: any; allowedValues?: any }) => {\n      if (type.allowedValues) {\n        // enumeration\n        definitionTypes[type.name] = type.allowedValues.text;\n      } else {\n        definitionTypes[type.name] = type.typeRef;\n      }\n    });\n    definitions[def.name] = definitionTypes;\n  });\n\n  const { drgElement } = data.value;\n  const typeDefinitions: any = {\n    '_title': title,\n    simple: [],\n    complex: [],\n    map: {}\n  };\n  drgElement.forEach((element: any) => {\n    const type = element.name.localPart; // inputData | decision\n    const text = element.value.name;\n    const question = element.value.question;\n    const choices = element.value.allowedAnswers || null;\n    const typeRef = element.value.variable.typeRef; // e.g. tViolation, tFine, tDriver, string\n    typeDefinitions[typeRef.charAt(0) === 't' ? 'complex' : 'simple'].push(\n      {\n        typeRef,\n        type,\n        text,\n        choices,\n        question,\n        elements: definitions[typeRef] || {\n          value: choices\n        }\n      }\n    );\n    typeDefinitions.map[text] = definitions[typeRef] || {\n      value: choices\n    };\n  });\n  return typeDefinitions;\n}\n","import * as React from \"react\";\nimport { Modal, Button } from '@patternfly/react-core';\n\nconst HelpModal: React.SFC<{ isOpen: boolean, onClose: any, readOnly: boolean }> = ({ isOpen, onClose, readOnly }) => {\n  // console.log('render HelpModal');\n  \n  return (\n    <Modal\n      isSmall\n      title=\"Help\"\n      isOpen={isOpen}\n      onClose={onClose}\n      actions={[\n        <Button key=\"confirm\" variant=\"primary\" onClick={onClose}>\n          Close\n        </Button>\n      ]}\n      isFooterLeftAligned\n    >\n      <div className=\"pf-c-content\">\n        <p>The following keyboard interactions are available:</p>\n        <ul>\n          <li>Once a cell is selected, arrow keys can be used to navigate between the cells.</li>\n          <li>The Tab and Shift+Tab keys can be used to tab to the next and previous cell.</li>\n          <li>CMD+C / CTRL+C copies the cell content.</li>\n          {!readOnly && <>\n            <li>Use the Enter key on a cell to enter editing mode.</li>\n            <li>CMD+Z / CTRL+Z undoes the last change.</li>\n            <li>CMD+Shift+Z / CTRL+Shift+Z redoes the last change.</li>\n            <li>When in editing mode:\n              <ul>\n                <li>The Enter key will save the current cell contents.</li>\n                <li>THe Escape key will reset the cell contents.</li>\n              </ul>\n            </li>\n          </>}\n        </ul>\n      </div>\n    </Modal>\n  )\n};\n\nexport { HelpModal };\n","import * as React from 'react';\nimport {\n  TextInput,\n  ToolbarItem,\n  Select,\n  SelectOption\n} from '@patternfly/react-core';\nimport { useDebounce } from '../utils';\n\nconst Search = React.memo<{ \n  data: any,\n  columnNames: any,\n  onChange: any\n}>(({ data, columnNames, onChange }) => {\n  console.log('render Search');\n\n  const [isExpanded, setExpanded] = React.useState(false);\n  const [selected, setSelected] = React.useState<any[]>([]);\n  const [searchValue, setSearchValue] = React.useState('');\n\n  const debouncedSearchTerm = useDebounce(searchValue, 500);\n\n  React.useEffect(() => {\n    // this gets triggered after the debounce timer\n    onChange(debouncedSearchTerm, selected);\n  }, [debouncedSearchTerm]);\n\n  React.useEffect(() => {\n    // When selections in the filter change, update the filtered rows\n    if (searchValue) {\n      onChange(searchValue, selected);\n    }\n  }, [ selected ]);\n\n  React.useEffect(() => {\n    // reset search and selection if the underlying data has changed\n    setSelected([]);\n    setSearchValue('');\n  }, [ data ]);\n\n  /**\n   * Update filtered rows on search change\n   */\n  const handleSearchChange = (value: string) => {\n    setSearchValue(value);\n  };\n\n  /**\n   * Toggles the filter select\n   */\n  const onSelectToggle = (isOpen: boolean) => {\n    setExpanded(isOpen);\n  };\n\n  /**\n   * Updates selection on filter select change\n   */\n  const onSelect = (event: any, selection: any) => {\n    let selections;\n    if (selection.indexOf(selected) > -1) {\n      selections = selected.filter((item: any) => item !== selection);\n    } else {\n      selections = [...selected, selection];\n    }\n    setSelected(selections);\n  };\n\n  /**\n   * Builds the search box\n   */\n  const buildSearchBox = () => {\n    return (\n      <TextInput\n        type=\"text\"\n        id=\"gridSearch\"\n        name=\"gridSearch\"\n        placeholder=\"Search grid\"\n        aria-label=\"Search grid\"\n        value={searchValue}\n        onChange={handleSearchChange}\n      />\n    );\n  };\n\n  /**\n   * Builds the filter select\n   */\n  const buildSelect = () => {\n    let items: any[] = [];\n    columnNames.forEach((item: any, index: number) => {\n      const value = `${item.group} ${item.name}`;\n      items.push(\n        <SelectOption key={index} index={index} value={value} />\n      );\n    })\n    return (\n      <Select\n        variant='checkbox'\n        aria-label=\"Select Input\"\n        onToggle={onSelectToggle}\n        onSelect={onSelect}\n        selections={selected}\n        isExpanded={isExpanded}\n        placeholderText=\"Filter on column\"\n        ariaLabelledBy=\"Filter on column\"\n      >\n        {items}\n      </Select>\n    );\n  };\n\n  return (\n    <>\n      <ToolbarItem className=\"pf-u-mr-md\">{buildSearchBox()}</ToolbarItem>\n      <ToolbarItem>{buildSelect()}</ToolbarItem>\n    </>\n  );\n}, (prevProps, nextProps) => {\n  if (JSON.stringify(prevProps.data) !== JSON.stringify(nextProps.data)) {\n    // data has changed, re-render\n    return false;\n  }\n  if (JSON.stringify(prevProps.columnNames) !== JSON.stringify(nextProps.columnNames)) {\n    // allRows have changed, re-render\n    return false;\n  }\n  return true;\n});\n\n// @ts-ignore\nSearch.whyDidYouRender = {\n  customName: 'Search'\n};\n\nexport { Search };","import * as React from 'react';\nimport {\n  Button,\n  ToolbarItem,\n  Expandable\n} from '@patternfly/react-core';\nimport { UndoIcon, RedoIcon } from '@patternfly/react-icons';\nimport { focusCell } from '../utils';\n\nconst ChangeTracker = React.memo<{ \n  undoRedo: any,\n  onUndo: any,\n  onRedo: any\n}>(({ undoRedo, onUndo, onRedo }) => {\n  console.log('render ChangeTracker');\n\n  const [stateFromProps, setStateFromProps] = React.useState({ \n    undoRedo\n  });\n\n  React.useEffect(() => {\n    // sync props to state\n    setStateFromProps({ undoRedo });\n  }, [ undoRedo ]);\n\n  /**\n   * The text to display for the change-tracker\n   */\n  const getChangeText = () => {\n    if (stateFromProps.undoRedo.undoList.length === 1) {\n      return `1 change`;\n    } else {\n      return `${stateFromProps.undoRedo.undoList.length} changes`;\n    }\n  };\n\n  /**\n   * When a cell id is clicked in the change-tracker, it scrolls and focuses the corresponding element in the grid\n   */\n  const focusElement = (id: string) => {\n    focusCell(id, 250, true);\n  }\n\n  /**\n   * The change-tracker element\n   */\n  const changeTracker = () => {\n    const input = (\n      <input \n        className=\"pf-c-form-control pf-u-px-md\" \n        type=\"button\" \n        id=\"textInput10\" \n        name=\"textInput10\" \n        aria-label=\"Input example with popover\" \n        value={getChangeText()}\n      />\n    );\n    if (stateFromProps.undoRedo.undoList.length) {\n      return (\n        <Expandable toggleText={getChangeText()} className=\"kie-changes pf-u-mx-sm\">\n          <div className=\"pf-c-content\">\n            <dl>\n              {stateFromProps.undoRedo.undoList.map((change: any, index: number) => (\n                <React.Fragment key={index}>\n                  <dt><Button variant=\"link\" onClick={() => focusElement(change.id)} isInline>{change.id}</Button></dt>\n                  <dd>{change.value}</dd>\n                </React.Fragment>\n              ))}\n            </dl>\n          </div>\n        </Expandable>\n      );\n    } else {\n      return input;\n    }\n  }\n\n  // const redoTracker = () => {\n  //   return (\n  //     <Expandable toggleText={(stateFromProps.redoList.length).toString()} className=\"kie-changes pf-u-mx-sm\">\n  //       <div className=\"pf-c-content\">\n  //         <dl>\n  //           {stateFromProps.redoList.map((redo: any, index: number) => (\n  //             <React.Fragment key={index}>\n  //               <dt><Button variant=\"link\" onClick={() => focusElement(redo.id)} isInline>{redo.id}</Button></dt>\n  //               <dd>{redo.value}</dd>\n  //             </React.Fragment>\n  //           ))}\n  //         </dl>\n  //       </div>\n  //     </Expandable>\n  //   );\n  // }\n\n  return (\n    <ToolbarItem>\n      <div className=\"pf-c-input-group\">\n        <Button onClick={onUndo} variant=\"control\" isDisabled={stateFromProps.undoRedo.undoList.length === 0}>\n          <UndoIcon />\n        </Button>\n        {changeTracker()}\n        {/* {redoTracker()} */}\n        <Button onClick={onRedo} variant=\"control\" isDisabled={stateFromProps.undoRedo.redoList.length === 0}>\n          <RedoIcon />\n        </Button>\n      </div>\n    </ToolbarItem>\n  );\n}, (prevProps, nextProps) => {\n  if (prevProps.undoRedo.undoList.length !== nextProps.undoRedo.undoList.length || JSON.stringify(prevProps.undoRedo.undoList) !== JSON.stringify(nextProps.undoRedo.undoList)) {\n    // last changed cell has changed, re-render\n    return false;\n  }\n  if (prevProps.undoRedo.redoList.length !== nextProps.undoRedo.redoList.length || JSON.stringify(prevProps.undoRedo.redoList) !== JSON.stringify(nextProps.undoRedo.redoList)) {\n    // last changed cell has changed, re-render\n    return false;\n  }\n  return true;\n});\n\n// @ts-ignore\nChangeTracker.whyDidYouRender = {\n  customName: 'ChangeTracker'\n};\n\nexport { ChangeTracker };","import * as React from 'react';\nimport {\n  Button,\n  Toolbar,\n  ToolbarGroup,\n  ToolbarItem\n} from '@patternfly/react-core';\nimport { OutlinedQuestionCircleIcon } from '@patternfly/react-icons';\nimport { HelpModal } from './HelpModal';\nimport { Search } from './Search';\nimport { ChangeTracker } from './ChangeTracker';\nimport './EditorToolbar.css';\n\nconst EditorToolbar = React.memo<{ \n  data: any, \n  allRowsLength: any,\n  filteredRowsLength: number, \n  filterRows: any, \n  columnNames: any,\n  undoRedo: any,\n  onUndo: any,\n  onRedo: any,\n  readOnly: boolean\n}>(({ data, allRowsLength, filteredRowsLength, filterRows, columnNames, undoRedo, onUndo, onRedo, readOnly }) => {\n  console.log('render EditorToolbar');\n\n  const [isModelOpen, setModalOpen] = React.useState(false);\n\n  const [toolbarStateFromProps, setToolbarStateFromProps] = React.useState({ \n    data,\n    allRowsLength, \n    filteredRowsLength, \n    columnNames, \n    undoRedo\n  });\n\n  React.useEffect(() => {\n    // update state from props\n    setToolbarStateFromProps({\n      data,\n      allRowsLength, \n      filteredRowsLength, \n      columnNames, \n      undoRedo\n    });\n  }, [\n    data,\n    allRowsLength, \n    filteredRowsLength, \n    columnNames, \n    undoRedo\n  ]);\n\n  const onSearchChange = (value: string, selected: any[]) => {\n    filterRows(value, selected);\n  };\n  \n  /**\n   * Opens the Help modal\n   */\n  const openModal = () => {\n    setModalOpen(true);\n  };\n\n  /**\n   * Closes the Help modal\n   */\n  const closeModal = () => {\n    setModalOpen(false);\n  };\n\n  return (\n    <>\n      <Toolbar className=\"pf-l-toolbar pf-u-justify-content-space-between pf-u-mx-xl pf-u-my-md\">\n        {!readOnly && <ToolbarGroup>\n          <ChangeTracker undoRedo={toolbarStateFromProps.undoRedo} onUndo={onUndo} onRedo={onRedo} />\n        </ToolbarGroup>}\n        <ToolbarGroup>\n          {toolbarStateFromProps.allRowsLength === filteredRowsLength ? (\n            <ToolbarItem className=\"pf-u-mr-md\">{toolbarStateFromProps.allRowsLength} items</ToolbarItem>\n          ) : (\n            <ToolbarItem className=\"pf-u-mr-md\">{filteredRowsLength} of {toolbarStateFromProps.allRowsLength} items</ToolbarItem>\n          )}\n          <Search data={data} columnNames={toolbarStateFromProps.columnNames} onChange={onSearchChange} />\n          <ToolbarItem><Button variant=\"plain\" onClick={openModal}><OutlinedQuestionCircleIcon size=\"md\" /></Button></ToolbarItem>\n        </ToolbarGroup>\n      </Toolbar>\n      <HelpModal isOpen={isModelOpen} onClose={closeModal} readOnly={readOnly} />\n    </>\n  );\n}, (prevProps, nextProps) => {\n  if (prevProps.allRowsLength !== nextProps.allRowsLength) {\n    // filteredRows have changed, re-render\n    return false;\n  }\n  if (prevProps.filteredRowsLength !== nextProps.filteredRowsLength) {\n    // filteredRows have changed, re-render\n    return false;\n  }\n  if (prevProps.undoRedo.undoList.length !== nextProps.undoRedo.undoList.length || JSON.stringify(prevProps.undoRedo.undoList) !== JSON.stringify(nextProps.undoRedo.undoList)) {\n    // last changed cell has changed, re-render\n    return false;\n  }\n  if (prevProps.undoRedo.redoList.length !== nextProps.undoRedo.redoList.length || JSON.stringify(prevProps.undoRedo.redoList) !== JSON.stringify(nextProps.undoRedo.redoList)) {\n    // last changed cell has changed, re-render\n    return false;\n  }\n  return true;\n});\n\n// @ts-ignore\nEditorToolbar.whyDidYouRender = {\n  customName: 'EditorToolbar'\n};\n\nexport { EditorToolbar };","import * as React from \"react\";\nimport { Button } from '@patternfly/react-core';\nimport { BarsIcon } from '@patternfly/react-icons';\nimport { Editor } from '../Editor';\nimport { DefinitionsDrawerPanel } from '../Sidebar';\nimport { getDefinitions, getColumns, getRows, getColumnNames, getDmnFilePath } from \"./scesimUtils\";\nimport { getRowColumnFromId } from '../utils';\nimport { EditorToolbar } from '../Toolbar';\nimport classNames from 'classnames';\n\nconst EditorContainer = React.memo<{ \n  data: any, \n  model: any, \n  showSidePanel?: boolean, \n  readOnly?: boolean \n}>(({ data, model, showSidePanel = true, readOnly = false }) => {\n  console.log('render EditorContainer');\n\n  const increaseRows = (rows: any) => {\n    // increase rows for performance testing / infinite sroll testing etc\n    const enabled = false;\n    const numRowsToAdd = 2000;\n    if (enabled) {\n      for (let i = 0; i < numRowsToAdd; i++) {\n        const clonedRow = JSON.parse(JSON.stringify(rows[0]));\n        // update the Index\n        clonedRow[0].value = (i + 6).toString();\n        rows.push(clonedRow);\n      }\n    }\n    return rows;\n  }\n\n  const initialDefinitions = getDefinitions(model);\n  const initialColumns = getColumns(data, true);\n  let initialRows = getRows(data, initialColumns);\n  initialRows = increaseRows(initialRows);\n  const initialColumnNames = getColumnNames(data);\n  const [isDrawerExpanded, setDrawerExpanded] = React.useState(true);\n  const [undoRedo, setUndoRedo] = React.useState<any>({ \n    undoList: [], \n    redoList: [],\n    skipUpdate: false\n  });\n  const [allRows, setAllRows] = React.useState(initialRows);\n  const [filteredRows, setFilteredRows] = React.useState(initialRows);\n  const [definitions, setDefinitions] = React.useState(initialDefinitions);\n  const [dmnFilePath, setDmnFilePath] = React.useState(getDmnFilePath(data));\n  const [columns, setColumns] = React.useState(initialColumns);\n  const [columnNames, setColumnNames] = React.useState(initialColumnNames);\n  let initialItemToColumnIndexMap: any = [];\n  initialColumnNames.forEach((item: any, index: number) => {\n    const value = `${item.group} ${item.name}`;\n    initialItemToColumnIndexMap[value] = index;\n  });\n  const [itemToColumnIndexMap, setItemToColumnIndexMap] = React.useState(initialItemToColumnIndexMap);\n  const [searchValueState, setSearchValueState] = React.useState('');\n  const [filterSelection, setFilterSelection] = React.useState<any[]>([]);\n  const [lastForcedUpdateState, setLastForcedUpdateState] = React.useState((Date.now()).toString());\n\n  React.useEffect(() => {\n    // when data or model changes, recompute rows and columns\n    const updatedDefinitions = getDefinitions(model);\n    const updatedColumns = getColumns(data, true);\n    let updatedRows = getRows(data, updatedColumns);\n    updatedRows = increaseRows(updatedRows);\n    if (JSON.stringify(definitions) !== JSON.stringify(updatedDefinitions)) {\n      setDefinitions(updatedDefinitions);\n    }\n    if (JSON.stringify(allRows) !== JSON.stringify(updatedRows)) {\n      setDmnFilePath(getDmnFilePath(data));\n      setColumns(updatedColumns);\n      setColumnNames(getColumnNames(data));\n      setAllRows(updatedRows);\n      setFilteredRows(updatedRows);\n      setUndoRedo({\n        undoList: [],\n        redoList: [],\n        skipUpdate: false\n      });\n      let itemToColumnIndexMap: any = [];\n      initialColumnNames.forEach((item: any, index: number) => {\n        const value = `${item.group} ${item.name}`;\n        itemToColumnIndexMap[value] = index;\n      });\n      setItemToColumnIndexMap(initialColumnNames);\n    }\n  }, [data, model]);\n\n  React.useEffect(() => {\n    const searchValue = (document.getElementById('gridSearch') as HTMLInputElement).value;\n    filterRows(searchValue, filterSelection, allRows);\n    if (undoRedo.skipUpdate) {\n      return;\n    }\n    setLastForcedUpdateState((Date.now()).toString());\n  }, [ undoRedo ]);\n\n  /**\n   * Toggle the sidebar\n   */\n  const toggleDrawer = () => {\n    setDrawerExpanded(!isDrawerExpanded);\n  }\n\n  /** \n   * Callback function for Editor inputs. When they're saved we add it to the list of changes for change-tracking.\n   */\n  const addToChanges = (id: string, value: string, previousValue: string) => {\n    const { row, column } = getRowColumnFromId(id);\n    // const clonedAllRows = cloneDeep(allRows);\n    allRows[row][column].value = value;\n    // setAllRows(allRows);\n    // new change clears the redoList\n    setUndoRedo((previousState: any) => ({\n      undoList: [...previousState.undoList, { id, value, previousValue }],\n      redoList: [],\n      skipUpdate: true\n    }));\n  }\n\n  /**\n   * Reverts the last Input change\n   * Pop the undo stack and push it onto redo stack\n   */\n  const onUndo = () => {\n    if (undoRedo.undoList.length > 0) {\n      const clonedChanges = [...undoRedo.undoList];\n      const lastChange = clonedChanges.pop();\n      setUndoRedo((previousState: any) => ({\n        undoList: clonedChanges,\n        redoList: [...previousState.redoList, lastChange],\n        skipUpdate: false\n      }));\n\n      const { id, previousValue } = lastChange;\n      const { row, column } = getRowColumnFromId(id);\n      allRows[row][column].value = previousValue;\n      // let clonedAllRows = cloneDeep(allRows);\n      // clonedAllRows[row][column].value = previousValue;\n      // setAllRows(clonedAllRows);\n      // filterRows(searchValueState, filterSelection, clonedAllRows);\n    }\n  }\n\n  /**\n   * Pop it from the redo stack and push it onto undo stack\n   * a new change clears the redo stack\n   */\n  const onRedo = () => {\n    if (undoRedo.redoList.length > 0) {\n      const clonedRedoList = [...undoRedo.redoList];\n      const lastRedo = clonedRedoList.pop();\n      setUndoRedo((previousState: any) => ({\n        undoList: [...previousState.undoList, lastRedo],\n        redoList: clonedRedoList,\n        skipUpdate: false\n      }));\n      \n      const { id, value } = lastRedo;\n      const { row, column } = getRowColumnFromId(id);\n      allRows[row][column].value = value;\n      // const clonedAllRows = cloneDeep(allRows);\n      // clonedAllRows[row][column].value = value;\n      // setAllRows(clonedAllRows);\n      // filterRows(searchValueState, filterSelection, clonedAllRows);\n    }\n  }\n\n  /**\n   * Filter the rows based on search and filter selection\n   * Callback function for EditorToolbar, called on filter/search change\n   */\n  const filterRows = (value: string, selected: any[], rowsToFilter?: any[]) => {\n    const rows = rowsToFilter || allRows;\n    if (JSON.stringify(filterSelection) !== JSON.stringify(selected)) {\n      setFilterSelection(selected);\n    }\n    if (!value) {\n      // no search term, show all rows\n      return setFilteredRows(rows);\n    }\n    const searchRE = new RegExp(value, 'i');\n    const filteredRows = rows.filter((row: any) => {\n      let found = false;\n      if (selected.length === 0) {\n        // search all columns\n        for (let col of row) {\n          if (col && searchRE.test(col.value)) {\n            found = true;\n            break;\n          }\n        }\n      } else {\n        // search only the selected columns\n        for (let sel of selected) {\n          const columnIndex = itemToColumnIndexMap[sel];\n          if (row[columnIndex] && searchRE.test(row[columnIndex].value)) {\n            found = true;\n            break;\n          }\n        }\n      }\n      return found;\n    });\n    setFilteredRows(filteredRows);\n  }\n\n  return (\n    <div className=\"pf-m-redhat-font\">\n      <div className=\"pf-c-page\">\n        <header role=\"banner\" className=\"pf-c-page__header\">\n        <div className=\"pf-c-page__header-brand\">\n          {showSidePanel && <div className=\"pf-c-page__header-brand-toggle\">\n            <Button\n              id=\"nav-toggle\"\n              onClick={toggleDrawer}\n              aria-label=\"Toggle drawer\"\n              aria-controls=\"page-sidebar\"\n              aria-expanded={isDrawerExpanded ? 'true' : 'false'}\n              variant=\"plain\"\n            >\n              <BarsIcon />\n            </Button>\n          </div>}\n          <div className=\"pf-c-page__header-brand-link\">\n            {definitions._title}\n          </div>\n        </div>\n          <div className=\"pf-c-page__header-tools\">\n            <EditorToolbar \n              data={data}\n              allRowsLength={allRows.length} \n              filteredRowsLength={filteredRows.length} \n              filterRows={filterRows} \n              columnNames={columnNames} \n              readOnly={readOnly}\n              undoRedo={undoRedo}\n              onUndo={onUndo}\n              onRedo={onRedo}\n            />\n          </div>\n        </header>\n        {showSidePanel && <div className={classNames(\"pf-c-page__sidebar pf-m-dark\", isDrawerExpanded && 'pf-m-expanded', !isDrawerExpanded && 'pf-m-collapsed')}>\n          <div className=\"pf-c-page__sidebar-body\">\n            <DefinitionsDrawerPanel \n              definitions={definitions} \n              dmnFilePath={dmnFilePath} \n            />\n          </div>\n        </div>}\n        <main role=\"main\" className=\"pf-c-page__main\" id=\"sce-sim-grid__main\" tabIndex={-1}>\n          <section className=\"pf-c-page__main-section pf-m-light\">\n            <Editor \n              columns={columns} \n              filteredRows={filteredRows} \n              definitions={definitions} \n              columnNames={columnNames} \n              onSave={addToChanges}\n              onUndo={onUndo}\n              onRedo={onRedo}\n              lastForcedUpdate={lastForcedUpdateState}\n              readOnly={readOnly}\n            />\n          </section>\n        </main>\n      </div>\n    </div>\n  )\n}, (prevProps, nextProps) => {\n  if (JSON.stringify(prevProps.data) !== JSON.stringify(nextProps.data)) {\n    // data has changed, re-render\n    return false;\n  }\n  if (JSON.stringify(prevProps.model) !== JSON.stringify(nextProps.model)) {\n    // model has changed, re-render\n    return false;\n  }\n  return true;\n});\n\n// @ts-ignore\nEditorContainer.whyDidYouRender = {\n  customName: 'EditorContainer'\n};\n\nexport { EditorContainer };\n","/* eslint-disable */\nvar dmn_Module_Factory = function () {\n  var dmn = {\n    name: 'dmn',\n    defaultElementNamespaceURI: 'http:\\/\\/www.omg.org\\/spec\\/DMN\\/20180521\\/MODEL\\/',\n    typeInfos: [{\n        localName: 'TList',\n        typeName: 'tList',\n        baseTypeInfo: '.TExpression',\n        propertyInfos: [{\n            name: 'otherAttributes',\n            type: 'anyAttribute'\n          }, {\n            name: 'expression',\n            minOccurs: 0,\n            collection: true,\n            mixed: false,\n            allowDom: false,\n            typeInfo: '.TExpression',\n            type: 'elementRef'\n          }]\n      }, {\n        localName: 'TItemDefinition',\n        typeName: 'tItemDefinition',\n        baseTypeInfo: '.TNamedElement',\n        propertyInfos: [{\n            name: 'otherAttributes',\n            type: 'anyAttribute'\n          }, {\n            name: 'typeRef',\n            required: true\n          }, {\n            name: 'allowedValues',\n            typeInfo: '.TUnaryTests'\n          }, {\n            name: 'itemComponent',\n            minOccurs: 0,\n            collection: true,\n            typeInfo: '.TItemDefinition'\n          }, {\n            name: 'typeLanguage',\n            attributeName: {\n              localPart: 'typeLanguage'\n            },\n            type: 'attribute'\n          }, {\n            name: 'isCollection',\n            typeInfo: 'Boolean',\n            attributeName: {\n              localPart: 'isCollection'\n            },\n            type: 'attribute'\n          }]\n      }, {\n        localName: 'TInvocation',\n        typeName: 'tInvocation',\n        baseTypeInfo: '.TExpression',\n        propertyInfos: [{\n            name: 'otherAttributes',\n            type: 'anyAttribute'\n          }, {\n            name: 'expression',\n            mixed: false,\n            allowDom: false,\n            typeInfo: '.TExpression',\n            type: 'elementRef'\n          }, {\n            name: 'binding',\n            minOccurs: 0,\n            collection: true,\n            typeInfo: '.TBinding'\n          }]\n      }, {\n        localName: 'TDecisionService',\n        typeName: 'tDecisionService',\n        baseTypeInfo: '.TInvocable',\n        propertyInfos: [{\n            name: 'otherAttributes',\n            type: 'anyAttribute'\n          }, {\n            name: 'outputDecision',\n            minOccurs: 0,\n            collection: true,\n            typeInfo: '.TDMNElementReference'\n          }, {\n            name: 'encapsulatedDecision',\n            minOccurs: 0,\n            collection: true,\n            typeInfo: '.TDMNElementReference'\n          }, {\n            name: 'inputDecision',\n            minOccurs: 0,\n            collection: true,\n            typeInfo: '.TDMNElementReference'\n          }, {\n            name: 'inputData',\n            minOccurs: 0,\n            collection: true,\n            typeInfo: '.TDMNElementReference'\n          }]\n      }, {\n        localName: 'Edge',\n        typeName: {\n          namespaceURI: 'http:\\/\\/www.omg.org\\/spec\\/DMN\\/20180521\\/DI\\/',\n          localPart: 'Edge'\n        },\n        baseTypeInfo: '.DiagramElement',\n        propertyInfos: [{\n            name: 'otherAttributes',\n            type: 'anyAttribute'\n          }, {\n            name: 'waypoint',\n            minOccurs: 0,\n            collection: true,\n            elementName: {\n              localPart: 'waypoint',\n              namespaceURI: 'http:\\/\\/www.omg.org\\/spec\\/DMN\\/20180521\\/DI\\/'\n            },\n            typeInfo: '.Point'\n          }]\n      }, {\n        localName: 'TInformationRequirement',\n        typeName: 'tInformationRequirement',\n        baseTypeInfo: '.TDMNElement',\n        propertyInfos: [{\n            name: 'otherAttributes',\n            type: 'anyAttribute'\n          }, {\n            name: 'requiredDecision',\n            required: true,\n            typeInfo: '.TDMNElementReference'\n          }, {\n            name: 'requiredInput',\n            required: true,\n            typeInfo: '.TDMNElementReference'\n          }]\n      }, {\n        localName: 'DMNDecisionServiceDividerLine',\n        typeName: {\n          namespaceURI: 'http:\\/\\/www.omg.org\\/spec\\/DMN\\/20180521\\/DMNDI\\/',\n          localPart: 'DMNDecisionServiceDividerLine'\n        },\n        baseTypeInfo: '.Edge',\n        propertyInfos: [{\n            name: 'otherAttributes',\n            type: 'anyAttribute'\n          }]\n      }, {\n        localName: 'TInputData',\n        typeName: 'tInputData',\n        baseTypeInfo: '.TDRGElement',\n        propertyInfos: [{\n            name: 'otherAttributes',\n            type: 'anyAttribute'\n          }, {\n            name: 'variable',\n            typeInfo: '.TInformationItem'\n          }]\n      }, {\n        localName: 'TOutputClause',\n        typeName: 'tOutputClause',\n        baseTypeInfo: '.TDMNElement',\n        propertyInfos: [{\n            name: 'otherAttributes',\n            type: 'anyAttribute'\n          }, {\n            name: 'outputValues',\n            typeInfo: '.TUnaryTests'\n          }, {\n            name: 'defaultOutputEntry',\n            typeInfo: '.TLiteralExpression'\n          }, {\n            name: 'name',\n            attributeName: {\n              localPart: 'name'\n            },\n            type: 'attribute'\n          }, {\n            name: 'typeRef',\n            attributeName: {\n              localPart: 'typeRef'\n            },\n            type: 'attribute'\n          }]\n      }, {\n        localName: 'TDecision',\n        typeName: 'tDecision',\n        baseTypeInfo: '.TDRGElement',\n        propertyInfos: [{\n            name: 'otherAttributes',\n            type: 'anyAttribute'\n          }, {\n            name: 'question'\n          }, {\n            name: 'allowedAnswers'\n          }, {\n            name: 'variable',\n            typeInfo: '.TInformationItem'\n          }, {\n            name: 'informationRequirement',\n            minOccurs: 0,\n            collection: true,\n            typeInfo: '.TInformationRequirement'\n          }, {\n            name: 'knowledgeRequirement',\n            minOccurs: 0,\n            collection: true,\n            typeInfo: '.TKnowledgeRequirement'\n          }, {\n            name: 'authorityRequirement',\n            minOccurs: 0,\n            collection: true,\n            typeInfo: '.TAuthorityRequirement'\n          }, {\n            name: 'supportedObjective',\n            minOccurs: 0,\n            collection: true,\n            typeInfo: '.TDMNElementReference'\n          }, {\n            name: 'impactedPerformanceIndicator',\n            minOccurs: 0,\n            collection: true,\n            typeInfo: '.TDMNElementReference'\n          }, {\n            name: 'decisionMaker',\n            minOccurs: 0,\n            collection: true,\n            typeInfo: '.TDMNElementReference'\n          }, {\n            name: 'decisionOwner',\n            minOccurs: 0,\n            collection: true,\n            typeInfo: '.TDMNElementReference'\n          }, {\n            name: 'usingProcess',\n            minOccurs: 0,\n            collection: true,\n            typeInfo: '.TDMNElementReference'\n          }, {\n            name: 'usingTask',\n            minOccurs: 0,\n            collection: true,\n            typeInfo: '.TDMNElementReference'\n          }, {\n            name: 'expression',\n            mixed: false,\n            allowDom: false,\n            typeInfo: '.TExpression',\n            type: 'elementRef'\n          }]\n      }, {\n        localName: 'Dimension',\n        typeName: {\n          namespaceURI: 'http:\\/\\/www.omg.org\\/spec\\/DMN\\/20180521\\/DC\\/',\n          localPart: 'Dimension'\n        },\n        propertyInfos: [{\n            name: 'width',\n            required: true,\n            typeInfo: 'Double',\n            attributeName: {\n              localPart: 'width'\n            },\n            type: 'attribute'\n          }, {\n            name: 'height',\n            required: true,\n            typeInfo: 'Double',\n            attributeName: {\n              localPart: 'height'\n            },\n            type: 'attribute'\n          }]\n      }, {\n        localName: 'TDMNElement.ExtensionElements',\n        typeName: null,\n        propertyInfos: [{\n            name: 'any',\n            minOccurs: 0,\n            collection: true,\n            mixed: false,\n            type: 'anyElement'\n          }]\n      }, {\n        localName: 'TOrganizationUnit',\n        typeName: 'tOrganizationUnit',\n        baseTypeInfo: '.TBusinessContextElement',\n        propertyInfos: [{\n            name: 'otherAttributes',\n            type: 'anyAttribute'\n          }, {\n            name: 'decisionMade',\n            minOccurs: 0,\n            collection: true,\n            typeInfo: '.TDMNElementReference'\n          }, {\n            name: 'decisionOwned',\n            minOccurs: 0,\n            collection: true,\n            typeInfo: '.TDMNElementReference'\n          }]\n      }, {\n        localName: 'DMNShape',\n        typeName: {\n          namespaceURI: 'http:\\/\\/www.omg.org\\/spec\\/DMN\\/20180521\\/DMNDI\\/',\n          localPart: 'DMNShape'\n        },\n        baseTypeInfo: '.Shape',\n        propertyInfos: [{\n            name: 'otherAttributes',\n            type: 'anyAttribute'\n          }, {\n            name: 'dmnLabel',\n            elementName: {\n              localPart: 'DMNLabel',\n              namespaceURI: 'http:\\/\\/www.omg.org\\/spec\\/DMN\\/20180521\\/DMNDI\\/'\n            },\n            typeInfo: '.DMNLabel'\n          }, {\n            name: 'dmnDecisionServiceDividerLine',\n            elementName: {\n              localPart: 'DMNDecisionServiceDividerLine',\n              namespaceURI: 'http:\\/\\/www.omg.org\\/spec\\/DMN\\/20180521\\/DMNDI\\/'\n            },\n            typeInfo: '.DMNDecisionServiceDividerLine'\n          }, {\n            name: 'dmnElementRef',\n            required: true,\n            typeInfo: 'QName',\n            attributeName: {\n              localPart: 'dmnElementRef'\n            },\n            type: 'attribute'\n          }, {\n            name: 'isListedInputData',\n            typeInfo: 'Boolean',\n            attributeName: {\n              localPart: 'isListedInputData'\n            },\n            type: 'attribute'\n          }, {\n            name: 'isCollapsed',\n            typeInfo: 'Boolean',\n            attributeName: {\n              localPart: 'isCollapsed'\n            },\n            type: 'attribute'\n          }]\n      }, {\n        localName: 'TAuthorityRequirement',\n        typeName: 'tAuthorityRequirement',\n        baseTypeInfo: '.TDMNElement',\n        propertyInfos: [{\n            name: 'otherAttributes',\n            type: 'anyAttribute'\n          }, {\n            name: 'requiredDecision',\n            required: true,\n            typeInfo: '.TDMNElementReference'\n          }, {\n            name: 'requiredInput',\n            required: true,\n            typeInfo: '.TDMNElementReference'\n          }, {\n            name: 'requiredAuthority',\n            required: true,\n            typeInfo: '.TDMNElementReference'\n          }]\n      }, {\n        localName: 'DMNStyle',\n        typeName: {\n          namespaceURI: 'http:\\/\\/www.omg.org\\/spec\\/DMN\\/20180521\\/DMNDI\\/',\n          localPart: 'DMNStyle'\n        },\n        baseTypeInfo: '.Style',\n        propertyInfos: [{\n            name: 'otherAttributes',\n            type: 'anyAttribute'\n          }, {\n            name: 'fillColor',\n            elementName: {\n              localPart: 'FillColor',\n              namespaceURI: 'http:\\/\\/www.omg.org\\/spec\\/DMN\\/20180521\\/DMNDI\\/'\n            },\n            typeInfo: '.Color'\n          }, {\n            name: 'strokeColor',\n            elementName: {\n              localPart: 'StrokeColor',\n              namespaceURI: 'http:\\/\\/www.omg.org\\/spec\\/DMN\\/20180521\\/DMNDI\\/'\n            },\n            typeInfo: '.Color'\n          }, {\n            name: 'fontColor',\n            elementName: {\n              localPart: 'FontColor',\n              namespaceURI: 'http:\\/\\/www.omg.org\\/spec\\/DMN\\/20180521\\/DMNDI\\/'\n            },\n            typeInfo: '.Color'\n          }, {\n            name: 'fontFamily',\n            attributeName: {\n              localPart: 'fontFamily'\n            },\n            type: 'attribute'\n          }, {\n            name: 'fontSize',\n            typeInfo: 'Double',\n            attributeName: {\n              localPart: 'fontSize'\n            },\n            type: 'attribute'\n          }, {\n            name: 'fontItalic',\n            typeInfo: 'Boolean',\n            attributeName: {\n              localPart: 'fontItalic'\n            },\n            type: 'attribute'\n          }, {\n            name: 'fontBold',\n            typeInfo: 'Boolean',\n            attributeName: {\n              localPart: 'fontBold'\n            },\n            type: 'attribute'\n          }, {\n            name: 'fontUnderline',\n            typeInfo: 'Boolean',\n            attributeName: {\n              localPart: 'fontUnderline'\n            },\n            type: 'attribute'\n          }, {\n            name: 'fontStrikeThrough',\n            typeInfo: 'Boolean',\n            attributeName: {\n              localPart: 'fontStrikeThrough'\n            },\n            type: 'attribute'\n          }, {\n            name: 'labelHorizontalAlignement',\n            typeInfo: '.AlignmentKind',\n            attributeName: {\n              localPart: 'labelHorizontalAlignement'\n            },\n            type: 'attribute'\n          }, {\n            name: 'labelVerticalAlignment',\n            typeInfo: '.AlignmentKind',\n            attributeName: {\n              localPart: 'labelVerticalAlignment'\n            },\n            type: 'attribute'\n          }]\n      }, {\n        localName: 'Bounds',\n        typeName: {\n          namespaceURI: 'http:\\/\\/www.omg.org\\/spec\\/DMN\\/20180521\\/DC\\/',\n          localPart: 'Bounds'\n        },\n        propertyInfos: [{\n            name: 'x',\n            required: true,\n            typeInfo: 'Double',\n            attributeName: {\n              localPart: 'x'\n            },\n            type: 'attribute'\n          }, {\n            name: 'y',\n            required: true,\n            typeInfo: 'Double',\n            attributeName: {\n              localPart: 'y'\n            },\n            type: 'attribute'\n          }, {\n            name: 'width',\n            required: true,\n            typeInfo: 'Double',\n            attributeName: {\n              localPart: 'width'\n            },\n            type: 'attribute'\n          }, {\n            name: 'height',\n            required: true,\n            typeInfo: 'Double',\n            attributeName: {\n              localPart: 'height'\n            },\n            type: 'attribute'\n          }]\n      }, {\n        localName: 'Style.Extension',\n        typeName: null,\n        propertyInfos: [{\n            name: 'any',\n            minOccurs: 0,\n            collection: true,\n            mixed: false,\n            type: 'anyElement'\n          }]\n      }, {\n        localName: 'TBinding',\n        typeName: 'tBinding',\n        propertyInfos: [{\n            name: 'parameter',\n            required: true,\n            typeInfo: '.TInformationItem'\n          }, {\n            name: 'expression',\n            mixed: false,\n            allowDom: false,\n            typeInfo: '.TExpression',\n            type: 'elementRef'\n          }]\n      }, {\n        localName: 'TDMNElement',\n        typeName: 'tDMNElement',\n        propertyInfos: [{\n            name: 'otherAttributes',\n            type: 'anyAttribute'\n          }, {\n            name: 'description'\n          }, {\n            name: 'extensionElements',\n            typeInfo: '.TDMNElement.ExtensionElements'\n          }, {\n            name: 'id',\n            typeInfo: 'ID',\n            attributeName: {\n              localPart: 'id'\n            },\n            type: 'attribute'\n          }, {\n            name: 'label',\n            attributeName: {\n              localPart: 'label'\n            },\n            type: 'attribute'\n          }]\n      }, {\n        localName: 'TKnowledgeRequirement',\n        typeName: 'tKnowledgeRequirement',\n        baseTypeInfo: '.TDMNElement',\n        propertyInfos: [{\n            name: 'otherAttributes',\n            type: 'anyAttribute'\n          }, {\n            name: 'requiredKnowledge',\n            required: true,\n            typeInfo: '.TDMNElementReference'\n          }]\n      }, {\n        localName: 'Shape',\n        typeName: {\n          namespaceURI: 'http:\\/\\/www.omg.org\\/spec\\/DMN\\/20180521\\/DI\\/',\n          localPart: 'Shape'\n        },\n        baseTypeInfo: '.DiagramElement',\n        propertyInfos: [{\n            name: 'otherAttributes',\n            type: 'anyAttribute'\n          }, {\n            name: 'bounds',\n            elementName: {\n              localPart: 'Bounds',\n              namespaceURI: 'http:\\/\\/www.omg.org\\/spec\\/DMN\\/20180521\\/DC\\/'\n            },\n            typeInfo: '.Bounds'\n          }]\n      }, {\n        localName: 'TLiteralExpression',\n        typeName: 'tLiteralExpression',\n        baseTypeInfo: '.TExpression',\n        propertyInfos: [{\n            name: 'otherAttributes',\n            type: 'anyAttribute'\n          }, {\n            name: 'text',\n            required: true\n          }, {\n            name: 'importedValues',\n            required: true,\n            typeInfo: '.TImportedValues'\n          }, {\n            name: 'expressionLanguage',\n            attributeName: {\n              localPart: 'expressionLanguage'\n            },\n            type: 'attribute'\n          }]\n      }, {\n        localName: 'TBusinessKnowledgeModel',\n        typeName: 'tBusinessKnowledgeModel',\n        baseTypeInfo: '.TInvocable',\n        propertyInfos: [{\n            name: 'otherAttributes',\n            type: 'anyAttribute'\n          }, {\n            name: 'encapsulatedLogic',\n            typeInfo: '.TFunctionDefinition'\n          }, {\n            name: 'knowledgeRequirement',\n            minOccurs: 0,\n            collection: true,\n            typeInfo: '.TKnowledgeRequirement'\n          }, {\n            name: 'authorityRequirement',\n            minOccurs: 0,\n            collection: true,\n            typeInfo: '.TAuthorityRequirement'\n          }]\n      }, {\n        localName: 'TContextEntry',\n        typeName: 'tContextEntry',\n        baseTypeInfo: '.TDMNElement',\n        propertyInfos: [{\n            name: 'otherAttributes',\n            type: 'anyAttribute'\n          }, {\n            name: 'variable',\n            typeInfo: '.TInformationItem'\n          }, {\n            name: 'expression',\n            required: true,\n            mixed: false,\n            allowDom: false,\n            typeInfo: '.TExpression',\n            type: 'elementRef'\n          }]\n      }, {\n        localName: 'TRelation',\n        typeName: 'tRelation',\n        baseTypeInfo: '.TExpression',\n        propertyInfos: [{\n            name: 'otherAttributes',\n            type: 'anyAttribute'\n          }, {\n            name: 'column',\n            minOccurs: 0,\n            collection: true,\n            typeInfo: '.TInformationItem'\n          }, {\n            name: 'row',\n            minOccurs: 0,\n            collection: true,\n            typeInfo: '.TList'\n          }]\n      }, {\n        localName: 'TInputClause',\n        typeName: 'tInputClause',\n        baseTypeInfo: '.TDMNElement',\n        propertyInfos: [{\n            name: 'otherAttributes',\n            type: 'anyAttribute'\n          }, {\n            name: 'inputExpression',\n            required: true,\n            typeInfo: '.TLiteralExpression'\n          }, {\n            name: 'inputValues',\n            typeInfo: '.TUnaryTests'\n          }]\n      }, {\n        localName: 'TImportedValues',\n        typeName: 'tImportedValues',\n        baseTypeInfo: '.TImport',\n        propertyInfos: [{\n            name: 'otherAttributes',\n            type: 'anyAttribute'\n          }, {\n            name: 'importedElement',\n            required: true\n          }, {\n            name: 'expressionLanguage',\n            attributeName: {\n              localPart: 'expressionLanguage'\n            },\n            type: 'attribute'\n          }]\n      }, {\n        localName: 'TNamedElement',\n        typeName: 'tNamedElement',\n        baseTypeInfo: '.TDMNElement',\n        propertyInfos: [{\n            name: 'otherAttributes',\n            type: 'anyAttribute'\n          }, {\n            name: 'name',\n            required: true,\n            attributeName: {\n              localPart: 'name'\n            },\n            type: 'attribute'\n          }]\n      }, {\n        localName: 'TArtifact',\n        typeName: 'tArtifact',\n        baseTypeInfo: '.TDMNElement',\n        propertyInfos: [{\n            name: 'otherAttributes',\n            type: 'anyAttribute'\n          }]\n      }, {\n        localName: 'TTextAnnotation',\n        typeName: 'tTextAnnotation',\n        baseTypeInfo: '.TArtifact',\n        propertyInfos: [{\n            name: 'otherAttributes',\n            type: 'anyAttribute'\n          }, {\n            name: 'text'\n          }, {\n            name: 'textFormat',\n            attributeName: {\n              localPart: 'textFormat'\n            },\n            type: 'attribute'\n          }]\n      }, {\n        localName: 'TInformationItem',\n        typeName: 'tInformationItem',\n        baseTypeInfo: '.TNamedElement',\n        propertyInfos: [{\n            name: 'otherAttributes',\n            type: 'anyAttribute'\n          }, {\n            name: 'typeRef',\n            attributeName: {\n              localPart: 'typeRef'\n            },\n            type: 'attribute'\n          }]\n      }, {\n        localName: 'Style',\n        typeName: {\n          namespaceURI: 'http:\\/\\/www.omg.org\\/spec\\/DMN\\/20180521\\/DI\\/',\n          localPart: 'Style'\n        },\n        propertyInfos: [{\n            name: 'otherAttributes',\n            type: 'anyAttribute'\n          }, {\n            name: 'extension',\n            elementName: {\n              localPart: 'extension',\n              namespaceURI: 'http:\\/\\/www.omg.org\\/spec\\/DMN\\/20180521\\/DI\\/'\n            },\n            typeInfo: '.Style.Extension'\n          }, {\n            name: 'id',\n            typeInfo: 'ID',\n            attributeName: {\n              localPart: 'id'\n            },\n            type: 'attribute'\n          }]\n      }, {\n        localName: 'DMNLabel',\n        typeName: {\n          namespaceURI: 'http:\\/\\/www.omg.org\\/spec\\/DMN\\/20180521\\/DMNDI\\/',\n          localPart: 'DMNLabel'\n        },\n        baseTypeInfo: '.Shape',\n        propertyInfos: [{\n            name: 'otherAttributes',\n            type: 'anyAttribute'\n          }, {\n            name: 'text',\n            elementName: {\n              localPart: 'Text',\n              namespaceURI: 'http:\\/\\/www.omg.org\\/spec\\/DMN\\/20180521\\/DMNDI\\/'\n            }\n          }]\n      }, {\n        localName: 'TRuleAnnotationClause',\n        typeName: 'tRuleAnnotationClause',\n        propertyInfos: [{\n            name: 'name',\n            attributeName: {\n              localPart: 'name'\n            },\n            type: 'attribute'\n          }]\n      }, {\n        localName: 'TAssociation',\n        typeName: 'tAssociation',\n        baseTypeInfo: '.TArtifact',\n        propertyInfos: [{\n            name: 'otherAttributes',\n            type: 'anyAttribute'\n          }, {\n            name: 'sourceRef',\n            required: true,\n            typeInfo: '.TDMNElementReference'\n          }, {\n            name: 'targetRef',\n            required: true,\n            typeInfo: '.TDMNElementReference'\n          }, {\n            name: 'associationDirection',\n            typeInfo: '.TAssociationDirection',\n            attributeName: {\n              localPart: 'associationDirection'\n            },\n            type: 'attribute'\n          }]\n      }, {\n        localName: 'DMNEdge',\n        typeName: {\n          namespaceURI: 'http:\\/\\/www.omg.org\\/spec\\/DMN\\/20180521\\/DMNDI\\/',\n          localPart: 'DMNEdge'\n        },\n        baseTypeInfo: '.Edge',\n        propertyInfos: [{\n            name: 'otherAttributes',\n            type: 'anyAttribute'\n          }, {\n            name: 'dmnLabel',\n            elementName: {\n              localPart: 'DMNLabel',\n              namespaceURI: 'http:\\/\\/www.omg.org\\/spec\\/DMN\\/20180521\\/DMNDI\\/'\n            },\n            typeInfo: '.DMNLabel'\n          }, {\n            name: 'dmnElementRef',\n            required: true,\n            typeInfo: 'QName',\n            attributeName: {\n              localPart: 'dmnElementRef'\n            },\n            type: 'attribute'\n          }]\n      }, {\n        localName: 'TUnaryTests',\n        typeName: 'tUnaryTests',\n        baseTypeInfo: '.TDMNElement',\n        propertyInfos: [{\n            name: 'otherAttributes',\n            type: 'anyAttribute'\n          }, {\n            name: 'text',\n            required: true\n          }, {\n            name: 'expressionLanguage',\n            attributeName: {\n              localPart: 'expressionLanguage'\n            },\n            type: 'attribute'\n          }]\n      }, {\n        localName: 'TDefinitions',\n        typeName: 'tDefinitions',\n        baseTypeInfo: '.TNamedElement',\n        propertyInfos: [{\n            name: 'otherAttributes',\n            type: 'anyAttribute'\n          }, {\n            name: '_import',\n            minOccurs: 0,\n            collection: true,\n            elementName: 'import',\n            typeInfo: '.TImport'\n          }, {\n            name: 'itemDefinition',\n            minOccurs: 0,\n            collection: true,\n            typeInfo: '.TItemDefinition'\n          }, {\n            name: 'drgElement',\n            minOccurs: 0,\n            collection: true,\n            mixed: false,\n            allowDom: false,\n            typeInfo: '.TDRGElement',\n            type: 'elementRef'\n          }, {\n            name: 'artifact',\n            minOccurs: 0,\n            collection: true,\n            mixed: false,\n            allowDom: false,\n            typeInfo: '.TArtifact',\n            type: 'elementRef'\n          }, {\n            name: 'elementCollection',\n            minOccurs: 0,\n            collection: true,\n            typeInfo: '.TElementCollection'\n          }, {\n            name: 'businessContextElement',\n            minOccurs: 0,\n            collection: true,\n            mixed: false,\n            allowDom: false,\n            typeInfo: '.TBusinessContextElement',\n            type: 'elementRef'\n          }, {\n            name: 'dmndi',\n            elementName: {\n              localPart: 'DMNDI',\n              namespaceURI: 'http:\\/\\/www.omg.org\\/spec\\/DMN\\/20180521\\/DMNDI\\/'\n            },\n            typeInfo: '.DMNDI'\n          }, {\n            name: 'expressionLanguage',\n            attributeName: {\n              localPart: 'expressionLanguage'\n            },\n            type: 'attribute'\n          }, {\n            name: 'typeLanguage',\n            attributeName: {\n              localPart: 'typeLanguage'\n            },\n            type: 'attribute'\n          }, {\n            name: 'namespace',\n            required: true,\n            attributeName: {\n              localPart: 'namespace'\n            },\n            type: 'attribute'\n          }, {\n            name: 'exporter',\n            attributeName: {\n              localPart: 'exporter'\n            },\n            type: 'attribute'\n          }, {\n            name: 'exporterVersion',\n            attributeName: {\n              localPart: 'exporterVersion'\n            },\n            type: 'attribute'\n          }]\n      }, {\n        localName: 'TDecisionRule',\n        typeName: 'tDecisionRule',\n        baseTypeInfo: '.TDMNElement',\n        propertyInfos: [{\n            name: 'otherAttributes',\n            type: 'anyAttribute'\n          }, {\n            name: 'inputEntry',\n            minOccurs: 0,\n            collection: true,\n            typeInfo: '.TUnaryTests'\n          }, {\n            name: 'outputEntry',\n            required: true,\n            collection: true,\n            typeInfo: '.TLiteralExpression'\n          }, {\n            name: 'annotationEntry',\n            minOccurs: 0,\n            collection: true,\n            typeInfo: '.TRuleAnnotation'\n          }]\n      }, {\n        localName: 'TDRGElement',\n        typeName: 'tDRGElement',\n        baseTypeInfo: '.TNamedElement',\n        propertyInfos: [{\n            name: 'otherAttributes',\n            type: 'anyAttribute'\n          }]\n      }, {\n        localName: 'TFunctionDefinition',\n        typeName: 'tFunctionDefinition',\n        baseTypeInfo: '.TExpression',\n        propertyInfos: [{\n            name: 'otherAttributes',\n            type: 'anyAttribute'\n          }, {\n            name: 'formalParameter',\n            minOccurs: 0,\n            collection: true,\n            typeInfo: '.TInformationItem'\n          }, {\n            name: 'expression',\n            mixed: false,\n            allowDom: false,\n            typeInfo: '.TExpression',\n            type: 'elementRef'\n          }, {\n            name: 'kind',\n            typeInfo: '.TFunctionKind',\n            attributeName: {\n              localPart: 'kind'\n            },\n            type: 'attribute'\n          }]\n      }, {\n        localName: 'TInvocable',\n        typeName: 'tInvocable',\n        baseTypeInfo: '.TDRGElement',\n        propertyInfos: [{\n            name: 'otherAttributes',\n            type: 'anyAttribute'\n          }, {\n            name: 'variable',\n            typeInfo: '.TInformationItem'\n          }]\n      }, {\n        localName: 'Color',\n        typeName: {\n          namespaceURI: 'http:\\/\\/www.omg.org\\/spec\\/DMN\\/20180521\\/DC\\/',\n          localPart: 'Color'\n        },\n        propertyInfos: [{\n            name: 'red',\n            required: true,\n            typeInfo: 'Int',\n            attributeName: {\n              localPart: 'red'\n            },\n            type: 'attribute'\n          }, {\n            name: 'green',\n            required: true,\n            typeInfo: 'Int',\n            attributeName: {\n              localPart: 'green'\n            },\n            type: 'attribute'\n          }, {\n            name: 'blue',\n            required: true,\n            typeInfo: 'Int',\n            attributeName: {\n              localPart: 'blue'\n            },\n            type: 'attribute'\n          }]\n      }, {\n        localName: 'TBusinessContextElement',\n        typeName: 'tBusinessContextElement',\n        baseTypeInfo: '.TNamedElement',\n        propertyInfos: [{\n            name: 'otherAttributes',\n            type: 'anyAttribute'\n          }, {\n            name: 'uri',\n            attributeName: {\n              localPart: 'URI'\n            },\n            type: 'attribute'\n          }]\n      }, {\n        localName: 'TKnowledgeSource',\n        typeName: 'tKnowledgeSource',\n        baseTypeInfo: '.TDRGElement',\n        propertyInfos: [{\n            name: 'otherAttributes',\n            type: 'anyAttribute'\n          }, {\n            name: 'authorityRequirement',\n            minOccurs: 0,\n            collection: true,\n            typeInfo: '.TAuthorityRequirement'\n          }, {\n            name: 'type'\n          }, {\n            name: 'owner',\n            typeInfo: '.TDMNElementReference'\n          }, {\n            name: 'locationURI',\n            attributeName: {\n              localPart: 'locationURI'\n            },\n            type: 'attribute'\n          }]\n      }, {\n        localName: 'DiagramElement',\n        typeName: {\n          namespaceURI: 'http:\\/\\/www.omg.org\\/spec\\/DMN\\/20180521\\/DI\\/',\n          localPart: 'DiagramElement'\n        },\n        propertyInfos: [{\n            name: 'otherAttributes',\n            type: 'anyAttribute'\n          }, {\n            name: 'extension',\n            elementName: {\n              localPart: 'extension',\n              namespaceURI: 'http:\\/\\/www.omg.org\\/spec\\/DMN\\/20180521\\/DI\\/'\n            },\n            typeInfo: '.DiagramElement.Extension'\n          }, {\n            name: 'style',\n            mixed: false,\n            allowDom: false,\n            elementName: {\n              localPart: 'Style',\n              namespaceURI: 'http:\\/\\/www.omg.org\\/spec\\/DMN\\/20180521\\/DI\\/'\n            },\n            typeInfo: '.Style',\n            type: 'elementRef'\n          }, {\n            name: 'sharedStyle',\n            typeInfo: 'IDREF',\n            attributeName: {\n              localPart: 'sharedStyle'\n            },\n            type: 'attribute'\n          }, {\n            name: 'id',\n            typeInfo: 'ID',\n            attributeName: {\n              localPart: 'id'\n            },\n            type: 'attribute'\n          }]\n      }, {\n        localName: 'TDecisionTable',\n        typeName: 'tDecisionTable',\n        baseTypeInfo: '.TExpression',\n        propertyInfos: [{\n            name: 'otherAttributes',\n            type: 'anyAttribute'\n          }, {\n            name: 'input',\n            minOccurs: 0,\n            collection: true,\n            typeInfo: '.TInputClause'\n          }, {\n            name: 'output',\n            required: true,\n            collection: true,\n            typeInfo: '.TOutputClause'\n          }, {\n            name: 'annotation',\n            minOccurs: 0,\n            collection: true,\n            typeInfo: '.TRuleAnnotationClause'\n          }, {\n            name: 'rule',\n            minOccurs: 0,\n            collection: true,\n            typeInfo: '.TDecisionRule'\n          }, {\n            name: 'hitPolicy',\n            typeInfo: '.THitPolicy',\n            attributeName: {\n              localPart: 'hitPolicy'\n            },\n            type: 'attribute'\n          }, {\n            name: 'aggregation',\n            typeInfo: '.TBuiltinAggregator',\n            attributeName: {\n              localPart: 'aggregation'\n            },\n            type: 'attribute'\n          }, {\n            name: 'preferredOrientation',\n            typeInfo: '.TDecisionTableOrientation',\n            attributeName: {\n              localPart: 'preferredOrientation'\n            },\n            type: 'attribute'\n          }, {\n            name: 'outputLabel',\n            attributeName: {\n              localPart: 'outputLabel'\n            },\n            type: 'attribute'\n          }]\n      }, {\n        localName: 'TPerformanceIndicator',\n        typeName: 'tPerformanceIndicator',\n        baseTypeInfo: '.TBusinessContextElement',\n        propertyInfos: [{\n            name: 'otherAttributes',\n            type: 'anyAttribute'\n          }, {\n            name: 'impactingDecision',\n            minOccurs: 0,\n            collection: true,\n            typeInfo: '.TDMNElementReference'\n          }]\n      }, {\n        localName: 'DiagramElement.Extension',\n        typeName: null,\n        propertyInfos: [{\n            name: 'any',\n            minOccurs: 0,\n            collection: true,\n            mixed: false,\n            type: 'anyElement'\n          }]\n      }, {\n        localName: 'TRuleAnnotation',\n        typeName: 'tRuleAnnotation',\n        propertyInfos: [{\n            name: 'text'\n          }]\n      }, {\n        localName: 'Diagram',\n        typeName: {\n          namespaceURI: 'http:\\/\\/www.omg.org\\/spec\\/DMN\\/20180521\\/DI\\/',\n          localPart: 'Diagram'\n        },\n        baseTypeInfo: '.DiagramElement',\n        propertyInfos: [{\n            name: 'otherAttributes',\n            type: 'anyAttribute'\n          }, {\n            name: 'name',\n            attributeName: {\n              localPart: 'name'\n            },\n            type: 'attribute'\n          }, {\n            name: 'documentation',\n            attributeName: {\n              localPart: 'documentation'\n            },\n            type: 'attribute'\n          }, {\n            name: 'resolution',\n            typeInfo: 'Double',\n            attributeName: {\n              localPart: 'resolution'\n            },\n            type: 'attribute'\n          }]\n      }, {\n        localName: 'TContext',\n        typeName: 'tContext',\n        baseTypeInfo: '.TExpression',\n        propertyInfos: [{\n            name: 'otherAttributes',\n            type: 'anyAttribute'\n          }, {\n            name: 'contextEntry',\n            minOccurs: 0,\n            collection: true,\n            typeInfo: '.TContextEntry'\n          }]\n      }, {\n        localName: 'DMNDiagram',\n        typeName: {\n          namespaceURI: 'http:\\/\\/www.omg.org\\/spec\\/DMN\\/20180521\\/DMNDI\\/',\n          localPart: 'DMNDiagram'\n        },\n        baseTypeInfo: '.Diagram',\n        propertyInfos: [{\n            name: 'otherAttributes',\n            type: 'anyAttribute'\n          }, {\n            name: 'size',\n            elementName: {\n              localPart: 'Size',\n              namespaceURI: 'http:\\/\\/www.omg.org\\/spec\\/DMN\\/20180521\\/DMNDI\\/'\n            },\n            typeInfo: '.Dimension'\n          }, {\n            name: 'dmnDiagramElement',\n            minOccurs: 0,\n            collection: true,\n            mixed: false,\n            allowDom: false,\n            elementName: {\n              localPart: 'DMNDiagramElement',\n              namespaceURI: 'http:\\/\\/www.omg.org\\/spec\\/DMN\\/20180521\\/DMNDI\\/'\n            },\n            typeInfo: '.DiagramElement',\n            type: 'elementRef'\n          }]\n      }, {\n        localName: 'TExpression',\n        typeName: 'tExpression',\n        baseTypeInfo: '.TDMNElement',\n        propertyInfos: [{\n            name: 'otherAttributes',\n            type: 'anyAttribute'\n          }, {\n            name: 'typeRef',\n            attributeName: {\n              localPart: 'typeRef'\n            },\n            type: 'attribute'\n          }]\n      }, {\n        localName: 'Point',\n        typeName: {\n          namespaceURI: 'http:\\/\\/www.omg.org\\/spec\\/DMN\\/20180521\\/DC\\/',\n          localPart: 'Point'\n        },\n        propertyInfos: [{\n            name: 'x',\n            required: true,\n            typeInfo: 'Double',\n            attributeName: {\n              localPart: 'x'\n            },\n            type: 'attribute'\n          }, {\n            name: 'y',\n            required: true,\n            typeInfo: 'Double',\n            attributeName: {\n              localPart: 'y'\n            },\n            type: 'attribute'\n          }]\n      }, {\n        localName: 'TDMNElementReference',\n        typeName: 'tDMNElementReference',\n        propertyInfos: [{\n            name: 'href',\n            required: true,\n            attributeName: {\n              localPart: 'href'\n            },\n            type: 'attribute'\n          }]\n      }, {\n        localName: 'TElementCollection',\n        typeName: 'tElementCollection',\n        baseTypeInfo: '.TNamedElement',\n        propertyInfos: [{\n            name: 'otherAttributes',\n            type: 'anyAttribute'\n          }, {\n            name: 'drgElement',\n            minOccurs: 0,\n            collection: true,\n            typeInfo: '.TDMNElementReference'\n          }]\n      }, {\n        localName: 'TImport',\n        typeName: 'tImport',\n        baseTypeInfo: '.TNamedElement',\n        propertyInfos: [{\n            name: 'otherAttributes',\n            type: 'anyAttribute'\n          }, {\n            name: 'namespace',\n            required: true,\n            attributeName: {\n              localPart: 'namespace'\n            },\n            type: 'attribute'\n          }, {\n            name: 'locationURI',\n            attributeName: {\n              localPart: 'locationURI'\n            },\n            type: 'attribute'\n          }, {\n            name: 'importType',\n            required: true,\n            attributeName: {\n              localPart: 'importType'\n            },\n            type: 'attribute'\n          }]\n      }, {\n        localName: 'DMNDI',\n        typeName: {\n          namespaceURI: 'http:\\/\\/www.omg.org\\/spec\\/DMN\\/20180521\\/DMNDI\\/',\n          localPart: 'DMNDI'\n        },\n        propertyInfos: [{\n            name: 'dmnDiagram',\n            minOccurs: 0,\n            collection: true,\n            elementName: {\n              localPart: 'DMNDiagram',\n              namespaceURI: 'http:\\/\\/www.omg.org\\/spec\\/DMN\\/20180521\\/DMNDI\\/'\n            },\n            typeInfo: '.DMNDiagram'\n          }, {\n            name: 'dmnStyle',\n            minOccurs: 0,\n            collection: true,\n            elementName: {\n              localPart: 'DMNStyle',\n              namespaceURI: 'http:\\/\\/www.omg.org\\/spec\\/DMN\\/20180521\\/DMNDI\\/'\n            },\n            typeInfo: '.DMNStyle'\n          }]\n      }, {\n        type: 'enumInfo',\n        localName: 'KnownColor',\n        values: ['maroon', 'red', 'orange', 'yellow', 'olive', 'purple', 'fuchsia', 'white', 'lime', 'green', 'navy', 'blue', 'aqua', 'teal', 'black', 'silver', 'gray']\n      }, {\n        type: 'enumInfo',\n        localName: 'TAssociationDirection',\n        values: ['None', 'One', 'Both']\n      }, {\n        type: 'enumInfo',\n        localName: 'AlignmentKind',\n        values: ['start', 'end', 'center']\n      }, {\n        type: 'enumInfo',\n        localName: 'TFunctionKind',\n        values: ['FEEL', 'Java', 'PMML']\n      }, {\n        type: 'enumInfo',\n        localName: 'TBuiltinAggregator',\n        values: ['SUM', 'COUNT', 'MIN', 'MAX']\n      }, {\n        type: 'enumInfo',\n        localName: 'TDecisionTableOrientation',\n        values: ['Rule-as-Row', 'Rule-as-Column', 'CrossTable']\n      }, {\n        type: 'enumInfo',\n        localName: 'THitPolicy',\n        values: ['UNIQUE', 'FIRST', 'PRIORITY', 'ANY', 'COLLECT', 'RULE ORDER', 'OUTPUT ORDER']\n      }],\n    elementInfos: [{\n        typeInfo: '.TRelation',\n        elementName: 'relation',\n        substitutionHead: 'expression'\n      }, {\n        typeInfo: '.TDMNElement',\n        elementName: 'DMNElement'\n      }, {\n        typeInfo: '.Point',\n        elementName: {\n          localPart: 'Point',\n          namespaceURI: 'http:\\/\\/www.omg.org\\/spec\\/DMN\\/20180521\\/DC\\/'\n        }\n      }, {\n        typeInfo: '.TKnowledgeSource',\n        elementName: 'knowledgeSource',\n        substitutionHead: 'drgElement'\n      }, {\n        typeInfo: '.TAuthorityRequirement',\n        elementName: 'authorityRequirement',\n        substitutionHead: 'DMNElement'\n      }, {\n        typeInfo: '.Dimension',\n        elementName: {\n          localPart: 'Dimension',\n          namespaceURI: 'http:\\/\\/www.omg.org\\/spec\\/DMN\\/20180521\\/DC\\/'\n        }\n      }, {\n        typeInfo: '.TPerformanceIndicator',\n        elementName: 'performanceIndicator',\n        substitutionHead: 'businessContextElement'\n      }, {\n        typeInfo: '.DMNShape',\n        elementName: {\n          localPart: 'DMNShape',\n          namespaceURI: 'http:\\/\\/www.omg.org\\/spec\\/DMN\\/20180521\\/DMNDI\\/'\n        },\n        substitutionHead: {\n          localPart: 'DMNDiagramElement',\n          namespaceURI: 'http:\\/\\/www.omg.org\\/spec\\/DMN\\/20180521\\/DMNDI\\/'\n        }\n      }, {\n        typeInfo: '.TNamedElement',\n        elementName: 'namedElement',\n        substitutionHead: 'DMNElement'\n      }, {\n        typeInfo: '.TArtifact',\n        elementName: 'artifact',\n        substitutionHead: 'DMNElement'\n      }, {\n        typeInfo: '.Style',\n        elementName: {\n          localPart: 'Style',\n          namespaceURI: 'http:\\/\\/www.omg.org\\/spec\\/DMN\\/20180521\\/DI\\/'\n        }\n      }, {\n        typeInfo: '.TList',\n        elementName: 'list',\n        substitutionHead: 'expression'\n      }, {\n        typeInfo: '.TAssociation',\n        elementName: 'association',\n        substitutionHead: 'artifact'\n      }, {\n        typeInfo: '.DMNDI',\n        elementName: {\n          localPart: 'DMNDI',\n          namespaceURI: 'http:\\/\\/www.omg.org\\/spec\\/DMN\\/20180521\\/DMNDI\\/'\n        }\n      }, {\n        typeInfo: '.TKnowledgeRequirement',\n        elementName: 'knowledgeRequirement',\n        substitutionHead: 'DMNElement'\n      }, {\n        typeInfo: '.TLiteralExpression',\n        elementName: 'literalExpression',\n        substitutionHead: 'expression'\n      }, {\n        typeInfo: '.TDefinitions',\n        elementName: 'definitions',\n        substitutionHead: 'namedElement'\n      }, {\n        typeInfo: '.TContextEntry',\n        elementName: 'contextEntry',\n        substitutionHead: 'DMNElement'\n      }, {\n        typeInfo: '.TDecisionService',\n        elementName: 'decisionService',\n        substitutionHead: 'invocable'\n      }, {\n        typeInfo: '.TOrganizationUnit',\n        elementName: 'organizationUnit',\n        substitutionHead: 'businessContextElement'\n      }, {\n        typeInfo: '.TDecision',\n        elementName: 'decision',\n        substitutionHead: 'drgElement'\n      }, {\n        typeInfo: '.TInformationItem',\n        elementName: 'informationItem',\n        substitutionHead: 'namedElement'\n      }, {\n        typeInfo: '.TDecisionTable',\n        elementName: 'decisionTable',\n        substitutionHead: 'expression'\n      }, {\n        typeInfo: '.TElementCollection',\n        elementName: 'elementCollection',\n        substitutionHead: 'namedElement'\n      }, {\n        typeInfo: '.DMNDecisionServiceDividerLine',\n        elementName: {\n          localPart: 'DMNDecisionServiceDividerLine',\n          namespaceURI: 'http:\\/\\/www.omg.org\\/spec\\/DMN\\/20180521\\/DMNDI\\/'\n        }\n      }, {\n        typeInfo: '.TExpression',\n        elementName: 'expression'\n      }, {\n        typeInfo: '.TFunctionDefinition',\n        elementName: 'functionDefinition',\n        substitutionHead: 'expression'\n      }, {\n        typeInfo: '.DMNDiagram',\n        elementName: {\n          localPart: 'DMNDiagram',\n          namespaceURI: 'http:\\/\\/www.omg.org\\/spec\\/DMN\\/20180521\\/DMNDI\\/'\n        }\n      }, {\n        typeInfo: '.DMNLabel',\n        elementName: {\n          localPart: 'DMNLabel',\n          namespaceURI: 'http:\\/\\/www.omg.org\\/spec\\/DMN\\/20180521\\/DMNDI\\/'\n        }\n      }, {\n        typeInfo: '.Color',\n        elementName: {\n          localPart: 'Color',\n          namespaceURI: 'http:\\/\\/www.omg.org\\/spec\\/DMN\\/20180521\\/DC\\/'\n        }\n      }, {\n        typeInfo: '.TTextAnnotation',\n        elementName: 'textAnnotation',\n        substitutionHead: 'artifact'\n      }, {\n        typeInfo: '.DiagramElement',\n        elementName: {\n          localPart: 'DMNDiagramElement',\n          namespaceURI: 'http:\\/\\/www.omg.org\\/spec\\/DMN\\/20180521\\/DMNDI\\/'\n        }\n      }, {\n        typeInfo: '.TInformationRequirement',\n        elementName: 'informationRequirement',\n        substitutionHead: 'DMNElement'\n      }, {\n        typeInfo: '.TContext',\n        elementName: 'context',\n        substitutionHead: 'expression'\n      }, {\n        typeInfo: '.TInputData',\n        elementName: 'inputData',\n        substitutionHead: 'drgElement'\n      }, {\n        typeInfo: '.TInvocation',\n        elementName: 'invocation',\n        substitutionHead: 'expression'\n      }, {\n        typeInfo: '.TDRGElement',\n        elementName: 'drgElement',\n        substitutionHead: 'namedElement'\n      }, {\n        typeInfo: '.TBusinessKnowledgeModel',\n        elementName: 'businessKnowledgeModel',\n        substitutionHead: 'invocable'\n      }, {\n        typeInfo: '.TInvocable',\n        elementName: 'invocable',\n        substitutionHead: 'drgElement'\n      }, {\n        typeInfo: '.TBusinessContextElement',\n        elementName: 'businessContextElement'\n      }, {\n        typeInfo: '.DMNStyle',\n        elementName: {\n          localPart: 'DMNStyle',\n          namespaceURI: 'http:\\/\\/www.omg.org\\/spec\\/DMN\\/20180521\\/DMNDI\\/'\n        },\n        substitutionHead: {\n          localPart: 'Style',\n          namespaceURI: 'http:\\/\\/www.omg.org\\/spec\\/DMN\\/20180521\\/DI\\/'\n        }\n      }, {\n        typeInfo: '.DMNEdge',\n        elementName: {\n          localPart: 'DMNEdge',\n          namespaceURI: 'http:\\/\\/www.omg.org\\/spec\\/DMN\\/20180521\\/DMNDI\\/'\n        },\n        substitutionHead: {\n          localPart: 'DMNDiagramElement',\n          namespaceURI: 'http:\\/\\/www.omg.org\\/spec\\/DMN\\/20180521\\/DMNDI\\/'\n        }\n      }, {\n        typeInfo: '.TItemDefinition',\n        elementName: 'itemDefinition',\n        substitutionHead: 'namedElement'\n      }, {\n        typeInfo: '.Bounds',\n        elementName: {\n          localPart: 'Bounds',\n          namespaceURI: 'http:\\/\\/www.omg.org\\/spec\\/DMN\\/20180521\\/DC\\/'\n        }\n      }, {\n        typeInfo: '.TImport',\n        elementName: 'import',\n        substitutionHead: 'namedElement'\n      }]\n  };\n  return {\n    dmn: dmn\n  };\n};\nif (typeof define === 'function' && define.amd) {\n  define([], dmn_Module_Factory);\n}\nelse {\n  var dmn_Module = dmn_Module_Factory();\n  if (typeof module !== 'undefined' && module.exports) {\n    module.exports.dmn = dmn_Module.dmn;\n  }\n  else {\n    var dmn = dmn_Module.dmn;\n  }\n}","/* eslint-disable */\nvar scesim_Module_Factory = function () {\n  var scesim = {\n    name: 'scesim',\n    typeInfos: [{\n        localName: 'ScenarioType',\n        propertyInfos: [{\n            name: 'factMappingValues',\n            required: true,\n            elementName: {\n              localPart: 'factMappingValues'\n            },\n            typeInfo: '.FactMappingValuesType'\n          }]\n      }, {\n        localName: 'SimulationType',\n        typeName: 'simulationType',\n        propertyInfos: [{\n            name: 'simulationDescriptor',\n            required: true,\n            elementName: {\n              localPart: 'simulationDescriptor'\n            },\n            typeInfo: '.SimulationDescriptorType'\n          }, {\n            name: 'scenarios',\n            required: true,\n            elementName: {\n              localPart: 'scenarios'\n            },\n            typeInfo: '.ScenariosType'\n          }]\n      }, {\n        localName: 'WrappedImportsType',\n        typeName: 'wrappedImportsType',\n        propertyInfos: [{\n            name: '_import',\n            minOccurs: 0,\n            collection: true,\n            elementName: {\n              localPart: 'Import'\n            },\n            typeInfo: '.ImportType'\n          }]\n      }, {\n        localName: 'ExpressionElementType',\n        propertyInfos: [{\n            name: 'step',\n            required: true,\n            elementName: {\n              localPart: 'step'\n            }\n          }]\n      }, {\n        localName: 'GenericTypes',\n        typeName: 'genericTypes',\n        propertyInfos: [{\n            name: 'string',\n            minOccurs: 0,\n            collection: true,\n            elementName: {\n              localPart: 'string'\n            }\n          }]\n      }, {\n        localName: 'FactMappingType',\n        propertyInfos: [{\n            name: 'expressionElements',\n            required: true,\n            elementName: {\n              localPart: 'expressionElements'\n            },\n            typeInfo: '.ExpressionElementsType'\n          }, {\n            name: 'expressionIdentifier',\n            required: true,\n            elementName: {\n              localPart: 'expressionIdentifier'\n            },\n            typeInfo: '.ExpressionIdentifierType'\n          }, {\n            name: 'factIdentifier',\n            required: true,\n            elementName: {\n              localPart: 'factIdentifier'\n            },\n            typeInfo: '.FactIdentifierType'\n          }, {\n            name: 'className',\n            required: true,\n            elementName: {\n              localPart: 'className'\n            }\n          }, {\n            name: 'factAlias',\n            required: true,\n            elementName: {\n              localPart: 'factAlias'\n            }\n          }, {\n            name: 'expressionAlias',\n            elementName: {\n              localPart: 'expressionAlias'\n            }\n          }, {\n            name: 'genericTypes',\n            required: true,\n            elementName: {\n              localPart: 'genericTypes'\n            },\n            typeInfo: '.GenericTypes'\n          }]\n      }, {\n        localName: 'FactMappingValuesType',\n        typeName: 'factMappingValuesType',\n        propertyInfos: [{\n            name: 'factMappingValue',\n            minOccurs: 0,\n            collection: true,\n            elementName: {\n              localPart: 'FactMappingValue'\n            },\n            typeInfo: '.FactMappingValueType'\n          }]\n      }, {\n        localName: 'ScenarioSimulationModelType',\n        propertyInfos: [{\n            name: 'simulation',\n            required: true,\n            elementName: {\n              localPart: 'simulation'\n            },\n            typeInfo: '.SimulationType'\n          }, {\n            name: 'imports',\n            required: true,\n            elementName: {\n              localPart: 'imports'\n            },\n            typeInfo: '.ImportsType'\n          }, {\n            name: 'version',\n            attributeName: {\n              localPart: 'version'\n            },\n            type: 'attribute'\n          }]\n      }, {\n        localName: 'FactMappingsType',\n        typeName: 'factMappingsType',\n        propertyInfos: [{\n            name: 'factMapping',\n            minOccurs: 0,\n            collection: true,\n            elementName: {\n              localPart: 'FactMapping'\n            },\n            typeInfo: '.FactMappingType'\n          }]\n      }, {\n        localName: 'FactIdentifierType',\n        typeName: 'factIdentifierType',\n        propertyInfos: [{\n            name: 'name',\n            elementName: {\n              localPart: 'name'\n            }\n          }, {\n            name: 'className',\n            elementName: {\n              localPart: 'className'\n            }\n          }]\n      }, {\n        localName: 'ScenariosType',\n        typeName: 'scenariosType',\n        propertyInfos: [{\n            name: 'scenario',\n            minOccurs: 0,\n            collection: true,\n            elementName: {\n              localPart: 'Scenario'\n            },\n            typeInfo: '.ScenarioType'\n          }]\n      }, {\n        localName: 'RawValueType',\n        typeName: 'rawValueType',\n        propertyInfos: [{\n            name: 'value',\n            type: 'value'\n          }, {\n            name: 'clazz',\n            attributeName: {\n              localPart: 'class'\n            },\n            type: 'attribute'\n          }]\n      }, {\n        localName: 'SimulationDescriptorType',\n        typeName: 'simulationDescriptorType',\n        propertyInfos: [{\n            name: 'factMappings',\n            elementName: {\n              localPart: 'factMappings'\n            },\n            typeInfo: '.FactMappingsType'\n          }, {\n            name: 'dmoSession',\n            elementName: {\n              localPart: 'dmoSession'\n            }\n          }, {\n            name: 'dmnFilePath',\n            elementName: {\n              localPart: 'dmnFilePath'\n            }\n          }, {\n            name: 'type',\n            elementName: {\n              localPart: 'type'\n            }\n          }, {\n            name: 'fileName',\n            elementName: {\n              localPart: 'fileName'\n            }\n          }, {\n            name: 'kieSession',\n            elementName: {\n              localPart: 'kieSession'\n            }\n          }, {\n            name: 'kieBase',\n            elementName: {\n              localPart: 'kieBase'\n            }\n          }, {\n            name: 'ruleFlowGroup',\n            elementName: {\n              localPart: 'ruleFlowGroup'\n            }\n          }, {\n            name: 'dmnNamespace',\n            elementName: {\n              localPart: 'dmnNamespace'\n            }\n          }, {\n            name: 'dmnName',\n            elementName: {\n              localPart: 'dmnName'\n            }\n          }, {\n            name: 'skipFromBuild',\n            elementName: {\n              localPart: 'skipFromBuild'\n            },\n            typeInfo: 'Boolean'\n          }]\n      }, {\n        localName: 'ExpressionElementsType',\n        typeName: 'expressionElementsType',\n        propertyInfos: [{\n            name: 'expressionElement',\n            required: true,\n            collection: true,\n            elementName: {\n              localPart: 'ExpressionElement'\n            },\n            typeInfo: '.ExpressionElementType'\n          }]\n      }, {\n        localName: 'FactMappingValueType',\n        propertyInfos: [{\n            name: 'factIdentifier',\n            required: true,\n            elementName: {\n              localPart: 'factIdentifier'\n            },\n            typeInfo: '.FactIdentifierType'\n          }, {\n            name: 'expressionIdentifier',\n            required: true,\n            elementName: {\n              localPart: 'expressionIdentifier'\n            },\n            typeInfo: '.ExpressionIdentifierType'\n          }, {\n            name: 'rawValue',\n            elementName: {\n              localPart: 'rawValue'\n            },\n            typeInfo: '.RawValueType'\n          }]\n      }, {\n        localName: 'ExpressionIdentifierType',\n        typeName: 'expressionIdentifierType',\n        propertyInfos: [{\n            name: 'name',\n            elementName: {\n              localPart: 'name'\n            }\n          }, {\n            name: 'type',\n            elementName: {\n              localPart: 'type'\n            }\n          }]\n      }, {\n        localName: 'ImportType',\n        propertyInfos: [{\n            name: 'type',\n            required: true,\n            elementName: {\n              localPart: 'type'\n            }\n          }]\n      }, {\n        localName: 'ImportsType',\n        typeName: 'importsType',\n        propertyInfos: [{\n            name: 'imports',\n            elementName: {\n              localPart: 'imports'\n            },\n            typeInfo: '.WrappedImportsType'\n          }]\n      }],\n    elementInfos: [{\n        typeInfo: '.ScenarioSimulationModelType',\n        elementName: {\n          localPart: 'ScenarioSimulationModel'\n        }\n      }]\n  };\n  return {\n    scesim: scesim\n  };\n};\nif (typeof define === 'function' && define.amd) {\n  define([], scesim_Module_Factory);\n}\nelse {\n  var scesim_Module = scesim_Module_Factory();\n  if (typeof module !== 'undefined' && module.exports) {\n    module.exports.scesim = scesim_Module.scesim;\n  }\n  else {\n    var scesim = scesim_Module.scesim;\n  }\n}","module.exports = require(\"@patternfly/react-core\");","module.exports = require(\"@patternfly/react-core/dist/js/experimental\");","module.exports = require(\"@patternfly/react-icons\");","module.exports = require(\"classnames\");","module.exports = require(\"react\");","module.exports = require(\"react-infinite-scroll-component\");","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tif(__webpack_module_cache__[moduleId]) {\n\t\treturn __webpack_module_cache__[moduleId].exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\ti: moduleId,\n\t\tl: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.l = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// module exports must be returned from runtime so entry inlining is disabled\n// startup\n// Load entry module and return exports\nreturn __webpack_require__(47);\n","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => module['default'] :\n\t\t() => module;\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(hasOwnProperty.call(definition, key) && !hasOwnProperty.call(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};"],"sourceRoot":""}